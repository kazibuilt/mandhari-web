!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=137)}([function(e,t,i){
/*!
 * @license twgl.js 4.24.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/twgl-base.js")}({"./src/attributes.js":
/*!***************************!*\
  !*** ./src/attributes.js ***!
  \***************************/
/*! no static exports found */function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.createAttribsFromArrays=y,t.createBuffersFromArrays=function(e,t){var i={};return Object.keys(t).forEach((function(n){i[n]=w(e,t[n],n)})),t.indices?(i.numElements=t.indices.length,i.elementType=r.getGLTypeForTypedArray(m(t.indices),"indices")):i.numElements=function(e){var t,i;for(i=0;i<b.length&&!((t=b[i])in e);++i);i===b.length&&(t=Object.keys(e)[0]);var n=e[t],r=d(n).length;if(void 0===r)return 1;var o=v(n,t),a=r/o;if(r%o>0)throw new Error("numComponents ".concat(o," not correct for length ").concat(r));return a}(t),i},t.createBufferFromArray=w,t.createBufferFromTypedArray=c,t.createBufferInfoFromArrays=function(e,t,i){var n=y(e,t),o=Object.assign({},i||{});o.attribs=Object.assign({},i?i.attribs:{},n);var a=t.indices;if(a){var s=m(a,"indices");o.indices=c(e,s,34963),o.numElements=s.length,o.elementType=r.getGLTypeForTypedArray(s)}else o.numElements||(o.numElements=function(e,t){var i,n;for(n=0;n<b.length&&!((i=b[n])in t)&&!((i=l.attribPrefix+i)in t);++n);n===b.length&&(i=Object.keys(t)[0]);var r=t[i];if(!r.buffer)return 1;e.bindBuffer(34962,r.buffer);var o=e.getBufferParameter(34962,34660);e.bindBuffer(34962,null);var a,s=5120===(a=r.type)||5121===a?1:5122===a||5123===a?2:5124===a||5125===a||5126===a?4:0,u=o/s,c=r.numComponents||r.size,h=u/c;if(h%1!=0)throw new Error("numComponents ".concat(c," not correct for length ").concat(length));return h}(e,o.attribs));return o},t.setAttribInfoBufferFromArray=function(e,t,i,n){i=m(i),void 0!==n?(e.bindBuffer(34962,t.buffer),e.bufferSubData(34962,n,i)):u(e,34962,t.buffer,i,t.drawType)},t.setAttributePrefix=function(e){l.attribPrefix=e},t.setAttributeDefaults_=function(e){o.copyExistingProperties(e,l)},t.getNumComponents_=v,t.getArray_=d;var r=s(i(/*! ./typedarrays.js */"./src/typedarrays.js")),o=s(i(/*! ./helper.js */"./src/helper.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}var l={attribPrefix:""};function u(e,t,i,n,r){e.bindBuffer(t,i),e.bufferData(t,n,r||35044)}function c(e,t,i,n){if(o.isBuffer(e,t))return t;i=i||34962;var r=e.createBuffer();return u(e,i,r,t,n),r}function h(e){return"indices"===e}function d(e){return e.length?e:e.data}var f=/coord|texture/i,p=/color|colour/i;function g(e,t){var i;if(t%(i=f.test(e)?2:p.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(i," but ").concat(t," values is not evenly divisible by ").concat(i,". You should specify it."));return i}function v(e,t){return e.numComponents||e.size||g(t,d(e).length)}function m(e,t){if(r.isArrayBuffer(e))return e;if(r.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var i=e.type;return i||(i=h(t)?Uint16Array:Float32Array),new i(e.data)}function y(e,t){var i={};return Object.keys(t).forEach((function(n){if(!h(n)){var o=t[n],a=o.attrib||o.name||o.attribName||l.attribPrefix+n;if(o.value){if(!Array.isArray(o.value)&&!r.isArrayBuffer(o.value))throw new Error("array.value is not array or typedarray");i[a]={value:o.value}}else{var s,u,d,f;if(o.buffer&&o.buffer instanceof WebGLBuffer)s=o.buffer,f=o.numComponents||o.size,u=o.type,d=o.normalize;else if("number"==typeof o||"number"==typeof o.data){var p=o.data||o,y=o.type||Float32Array,b=p*y.BYTES_PER_ELEMENT;u=r.getGLTypeForTypedArrayType(y),d=void 0!==o.normalize?o.normalize:(x=y)===Int8Array||x===Uint8Array,f=o.numComponents||o.size||g(n,p),s=e.createBuffer(),e.bindBuffer(34962,s),e.bufferData(34962,b,o.drawType||35044)}else{var w=m(o,n);s=c(e,w,void 0,o.drawType),u=r.getGLTypeForTypedArray(w),d=void 0!==o.normalize?o.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(w),f=v(o,n)}i[a]={buffer:s,numComponents:f,type:u,normalize:d,stride:o.stride||0,offset:o.offset||0,divisor:void 0===o.divisor?void 0:o.divisor,drawType:o.drawType}}}var x})),e.bindBuffer(34962,null),i}var b=["position","positions","a_position"];function w(e,t,i){var n="indices"===i?34963:34962;return c(e,m(t,i),n)}},"./src/draw.js":
/*!*********************!*\
  !*** ./src/draw.js ***!
  \*********************/
/*! no static exports found */function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.drawBufferInfo=a,t.drawObjectList=function(e,t){var i=null,n=null;t.forEach((function(t){if(!1!==t.active){var o=t.programInfo,s=t.vertexArrayInfo||t.bufferInfo,l=!1,u=void 0===t.type?4:t.type;o!==i&&(i=o,e.useProgram(o.program),l=!0),(l||s!==n)&&(n&&n.vertexArrayObject&&!s.vertexArrayObject&&e.bindVertexArray(null),n=s,r.setBuffersAndAttributes(e,o,s)),r.setUniforms(o,t.uniforms),a(e,s,u,t.count,t.offset,t.instanceCount)}})),n&&n.vertexArrayObject&&e.bindVertexArray(null)};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,t&&t.set(e,i),i}(i(/*! ./programs.js */"./src/programs.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e,t,i,n,r,o){i=void 0===i?4:i;var a=t.indices,s=t.elementType,l=void 0===n?t.numElements:n;r=void 0===r?0:r,s||a?void 0!==o?e.drawElementsInstanced(i,l,void 0===s?5123:t.elementType,r,o):e.drawElements(i,l,void 0===s?5123:t.elementType,r):void 0!==o?e.drawArraysInstanced(i,r,l,o):e.drawArrays(i,r,l)}},"./src/framebuffers.js":
/*!*****************************!*\
  !*** ./src/framebuffers.js ***!
  \*****************************/
/*! no static exports found */function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.bindFramebufferInfo=function(e,t,i){i=i||36160,t?(e.bindFramebuffer(i,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(i,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},t.createFramebufferInfo=function(e,t,i,n){var a=e.createFramebuffer();e.bindFramebuffer(36160,a),i=i||e.drawingBufferWidth,n=n||e.drawingBufferHeight;var s=[],h={framebuffer:a,attachments:[],width:i,height:n};return(t=t||l).forEach((function(t,a){var l=t.attachment,d=t.samples,f=t.format,p=t.attachmentPoint||function(e,t){return u[e]||u[t]}(f,t.internalFormat);if(p||(p=36064+a),function(e){return e>=36064&&e<36096}(p)&&s.push(p),!l)if(void 0!==d||function(e){return c[e]}(f))l=e.createRenderbuffer(),e.bindRenderbuffer(36161,l),d>1?e.renderbufferStorageMultisample(36161,d,f,i,n):e.renderbufferStorage(36161,f,i,n);else{var g=Object.assign({},t);g.width=i,g.height=n,void 0===g.auto&&(g.auto=!1,g.min=g.min||g.minMag||9729,g.mag=g.mag||g.minMag||9729,g.wrapS=g.wrapS||g.wrap||33071,g.wrapT=g.wrapT||g.wrap||33071),l=r.createTexture(e,g)}if(o.isRenderbuffer(e,l))e.framebufferRenderbuffer(36160,p,36161,l);else{if(!o.isTexture(e,l))throw new Error("unknown attachment type");void 0!==t.layer?e.framebufferTextureLayer(36160,p,l,t.level||0,t.layer):e.framebufferTexture2D(36160,p,t.target||3553,l,t.level||0)}h.attachments.push(l)})),e.drawBuffers&&e.drawBuffers(s),h},t.resizeFramebufferInfo=function(e,t,i,n,a){n=n||e.drawingBufferWidth,a=a||e.drawingBufferHeight,t.width=n,t.height=a,(i=i||l).forEach((function(i,s){var l=t.attachments[s],u=i.format,c=i.samples;if(void 0!==c||o.isRenderbuffer(e,l))e.bindRenderbuffer(36161,l),c>1?e.renderbufferStorageMultisample(36161,c,u,n,a):e.renderbufferStorage(36161,u,n,a);else{if(!o.isTexture(e,l))throw new Error("unknown attachment type");r.resizeTexture(e,l,i,n,a)}}))};var r=s(i(/*! ./textures.js */"./src/textures.js")),o=s(i(/*! ./helper.js */"./src/helper.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}var l=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],u={34041:33306,6401:36128,36168:36128,6402:36096,33189:36096,33190:36096,36012:36096,35056:33306,36013:33306},c={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0}},"./src/helper.js":
/*!***********************!*\
  !*** ./src/helper.js ***!
  \***********************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.copyExistingProperties=function(e,t){Object.keys(t).forEach((function(i){t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(t[i]=e[i])}))},t.copyNamedProperties=function(e,t,i){e.forEach((function(e){var n=t[e];void 0!==n&&(i[e]=n)}))},t.error=function(){var e;(e=console).error.apply(e,arguments)},t.warn=function(){var e;(e=console).warn.apply(e,arguments)},t.isBuffer=function(e,t){return"undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer},t.isRenderbuffer=function(e,t){return"undefined"!=typeof WebGLRenderbuffer&&t instanceof WebGLRenderbuffer},t.isShader=function(e,t){return"undefined"!=typeof WebGLShader&&t instanceof WebGLShader},t.isTexture=function(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture},t.isSampler=function(e,t){return"undefined"!=typeof WebGLSampler&&t instanceof WebGLSampler}},"./src/programs.js":
/*!*************************!*\
  !*** ./src/programs.js ***!
  \*************************/
/*! no static exports found */function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.createAttributeSetters=ne,t.createProgram=B,t.createProgramAsync=function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return new Promise((function(i,r){var o=F.apply(void 0,n);o.callback=function(e,t){e?r(e):i(t)},B(e,t,o)}))},t.createProgramFromScripts=function(e,t,i,n,r){for(var o=F(i,n,r),a=[],s=0;s<t.length;++s){var l=H(e,t[s],e[M[s]],o);if(!l)return null;a.push(l)}return B(e,a,o)},t.createProgramFromSources=U,t.createProgramInfo=se,t.createProgramInfoAsync=function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return new Promise((function(i,r){var o=F.apply(void 0,n);o.callback=function(e,t){e?r(e):i(t)},se(e,t,o)}))},t.createProgramInfoFromProgram=oe,t.createUniformSetters=X,t.createUniformBlockSpecFromProgram=Z,t.createUniformBlockInfoFromProgram=J,t.createUniformBlockInfo=function(e,t,i){return J(e,t.program,t.uniformBlockSpec,i)},t.createTransformFeedback=function(e,t,i){var n=e.createTransformFeedback();return e.bindTransformFeedback(36386,n),e.useProgram(t.program),$(e,t,i),e.bindTransformFeedback(36386,null),n},t.createTransformFeedbackInfo=G,t.bindTransformFeedbackInfo=$,t.setAttributes=re,t.setBuffersAndAttributes=function(e,t,i){i.vertexArrayObject?e.bindVertexArray(i.vertexArrayObject):(re(t.attribSetters||t,i.attribs),i.indices&&e.bindBuffer(34963,i.indices))},t.setUniforms=te,t.setUniformBlock=function(e,t,i){Q(e,t,i)&&e.bufferData(35345,i.array,35048)},t.setBlockUniforms=function(e,t){var i=e.setters;for(var n in t){var r=i[n];if(r){var o=t[n];r(o)}}},t.bindUniformBlock=Q,t.setUniformsAndBindTextures=void 0;var r=s(i(/*! ./utils.js */"./src/utils.js")),o=s(i(/*! ./helper.js */"./src/helper.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}function l(e,t,i,n,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function u(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var o=e.apply(t,i);function a(e){l(o,n,r,a,s,"next",e)}function s(e){l(o,n,r,a,s,"throw",e)}a(void 0)}))}}function c(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d=o.error,f=o.warn;function p(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}var g={};function v(e,t){return g[t].bindPoint}function m(e,t){return function(i){e.uniform1i(t,i)}}function y(e,t){return function(i){e.uniform1iv(t,i)}}function b(e,t){return function(i){e.uniform2iv(t,i)}}function w(e,t){return function(i){e.uniform3iv(t,i)}}function x(e,t){return function(i){e.uniform4iv(t,i)}}function D(e,t,i,n){var a=v(0,t);return r.isWebGL2(e)?function(t){var r,s;o.isTexture(e,t)?(r=t,s=null):(r=t.texture,s=t.sampler),e.uniform1i(n,i),e.activeTexture(33984+i),e.bindTexture(a,r),e.bindSampler(i,s)}:function(t){e.uniform1i(n,i),e.activeTexture(33984+i),e.bindTexture(a,t)}}function S(e,t,i,n,a){for(var s=v(0,t),l=new Int32Array(a),u=0;u<a;++u)l[u]=i+u;return r.isWebGL2(e)?function(t){e.uniform1iv(n,l),t.forEach((function(t,n){var r,a;e.activeTexture(33984+l[n]),o.isTexture(e,t)?(r=t,a=null):(r=t.texture,a=t.sampler),e.bindSampler(i,a),e.bindTexture(s,r)}))}:function(t){e.uniform1iv(n,l),t.forEach((function(t,i){e.activeTexture(33984+l[i]),e.bindTexture(s,t)}))}}function _(e,t){return function(i){if(i.value)switch(e.disableVertexAttribArray(t),i.value.length){case 4:e.vertexAttrib4fv(t,i.value);break;case 3:e.vertexAttrib3fv(t,i.value);break;case 2:e.vertexAttrib2fv(t,i.value);break;case 1:e.vertexAttrib1fv(t,i.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(34962,i.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,i.numComponents||i.size,i.type||5126,i.normalize||!1,i.stride||0,i.offset||0),void 0!==i.divisor&&e.vertexAttribDivisor(t,i.divisor)}}function E(e,t){return function(i){if(i.value){if(e.disableVertexAttribArray(t),4!==i.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,i.value)}else e.bindBuffer(34962,i.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,i.numComponents||i.size,i.type||5124,i.stride||0,i.offset||0),void 0!==i.divisor&&e.vertexAttribDivisor(t,i.divisor)}}function C(e,t){return function(i){if(i.value){if(e.disableVertexAttribArray(t),4!==i.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,i.value)}else e.bindBuffer(34962,i.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,i.numComponents||i.size,i.type||5125,i.stride||0,i.offset||0),void 0!==i.divisor&&e.vertexAttribDivisor(t,i.divisor)}}function k(e,t,i){var n=i.size,r=i.count;return function(i){e.bindBuffer(34962,i.buffer);for(var o=i.size||i.numComponents||n,a=o/r,s=i.type||5126,l=g[s].size*o,u=i.normalize||!1,c=i.offset||0,h=l/r,d=0;d<r;++d)e.enableVertexAttribArray(t+d),e.vertexAttribPointer(t+d,a,s,u,l,c+h*d),void 0!==i.divisor&&e.vertexAttribDivisor(t+d,i.divisor)}}g[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(i){e.uniform1f(t,i)}},arraySetter:function(e,t){return function(i){e.uniform1fv(t,i)}}},g[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(i){e.uniform2fv(t,i)}},cols:2},g[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(i){e.uniform3fv(t,i)}},cols:3},g[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(i){e.uniform4fv(t,i)}},cols:4},g[5124]={Type:Int32Array,size:4,setter:m,arraySetter:y},g[35667]={Type:Int32Array,size:8,setter:b,cols:2},g[35668]={Type:Int32Array,size:12,setter:w,cols:3},g[35669]={Type:Int32Array,size:16,setter:x,cols:4},g[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(i){e.uniform1ui(t,i)}},arraySetter:function(e,t){return function(i){e.uniform1uiv(t,i)}}},g[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(i){e.uniform2uiv(t,i)}},cols:2},g[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(i){e.uniform3uiv(t,i)}},cols:3},g[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(i){e.uniform4uiv(t,i)}},cols:4},g[35670]={Type:Uint32Array,size:4,setter:m,arraySetter:y},g[35671]={Type:Uint32Array,size:8,setter:b,cols:2},g[35672]={Type:Uint32Array,size:12,setter:w,cols:3},g[35673]={Type:Uint32Array,size:16,setter:x,cols:4},g[35674]={Type:Float32Array,size:32,setter:function(e,t){return function(i){e.uniformMatrix2fv(t,!1,i)}},rows:2,cols:2},g[35675]={Type:Float32Array,size:48,setter:function(e,t){return function(i){e.uniformMatrix3fv(t,!1,i)}},rows:3,cols:3},g[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(i){e.uniformMatrix4fv(t,!1,i)}},rows:4,cols:4},g[35685]={Type:Float32Array,size:32,setter:function(e,t){return function(i){e.uniformMatrix2x3fv(t,!1,i)}},rows:2,cols:3},g[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(i){e.uniformMatrix2x4fv(t,!1,i)}},rows:2,cols:4},g[35687]={Type:Float32Array,size:48,setter:function(e,t){return function(i){e.uniformMatrix3x2fv(t,!1,i)}},rows:3,cols:2},g[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(i){e.uniformMatrix3x4fv(t,!1,i)}},rows:3,cols:4},g[35689]={Type:Float32Array,size:64,setter:function(e,t){return function(i){e.uniformMatrix4x2fv(t,!1,i)}},rows:4,cols:2},g[35690]={Type:Float32Array,size:64,setter:function(e,t){return function(i){e.uniformMatrix4x3fv(t,!1,i)}},rows:4,cols:3},g[35678]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:3553},g[35680]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:34067},g[35679]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:32879},g[35682]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:3553},g[36289]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:35866},g[36292]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:35866},g[36293]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:34067},g[36298]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:3553},g[36299]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:32879},g[36300]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:34067},g[36303]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:35866},g[36306]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:3553},g[36307]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:32879},g[36308]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:34067},g[36311]={Type:null,size:0,setter:D,arraySetter:S,bindPoint:35866};var T={};T[5126]={size:4,setter:_},T[35664]={size:8,setter:_},T[35665]={size:12,setter:_},T[35666]={size:16,setter:_},T[5124]={size:4,setter:E},T[35667]={size:8,setter:E},T[35668]={size:12,setter:E},T[35669]={size:16,setter:E},T[5125]={size:4,setter:C},T[36294]={size:8,setter:C},T[36295]={size:12,setter:C},T[36296]={size:16,setter:C},T[35670]={size:4,setter:E},T[35671]={size:8,setter:E},T[35672]={size:12,setter:E},T[35673]={size:16,setter:E},T[35674]={size:4,setter:k,count:2},T[35675]={size:9,setter:k,count:3},T[35676]={size:16,setter:k,count:4};var A=/ERROR:\s*\d+:(\d+)/gi,O=/^[ \t]*\n/;function P(e){var t=0;return O.test(e)&&(t=1,e=e.replace(O,"")),{lineOffset:t,shaderSource:e}}function L(e,t){return e.errorCallback(t),e.callback&&setTimeout((function(){e.callback("".concat(t,"\n").concat(e.errors.join("\n")))})),null}function I(e,t,i,n){var o=e.createShader(i);return e.shaderSource(o,P(t).shaderSource),e.compileShader(o),n.callback||function(e,t,i,n){n=n||d;var o=e.getShaderParameter(i,35713);if(!o){var a=e.getShaderInfoLog(i),s=P(e.getShaderSource(i)),l=s.lineOffset,u=s.shaderSource;n("".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=c(t.matchAll(A)),r=new Map(n.map((function(e,i){var r=parseInt(e[1]),o=n[i+1],a=o?o.index:t.length;return[r-1,t.substring(e.index,a)]})));return e.split("\n").map((function(e,t){var n=r.get(t);return"".concat(t+1+i,": ").concat(e).concat(n?"\n\n^^^ ".concat(n):"")})).join("\n")}(u,a,l),"\nError compiling ").concat(r.glEnumToString(e,t),": ").concat(a))}return o}(e,i,o,n.errorCallback)?o:(e.deleteShader(o),null)}function F(e,t,i){var n,r,o;if("function"==typeof t&&(i=t,t=void 0),"function"==typeof e)i=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback&&e.errors)return e;var a=e;i=a.errorCallback,e=a.attribLocations,n=a.transformFeedbackVaryings,r=a.transformFeedbackMode,o=a.callback}var s=i||d,l=[],u={errorCallback:function(e){l.push(e);for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];s.apply(void 0,[e].concat(i))},transformFeedbackVaryings:n,transformFeedbackMode:r,callback:o,errors:l};if(e){var c={};Array.isArray(e)?e.forEach((function(e,i){c[e]=t?t[i]:i})):c=e,u.attribLocations=c}return u}var M=["VERTEX_SHADER","FRAGMENT_SHADER"];function j(e,t){return t.indexOf("frag")>=0?35632:t.indexOf("vert")>=0?35633:void 0}function q(e,t){t.forEach((function(t){e.deleteShader(t)}))}var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))};function B(e,t,i,n,r){for(var a=F(i,n,r),s=[],l=[],u=0;u<t.length;++u){var c=t[u];if("string"==typeof c){var h=p(c),d=h?h.text:c,f=e[M[u]];h&&h.type&&(f=j(0,h.type)||f),c=I(e,d,f,a),l.push(c)}o.isShader(e,c)&&s.push(c)}if(s.length!==t.length)return q(e,l),L(a,"not enough shaders for program");var g=e.createProgram();s.forEach((function(t){e.attachShader(g,t)})),a.attribLocations&&Object.keys(a.attribLocations).forEach((function(t){e.bindAttribLocation(g,a.attribLocations[t],t)}));var v=a.transformFeedbackVaryings;return v&&(v.attribs&&(v=v.attribs),Array.isArray(v)||(v=Object.keys(v)),e.transformFeedbackVaryings(g,v,a.transformFeedbackMode||35981)),e.linkProgram(g),a.callback?(function(e,t,i){z.apply(this,arguments)}(e,g,a),null):N(e,g,a.errorCallback)?g:(e.deleteProgram(g),q(e,l),null)}function z(){return(z=u(regeneratorRuntime.mark((function e(t,i,n){var r,o,a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getExtension("KHR_parallel_shader_compile"),o=r?function(e,t){return e.getProgramParameter(t,r.COMPLETION_STATUS_KHR)}:function(){return!0},a=0;case 3:return e.next=5,R(a);case 5:a=1e3/60;case 6:if(!o(t,i)){e.next=3;break}case 7:s=N(t,i,n.errorCallback),l=s?void 0:n.errors.join("\n"),s||((n.errorCallback||d)(l),t.deleteProgram(i),i=null),n.callback(l,i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,i){i=i||d;var n=e.getProgramParameter(t,35714);if(!n){var r=e.getProgramInfoLog(t);i("Error in program linking: ".concat(r))}return n}function H(e,t,i,n){var r,o=p(t);if(!o)return L(n,"unknown script element: ".concat(t));r=o.text;var a=i||j(0,o.type);return a?I(e,r,a,n):L(n,"unknown shader type")}function U(e,t,i,n,r){for(var o=F(i,n,r),a=[],s=0;s<t.length;++s){var l=I(e,t[s],e[M[s]],o);if(!o.callback&&!l)return null;a.push(l)}return B(e,a,o)}function W(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}var Y=/(\.|\[|]|\w+)/g;function V(e,t,i,n){for(var r,o=e.split(Y).filter((function(e){return""!==e})),a=0,s="";;){var l=o[a++];s+=l;var u=(r=l[0])>="0"&&r<="9",c=u?parseInt(l):l;if(u&&(s+=o[a++]),a===o.length){i[c]=t;break}var h=o[a++],d="["===h,f=i[c]||(d?[]:{});i[c]=f,i=f,n[s]=n[s]||function(e){return function(t){ee(e,t)}}(f),s+=h}}function X(e,t){var i=0;function n(t,n,r){var o,a=n.name.endsWith("[0]"),s=n.type,l=g[s];if(!l)throw new Error("unknown type: 0x".concat(s.toString(16)));if(l.bindPoint){var u=i;i+=n.size,o=a?l.arraySetter(e,s,u,r,n.size):l.setter(e,s,u,r,n.size)}else o=l.arraySetter&&a?l.arraySetter(e,r):l.setter(e,r);return o.location=r,o}for(var r={},o={},a=e.getProgramParameter(t,35718),s=0;s<a;++s){var l=e.getActiveUniform(t,s);if(!W(l)){var u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));var c=e.getUniformLocation(t,l.name);if(c){var h=n(0,l,c);r[u]=h,V(u,h,o,r)}}}return r}function G(e,t){for(var i={},n=e.getProgramParameter(t,35971),r=0;r<n;++r){var o=e.getTransformFeedbackVarying(t,r);i[o.name]={index:r,type:o.type,size:o.size}}return i}function $(e,t,i){for(var n in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),i.attribs&&(i=i.attribs),i){var r=t[n];if(r){var o=i[n];o.offset?e.bindBufferRange(35982,r.index,o.buffer,o.offset,o.size):e.bindBufferBase(35982,r.index,o.buffer)}}}function Z(e,t){for(var i=e.getProgramParameter(t,35718),n=[],r=[],o=0;o<i;++o){r.push(o),n.push({});var a=e.getActiveUniform(t,o);n[o].name=a.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(i){var o=i[0],a=i[1];e.getActiveUniforms(t,r,e[o]).forEach((function(e,t){n[t][a]=e}))}));for(var s={},l=e.getProgramParameter(t,35382),u=0;u<l;++u){var c=e.getActiveUniformBlockName(t,u),h={index:e.getUniformBlockIndex(t,c),usedByVertexShader:e.getActiveUniformBlockParameter(t,u,35396),usedByFragmentShader:e.getActiveUniformBlockParameter(t,u,35398),size:e.getActiveUniformBlockParameter(t,u,35392),uniformIndices:e.getActiveUniformBlockParameter(t,u,35395)};h.used=h.usedByVertexShader||h.usedByFragmentShader,s[c]=h}return{blockSpecs:s,uniformData:n}}var K=/\[\d+\]\.$/;function J(e,t,i,n){var r=i.blockSpecs,o=i.uniformData,a=r[n];if(!a)return f("no uniform block object named:",n),{name:n,uniforms:{}};var s=new ArrayBuffer(a.size),l=e.createBuffer(),u=a.index;e.bindBuffer(35345,l),e.uniformBlockBinding(t,a.index,u);var c=n+".";K.test(c)&&(c=c.replace(K,"."));var h={},d={},p={};return a.uniformIndices.forEach((function(e){var t=o[e],i=t.name;i.startsWith(c)&&(i=i.substr(c.length));var n=i.endsWith("[0]");n&&(i=i.substr(0,i.length-3));var r,a=g[t.type],l=a.Type,u=n?((a.size+((r=16)-1))/r|0)*r*t.size:a.size*t.size,f=new l(s,t.offset,u/l.BYTES_PER_ELEMENT);h[i]=f;var v=function(e,t,i,n){if(t||i){n=n||1;var r=e.length/4;return function(t){for(var i=0,o=0,a=0;a<r;++a){for(var s=0;s<n;++s)e[i++]=t[o++];i+=4-n}}}return function(t){t.length?e.set(t):e[0]=t}}(f,n,a.rows,a.cols);d[i]=v,V(i,v,p,d)})),{name:n,array:s,asFloat:new Float32Array(s),buffer:l,uniforms:h,setters:d}}function Q(e,t,i){var n=(t.uniformBlockSpec||t).blockSpecs[i.name];if(n){var r=n.index;return e.bindBufferRange(35345,r,i.buffer,i.offset||0,i.array.byteLength),!0}return!1}function ee(e,t){for(var i in t){var n=e[i];"function"==typeof n?n(t[i]):ee(e[i],t[i])}}function te(e){for(var t=e.uniformSetters||e,i=arguments.length<=1?0:arguments.length-1,n=0;n<i;++n){var r=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(Array.isArray(r))for(var o=r.length,a=0;a<o;++a)te(t,r[a]);else for(var s in r){var l=t[s];l&&l(r[s])}}}var ie=te;function ne(e,t){for(var i={},n=e.getProgramParameter(t,35721),r=0;r<n;++r){var o=e.getActiveAttrib(t,r);if(!W(o)){var a=e.getAttribLocation(t,o.name),s=T[o.type],l=s.setter(e,a,s);l.location=a,i[o.name]=l}}return i}function re(e,t){for(var i in t){var n=e[i];n&&n(t[i])}}function oe(e,t){var i={program:t,uniformSetters:X(e,t),attribSetters:ne(e,t)};return r.isWebGL2(e)&&(i.uniformBlockSpec=Z(e,t),i.transformFeedbackInfo=G(e,t)),i}t.setUniformsAndBindTextures=ie;var ae=/\s|{|}|;/;function se(e,t,i,n,r){var o=F(i,n,r),a=[];if(t=t.map((function(e){if(!ae.test(e)){var t=p(e);if(t)e=t.text;else{var i="no element with id: ".concat(e);o.errorCallback(i),a.push(i)}}return e})),a.length)return L(o,"");var s=o.callback;s&&(o.callback=function(t,i){var n;t||(n=oe(e,i)),s(t,n)});var l=U(e,t,o);return l?oe(e,l):null}},"./src/textures.js":
/*!*************************!*\
  !*** ./src/textures.js ***!
  \*************************/
/*! no static exports found */function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.setTextureDefaults_=function(e){a.copyExistingProperties(e,h),e.textureColor&&C(e.textureColor)},t.createSampler=L,t.createSamplers=function(e,t){var i={};return Object.keys(t).forEach((function(n){i[n]=L(e,t[n])})),i},t.setSamplerParameters=P,t.createTexture=G,t.setEmptyTexture=X,t.setTextureFromArray=V,t.loadTextureFromUrl=U,t.setTextureFromElement=q,t.setTextureFilteringForSize=I,t.setTextureParameters=O,t.setDefaultTextureColor=C,t.createTextures=function(e,t,i){i=i||R;var n=0,r=[],o={},a={};function s(){0===n&&setTimeout((function(){i(r.length?r:void 0,o,a)}),0)}return Object.keys(t).forEach((function(i){var l,u,c=t[i];("string"==typeof(u=c.src)||Array.isArray(u)&&"string"==typeof u[0])&&(l=function(e,t,o){a[i]=o,--n,e&&r.push(e),s()},++n),o[i]=G(e,c,l)})),s(),o},t.resizeTexture=function(e,t,i,n,r,o){n=n||i.width,r=r||i.height,o=o||i.depth;var a=i.target||3553;e.bindTexture(a,t);var s,l=i.level||0,u=i.internalFormat||i.format||6408,c=w(u),h=i.format||c.format,f=i.src;if(s=f&&(d(f)||Array.isArray(f)&&"number"==typeof f[0])?i.type||_(0,f,c.type):i.type||c.type,34067===a)for(var p=0;p<6;++p)e.texImage2D(34069+p,l,u,n,r,0,h,s,null);else 32879===a||35866===a?e.texImage3D(a,l,u,n,r,o,0,h,s,null):e.texImage2D(a,l,u,n,r,0,h,s,null)},t.canGenerateMipmap=D,t.canFilter=S,t.getNumComponentsForFormat=function(e){var t=v[e];if(!t)throw"unknown format: "+e;return t.numColorComponents},t.getBytesPerElementForInternalFormat=b,t.getFormatAndTypeForInternalFormat=w;var r=l(i(/*! ./utils.js */"./src/utils.js")),o=l(i(/*! ./typedarrays.js */"./src/typedarrays.js")),a=l(i(/*! ./helper.js */"./src/helper.js"));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}var u,c,h={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},d=o.isArrayBuffer,f=function(){return u=u||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)},p=6407,g=33319,v={},m=v;function y(e){if(!c){var t={6406:{textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6409:{textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6410:{textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]}};t[p]={textureFormat:p,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},t[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},t[6402]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5125,5123]},t[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},t[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},t[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},t[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},t[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},t[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},t[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},t[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},t[33323]={textureFormat:g,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},t[36757]={textureFormat:g,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},t[33327]={textureFormat:g,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},t[33328]={textureFormat:g,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},t[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},t[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},t[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},t[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},t[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},t[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},t[32849]={textureFormat:p,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[35905]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[36194]={textureFormat:p,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},t[36758]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},t[35898]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},t[35901]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},t[34843]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},t[34837]={textureFormat:p,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},t[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},t[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},t[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},t[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},t[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},t[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},t[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},t[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},t[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},t[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},t[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},t[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},t[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},t[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},t[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},t[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},t[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},t[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},t[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},t[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},t[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},t[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(t).forEach((function(e){var i=t[e];i.bytesPerElementMap={},i.bytesPerElement.forEach((function(e,t){var n=i.type[t];i.bytesPerElementMap[n]=e}))})),c=t}return c[e]}function b(e,t){var i=y(e);if(!i)throw"unknown internal format";var n=i.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function w(e){var t=y(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function x(e){return 0==(e&e-1)}function D(e,t,i,n){if(!r.isWebGL2(e))return x(t)&&x(i);var o=y(n);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function S(e){var t=y(e);if(!t)throw"unknown internal format";return t.textureFilterable}function _(e,t,i){return d(t)?o.getGLTypeForTypedArray(t):i||5121}function E(e,t,i,n,r){if(r%1!=0)throw"can't guess dimensions";if(i||n){if(n){if(!i&&(i=r/n)%1)throw"can't guess dimensions"}else if((n=r/i)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(r/(34067===t?6:1));o%1==0?(i=o,n=o):(i=r,n=1)}return{width:i,height:n}}function C(e){h.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function k(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(37443,t.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(37441,t.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(37440,t.flipY)}function T(e){e.pixelStorei(3317,4),r.isWebGL2(e)&&(e.pixelStorei(3314,0),e.pixelStorei(32878,0),e.pixelStorei(3316,0),e.pixelStorei(3315,0),e.pixelStorei(32877,0))}function A(e,t,i,n){n.minMag&&(i.call(e,t,10241,n.minMag),i.call(e,t,10240,n.minMag)),n.min&&i.call(e,t,10241,n.min),n.mag&&i.call(e,t,10240,n.mag),n.wrap&&(i.call(e,t,10242,n.wrap),i.call(e,t,10243,n.wrap),(32879===t||a.isSampler(e,t))&&i.call(e,t,32882,n.wrap)),n.wrapR&&i.call(e,t,32882,n.wrapR),n.wrapS&&i.call(e,t,10242,n.wrapS),n.wrapT&&i.call(e,t,10243,n.wrapT),n.minLod&&i.call(e,t,33082,n.minLod),n.maxLod&&i.call(e,t,33083,n.maxLod),n.baseLevel&&i.call(e,t,33084,n.baseLevel),n.maxLevel&&i.call(e,t,33085,n.maxLevel)}function O(e,t,i){var n=i.target||3553;e.bindTexture(n,t),A(e,n,e.texParameteri,i)}function P(e,t,i){A(e,t,e.samplerParameteri,i)}function L(e,t){var i=e.createSampler();return P(e,i,t),i}function I(e,t,i,n,r,o){o=o||6408;var a=(i=i||h.textureOptions).target||3553;if(n=n||i.width,r=r||i.height,e.bindTexture(a,t),D(e,n,r,o))e.generateMipmap(a);else{var s=S(o)?9729:9728;e.texParameteri(a,10241,s),e.texParameteri(a,10240,s),e.texParameteri(a,10242,33071),e.texParameteri(a,10243,33071)}}function F(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function M(e,t){return(t=t||{}).cubeFaceOrder||[34069,34070,34071,34072,34073,34074]}function j(e,t){var i=M(0,t).map((function(e,t){return{face:e,ndx:t}}));return i.sort((function(e,t){return e.face-t.face})),i}function q(e,t,i,n){var r=(n=n||h.textureOptions).target||3553,o=n.level||0,a=i.width,s=i.height,l=n.internalFormat||n.format||6408,u=w(l),c=n.format||u.format,d=n.type||u.type;if(k(e,n),e.bindTexture(r,t),34067===r){var p,g,v=i.width,m=i.height;if(v/6===m)p=m,g=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===v)p=v,g=[0,0,0,1,0,2,0,3,0,4,0,5];else if(v/3==m/2)p=v/3,g=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(v/2!=m/3)throw"can't figure out cube map from element: "+(i.src?i.src:i.nodeName);p=v/2,g=[0,0,1,0,0,1,1,1,0,2,1,2]}var y=f();y?(y.canvas.width=p,y.canvas.height=p,a=p,s=p,j(0,n).forEach((function(t){var n=g[2*t.ndx+0]*p,r=g[2*t.ndx+1]*p;y.drawImage(i,n,r,p,p,0,0,p,p),e.texImage2D(t.face,o,l,c,d,y.canvas)})),y.canvas.width=1,y.canvas.height=1):"undefined"!=typeof createImageBitmap&&(a=p,s=p,j(0,n).forEach((function(u){var h=g[2*u.ndx+0]*p,f=g[2*u.ndx+1]*p;e.texImage2D(u.face,o,l,p,p,0,c,d,null),createImageBitmap(i,h,f,p,p,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(i){k(e,n),e.bindTexture(r,t),e.texImage2D(u.face,o,l,c,d,i),F(n)&&I(e,t,n,a,s,l)}))})))}else if(32879===r||35866===r){var b=Math.min(i.width,i.height),x=Math.max(i.width,i.height),D=x/b;if(D%1!=0)throw"can not compute 3D dimensions of element";var S=i.width===x?1:0,_=i.height===x?1:0;e.pixelStorei(3317,1),e.pixelStorei(3314,i.width),e.pixelStorei(32878,0),e.pixelStorei(32877,0),e.texImage3D(r,o,l,b,b,b,0,c,d,null);for(var E=0;E<D;++E){var C=E*b*S,A=E*b*_;e.pixelStorei(3316,C),e.pixelStorei(3315,A),e.texSubImage3D(r,o,0,0,E,b,b,1,c,d,i)}T(e)}else e.texImage2D(r,o,l,c,d,i);F(n)&&I(e,t,n,a,s,l),O(e,t,n)}function R(){}function B(e,t){return void 0!==t||function(e){if("undefined"!=typeof document){var t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}var i=new URL(location.href).origin;return new URL(e,location.href).origin===i}(e)?t:"anonymous"}function z(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function N(e,t,i){return z(e)?(setTimeout((function(){i(null,e)})),e):function(e,t,i){var n;if(i=i||R,t=void 0!==t?t:h.crossOrigin,t=B(e,t),"undefined"!=typeof Image){n=new Image,void 0!==t&&(n.crossOrigin=t);var r=function(){n.removeEventListener("error",o),n.removeEventListener("load",s),n=null},o=function(){var t="couldn't load image: "+e;a.error(t),i(t,n),r()},s=function(){i(null,n),r()};return n.addEventListener("error",o),n.addEventListener("load",s),n.src=e,n}if("undefined"!=typeof ImageBitmap){var l,u,c=function(){i(l,u)},d={};t&&(d.mode="cors"),fetch(e,d).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){u=e,setTimeout(c)})).catch((function(e){l=e,setTimeout(c)})),n=null}return n}(e,t,i)}function H(e,t,i){var n=(i=i||h.textureOptions).target||3553;if(e.bindTexture(n,t),!1!==i.color){var r=function(e){return e=e||h.textureColor,d(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(i.color);if(34067===n)for(var o=0;o<6;++o)e.texImage2D(34069+o,0,6408,1,1,0,6408,5121,r);else 32879===n||35866===n?e.texImage3D(n,0,6408,1,1,1,0,6408,5121,r):e.texImage2D(n,0,6408,1,1,0,6408,5121,r)}}function U(e,t,i,n){return n=n||R,i=i||h.textureOptions,H(e,t,i),N((i=Object.assign({},i)).src,i.crossOrigin,(function(r,o){r?n(r,t,o):(q(e,t,o,i),n(null,t,o))}))}function W(e,t,i,n){n=n||R;var r=i.src;if(6!==r.length)throw"there must be 6 urls for a cubemap";var o=i.level||0,a=i.internalFormat||i.format||6408,s=w(a),l=i.format||s.format,u=i.type||5121,c=i.target||3553;if(34067!==c)throw"target must be TEXTURE_CUBE_MAP";H(e,t,i),i=Object.assign({},i);var h,d=6,f=[],p=M(0,i);h=r.map((function(r,s){return N(r,i.crossOrigin,(g=p[s],function(r,s){--d,r?f.push(r):s.width!==s.height?f.push("cubemap face img is not a square: "+s.src):(k(e,i),e.bindTexture(c,t),5===d?M().forEach((function(t){e.texImage2D(t,o,a,l,u,s)})):e.texImage2D(g,o,a,l,u,s),F(i)&&e.generateMipmap(c)),0===d&&n(f.length?f:void 0,t,h)}));var g}))}function Y(e,t,i,n){n=n||R;var r=i.src,o=i.internalFormat||i.format||6408,a=w(o),s=i.format||a.format,l=i.type||5121,u=i.target||35866;if(32879!==u&&35866!==u)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";H(e,t,i),i=Object.assign({},i);var c,h=r.length,d=[],p=i.level||0,g=i.width,v=i.height,m=r.length,y=!0;c=r.map((function(r,a){return N(r,i.crossOrigin,(b=a,function(r,a){if(--h,r)d.push(r);else{if(k(e,i),e.bindTexture(u,t),y){y=!1,g=i.width||a.width,v=i.height||a.height,e.texImage3D(u,p,o,g,v,m,0,s,l,null);for(var w=0;w<m;++w)e.texSubImage3D(u,p,0,0,w,g,v,1,s,l,a)}else{var x,D=a;a.width===g&&a.height===v||(D=(x=f()).canvas,x.canvas.width=g,x.canvas.height=v,x.drawImage(a,0,0,g,v)),e.texSubImage3D(u,p,0,0,b,g,v,1,s,l,D),x&&D===x.canvas&&(x.canvas.width=0,x.canvas.height=0)}F(i)&&e.generateMipmap(u)}0===h&&n(d.length?d:void 0,t,c)}));var b}))}function V(e,t,i,n){var a=(n=n||h.textureOptions).target||3553;e.bindTexture(a,t);var s=n.width,l=n.height,u=n.depth,c=n.level||0,f=n.internalFormat||n.format||6408,p=w(f),g=n.format||p.format,v=n.type||_(0,i,p.type);if(d(i))i instanceof Uint8ClampedArray&&(i=new Uint8Array(i.buffer));else{var m=o.getTypedArrayTypeForGLType(v);i=new m(i)}var y,x=b(f,v),D=i.byteLength/x;if(D%1)throw"length wrong size for format: "+r.glEnumToString(e,g);if(32879===a||35866===a)if(s||l||u)!s||l&&u?!l||s&&u?(y=E(0,a,s,l,D/u),s=y.width,l=y.height):(y=E(0,a,s,u,D/l),s=y.width,u=y.height):(y=E(0,a,l,u,D/s),l=y.width,u=y.height);else{var S=Math.cbrt(D);if(S%1!=0)throw"can't guess cube size of array of numElements: "+D;s=S,l=S,u=S}else y=E(0,a,s,l,D),s=y.width,l=y.height;if(T(e),e.pixelStorei(3317,n.unpackAlignment||1),k(e,n),34067===a){var C=D/6*(x/i.BYTES_PER_ELEMENT);j(0,n).forEach((function(t){var n=C*t.ndx,r=i.subarray(n,n+C);e.texImage2D(t.face,c,f,s,l,0,g,v,r)}))}else 32879===a||35866===a?e.texImage3D(a,c,f,s,l,u,0,g,v,i):e.texImage2D(a,c,f,s,l,0,g,v,i);return{width:s,height:l,depth:u,type:v}}function X(e,t,i){var n=i.target||3553;e.bindTexture(n,t);var r=i.level||0,o=i.internalFormat||i.format||6408,a=w(o),s=i.format||a.format,l=i.type||a.type;if(k(e,i),34067===n)for(var u=0;u<6;++u)e.texImage2D(34069+u,r,o,i.width,i.height,0,s,l,null);else 32879===n||35866===n?e.texImage3D(n,r,o,i.width,i.height,i.depth,0,s,l,null):e.texImage2D(n,r,o,i.width,i.height,0,s,l,null)}function G(e,t,i){i=i||R,t=t||h.textureOptions;var n=e.createTexture(),r=t.target||3553,o=t.width||1,a=t.height||1,s=t.internalFormat||6408;e.bindTexture(r,n),34067===r&&(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071));var l=t.src;if(l)if("function"==typeof l&&(l=l(e,t)),"string"==typeof l)U(e,n,t,i);else if(d(l)||Array.isArray(l)&&("number"==typeof l[0]||Array.isArray(l[0])||d(l[0]))){var u=V(e,n,l,t);o=u.width,a=u.height}else Array.isArray(l)&&("string"==typeof l[0]||z(l[0]))?34067===r?W(e,n,t,i):Y(e,n,t,i):(q(e,n,l,t),o=l.width,a=l.height);else X(e,n,t);return F(t)&&I(e,n,t,o,a,s),O(e,n,t),n}m[6406]={numColorComponents:1},m[6409]={numColorComponents:1},m[6410]={numColorComponents:2},m[p]={numColorComponents:3},m[6408]={numColorComponents:4},m[6403]={numColorComponents:1},m[36244]={numColorComponents:1},m[g]={numColorComponents:2},m[33320]={numColorComponents:2},m[p]={numColorComponents:3},m[36248]={numColorComponents:3},m[6408]={numColorComponents:4},m[36249]={numColorComponents:4},m[6402]={numColorComponents:1},m[34041]={numColorComponents:2}},"./src/twgl-base.js":
/*!**************************!*\
  !*** ./src/twgl-base.js ***!
  \**************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0;var n=i(/*! ./twgl.js */"./src/twgl.js");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(t[e]=n[e])}))},"./src/twgl.js":
/*!*********************!*\
  !*** ./src/twgl.js ***!
  \*********************/
/*! no static exports found */function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0;var r={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0,attributes:!0,textures:!0,utils:!0,draw:!0,framebuffers:!0,programs:!0,typedarrays:!0,vertexArrays:!0};t.addExtensionsToContext=w,t.getContext=function(e,t){return function(e,t){for(var i=["webgl2","webgl","experimental-webgl"],n=null,r=0;r<i.length;++r)if(n=e.getContext(i[r],t)){v.addExtensionsToContext&&w(n);break}return n}(e,t)},t.getWebGLContext=function(e,t){return function(e,t){for(var i=["webgl","experimental-webgl"],n=null,r=0;r<i.length;++r)if(n=e.getContext(i[r],t)){v.addExtensionsToContext&&w(n);break}return n}(e,t)},t.resizeCanvasToDisplaySize=function(e,t){t=t||1,t=Math.max(0,t);var i=e.clientWidth*t|0,n=e.clientHeight*t|0;return(e.width!==i||e.height!==n)&&(e.width=i,e.height=n,!0)},t.setDefaults=function(e){s.copyExistingProperties(e,v),o.setAttributeDefaults_(e),a.setTextureDefaults_(e)},t.vertexArrays=t.typedarrays=t.programs=t.framebuffers=t.draw=t.utils=t.textures=t.attributes=void 0;var o=g(i(/*! ./attributes.js */"./src/attributes.js"));t.attributes=o,Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=o[e]))}));var a=g(i(/*! ./textures.js */"./src/textures.js"));t.textures=a,Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=a[e]))}));var s=g(i(/*! ./helper.js */"./src/helper.js")),l=g(i(/*! ./utils.js */"./src/utils.js"));t.utils=l,Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=l[e]))}));var u=g(i(/*! ./draw.js */"./src/draw.js"));t.draw=u,Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=u[e]))}));var c=g(i(/*! ./framebuffers.js */"./src/framebuffers.js"));t.framebuffers=c,Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=c[e]))}));var h=g(i(/*! ./programs.js */"./src/programs.js"));t.programs=h,Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=h[e]))}));var d=g(i(/*! ./typedarrays.js */"./src/typedarrays.js"));t.typedarrays=d,Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=d[e]))}));var f=g(i(/*! ./vertex-arrays.js */"./src/vertex-arrays.js"));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,t&&t.set(e,i),i}t.vertexArrays=f,Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||(t[e]=f[e]))}));var v={addExtensionsToContext:!0},m=/^(.*?)_/;function y(e,t){l.glEnumToString(e,0);var i=e.getExtension(t);if(i){var n={},r=m.exec(t)[1],o="_"+r;for(var a in i){var u=i[a],c="function"==typeof u,h=c?r:o,d=a;a.endsWith(h)&&(d=a.substring(0,a.length-h.length)),void 0!==e[d]?c||e[d]===u||s.warn(d,e[d],u,a):c?e[d]=function(e){return function(){return e.apply(i,arguments)}}(u):(e[d]=u,n[d]=u)}n.constructor={name:i.constructor.name},l.glEnumToString(n,0)}return i}var b=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function w(e){for(var t=0;t<b.length;++t)y(e,b[t])}},"./src/typedarrays.js":
/*!****************************!*\
  !*** ./src/typedarrays.js ***!
  \****************************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return 5120;if(e instanceof Uint8Array)return 5121;if(e instanceof Uint8ClampedArray)return 5121;if(e instanceof Int16Array)return 5122;if(e instanceof Uint16Array)return 5123;if(e instanceof Int32Array)return 5124;if(e instanceof Uint32Array)return 5125;if(e instanceof Float32Array)return 5126;throw new Error("unsupported typed array type")},t.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return 5120;if(e===Uint8Array)return 5121;if(e===Uint8ClampedArray)return 5121;if(e===Int16Array)return 5122;if(e===Uint16Array)return 5123;if(e===Int32Array)return 5124;if(e===Uint32Array)return 5125;if(e===Float32Array)return 5126;throw new Error("unsupported typed array type")},t.getTypedArrayTypeForGLType=function(e){var t=n[e];if(!t)throw new Error("unknown gl type");return t},t.isArrayBuffer=void 0;var n={},r=n;r[5120]=Int8Array,r[5121]=Uint8Array,r[5122]=Int16Array,r[5123]=Uint16Array,r[5124]=Int32Array,r[5125]=Uint32Array,r[5126]=Float32Array,r[32819]=Uint16Array,r[32820]=Uint16Array,r[33635]=Uint16Array,r[5131]=Uint16Array,r[33640]=Uint32Array,r[35899]=Uint32Array,r[35902]=Uint32Array,r[36269]=Uint32Array,r[34042]=Uint32Array;var o="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};t.isArrayBuffer=o},"./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! no static exports found */function(e,t,i){"use strict";t.__esModule=!0,t.isWebGL1=function(e){return!e.texStorage2D},t.isWebGL2=function(e){return!!e.texStorage2D},t.glEnumToString=void 0;var n,r,o=(n={},r={},function(e,t){return function(e){var t=e.constructor.name;if(!n[t]){for(var i in e)if("number"==typeof e[i]){var o=r[e[i]];r[e[i]]=o?"".concat(o," | ").concat(i):i}n[t]=!0}}(e),r[t]||("number"==typeof t?"0x".concat(t.toString(16)):t)});t.glEnumToString=o},"./src/vertex-arrays.js":
/*!******************************!*\
  !*** ./src/vertex-arrays.js ***!
  \******************************/
/*! no static exports found */function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.createVertexArrayInfo=function(e,t,i){var n=e.createVertexArray();return e.bindVertexArray(n),t.length||(t=[t]),t.forEach((function(t){r.setBuffersAndAttributes(e,t,i)})),e.bindVertexArray(null),{numElements:i.numElements,elementType:i.elementType,vertexArrayObject:n}},t.createVAOAndSetAttributes=a,t.createVAOFromBufferInfo=function(e,t,i){return a(e,t.attribSetters||t,i.attribs,i.indices)};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,t&&t.set(e,i),i}(i(/*! ./programs.js */"./src/programs.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e,t,i,n){var o=e.createVertexArray();return e.bindVertexArray(o),r.setAttributes(t,i),n&&e.bindBuffer(34963,n),e.bindVertexArray(null),o}}})},e.exports=n()},function(e,t,i){var n=i(33),r=Function.prototype,o=r.bind,a=r.call,s=n&&o.bind(a,a);e.exports=n?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var n=i(5),r=i(60),o=i(8),a=i(37),s=i(61),l=i(62),u=r("wks"),c=n.Symbol,h=c&&c.for,d=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&h?h(t):d(t)}return u[e]}},function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,i(59))},function(e,t,i){var n=i(2);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},function(e,t,i){var n=i(3);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,i){var n=i(1),r=i(18),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},function(e,t,i){var n=i(7),r=i(64),o=i(63),a=i(10),s=i(38),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor;t.f=n?o?function(e,t,i){if(a(e),t=s(t),a(i),"function"==typeof e&&"prototype"===t&&"value"in i&&"writable"in i&&!i.writable){var n=c(e,t);n&&n.writable&&(e[t]=i.value,i={configurable:"configurable"in i?i.configurable:n.configurable,enumerable:"enumerable"in i?i.enumerable:n.enumerable,writable:!1})}return u(e,t,i)}:u:function(e,t,i){if(a(e),t=s(t),a(i),r)try{return u(e,t,i)}catch(e){}if("get"in i||"set"in i)throw l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(6),r=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw o(r(e)+" is not an object")}},function(e,t,i){e.exports=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t,i){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return i&&o(r,i.prototype),r}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,r(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,e)})(e)}function l(e,t){try{var i=e()}catch(e){return t(e)}return i&&i.then?i.then(void 0,t):i}var u;"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(e){e[e.off=0]="off",e[e.error=1]="error",e[e.warning=2]="warning",e[e.info=3]="info",e[e.debug=4]="debug"}(u||(u={}));var c=u.off,h=function(){function e(e){this.t=e}e.getLevel=function(){return c},e.setLevel=function(e){return c=u[e]};var t=e.prototype;return t.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.error,u.error,t)},t.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.warn,u.warning,t)},t.info=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.info,u.info,t)},t.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.i(console.log,u.debug,t)},t.i=function(t,i,n){i<=e.getLevel()&&t.apply(console,["["+this.t+"] "].concat(n))},e}(),d=E,f=b,p=y,g=w,v=_,m=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function y(e,t){for(var i,n=[],r=0,o=0,a="",s=t&&t.delimiter||"/",l=t&&t.whitelist||void 0,u=!1;null!==(i=m.exec(e));){var c=i[0],h=i[1],d=i.index;if(a+=e.slice(o,d),o=d+c.length,h)a+=h[1],u=!0;else{var f="",p=i[2],g=i[3],v=i[4],y=i[5];if(!u&&a.length){var b=a.length-1,w=a[b];(!l||l.indexOf(w)>-1)&&(f=w,a=a.slice(0,b))}a&&(n.push(a),a="",u=!1);var S=g||v,_=f||s;n.push({name:p||r++,prefix:f,delimiter:_,optional:"?"===y||"*"===y,repeat:"+"===y||"*"===y,pattern:S?D(S):"[^"+x(_===s?_:_+s)+"]+?"})}}return(a||o<e.length)&&n.push(a+e.substr(o)),n}function b(e,t){return function(i,n){var r=e.exec(i);if(!r)return!1;for(var o=r[0],a=r.index,s={},l=n&&n.decode||decodeURIComponent,u=1;u<r.length;u++)if(void 0!==r[u]){var c=t[u-1];s[c.name]=c.repeat?r[u].split(c.delimiter).map((function(e){return l(e,c)})):l(r[u],c)}return{path:o,index:a,params:s}}}function w(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^(?:"+e[n].pattern+")$",S(t)));return function(t,n){for(var r="",o=n&&n.encode||encodeURIComponent,a=!n||!1!==n.validate,s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){var u,c=t?t[l.name]:void 0;if(Array.isArray(c)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(0===c.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<c.length;h++){if(u=o(c[h],l),a&&!i[s].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');r+=(0===h?l.prefix:l.delimiter)+u}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(u=o(String(c),l),a&&!i[s].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+u+'"');r+=l.prefix+u}}else r+=l}return r}}function x(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function D(e){return e.replace(/([=!:$/()])/g,"\\$1")}function S(e){return e&&e.sensitive?"":"i"}function _(e,t,i){for(var n=(i=i||{}).strict,r=!1!==i.start,o=!1!==i.end,a=i.delimiter||"/",s=[].concat(i.endsWith||[]).map(x).concat("$").join("|"),l=r?"^":"",u=0;u<e.length;u++){var c=e[u];if("string"==typeof c)l+=x(c);else{var h=c.repeat?"(?:"+c.pattern+")(?:"+x(c.delimiter)+"(?:"+c.pattern+"))*":c.pattern;t&&t.push(c),l+=c.optional?c.prefix?"(?:"+x(c.prefix)+"("+h+"))?":"("+h+")?":x(c.prefix)+"("+h+")"}}if(o)n||(l+="(?:"+x(a)+")?"),l+="$"===s?"$":"(?="+s+")";else{var d=e[e.length-1],f="string"==typeof d?d[d.length-1]===a:void 0===d;n||(l+="(?:"+x(a)+"(?="+s+"))?"),f||(l+="(?="+x(a)+"|"+s+")")}return new RegExp(l,S(i))}function E(e,t,i){return e instanceof RegExp?function(e,t){if(!t)return e;var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,i){for(var n=[],r=0;r<e.length;r++)n.push(E(e[r],t,i).source);return new RegExp("(?:"+n.join("|")+")",S(i))}(e,t,i):function(e,t,i){return _(y(e,i),t,i)}(e,t,i)}d.match=function(e,t){var i=[];return b(E(e,i,t),i)},d.regexpToFunction=f,d.parse=p,d.compile=function(e,t){return w(y(e,t),t)},d.tokensToFunction=g,d.tokensToRegExp=v;var C={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},k=new(function(){function e(){this.o=C,this.u=new DOMParser}var t=e.prototype;return t.toString=function(e){return e.outerHTML},t.toDocument=function(e){return this.u.parseFromString(e,"text/html")},t.toElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t},t.getHtml=function(e){return void 0===e&&(e=document),this.toString(e.documentElement)},t.getWrapper=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},t.getContainer=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},t.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},t.addContainer=function(e,t){var i=this.getContainer();i?this.s(e,i):t.appendChild(e)},t.getNamespace=function(e){void 0===e&&(e=document);var t=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return t?t.getAttribute(this.o.prefix+"-"+this.o.namespace):null},t.getHref=function(e){if(e.tagName&&"a"===e.tagName.toLowerCase()){if("string"==typeof e.href)return e.href;var t=e.getAttribute("href")||e.getAttribute("xlink:href");if(t)return this.resolveUrl(t.baseVal||t)}return null},t.resolveUrl=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.length;if(0===n)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],1===n)return r.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild);for(var a,s=document.createElement("a"),l=1;l<n;l++)s.href=arguments[l],r.href=a=s.href;return o.removeChild(r),a},t.s=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},e}()),T=new(function(){function e(){this.h=[],this.v=-1}var n=e.prototype;return n.init=function(e,t){this.l="barba";var i={ns:t,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(i),this.v=0;var n={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(n,"",e)},n.change=function(e,t,i){if(i&&i.state){var n=i.state,r=n.index;t=this.m(this.v-r),this.replace(n.states),this.v=r}else this.add(e,t);return t},n.add=function(e,t){var i=this.size,n=this.p(t),r={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(r),this.v=i;var o={from:this.l,index:i,states:[].concat(this.h)};switch(n){case"push":window.history&&window.history.pushState(o,"",e);break;case"replace":window.history&&window.history.replaceState(o,"",e)}},n.update=function(e,t){var n=t||this.v,r=i({},this.get(n),{},e);this.set(n,r)},n.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},n.clear=function(){this.h=[],this.v=-1},n.replace=function(e){this.h=e},n.get=function(e){return this.h[e]},n.set=function(e,t){return this.h[e]=t},n.p=function(e){var t="push",i=e,n=C.prefix+"-"+C.history;return i.hasAttribute&&i.hasAttribute(n)&&(t=i.getAttribute(n)),t},n.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":0===e?"popstate":e>0?"back":"forward"},t(e,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),e}()),A=function(e,t){try{var i=function(){if(!t.next.html)return Promise.resolve(e).then((function(e){var i=t.next;if(e){var n=k.toElement(e);i.namespace=k.getNamespace(n),i.container=k.getContainer(n),i.html=e,T.update({ns:i.namespace});var r=k.toDocument(e);document.title=r.title}}))}();return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},O=d,P={__proto__:null,update:A,nextTick:function(){return new Promise((function(e){window.requestAnimationFrame(e)}))},pathToRegexp:O},L=function(){return window.location.origin},I=function(e){return void 0===e&&(e=window.location.href),F(e).port},F=function(e){var t,i=e.match(/:\d+/);if(null===i)/^http/.test(e)&&(t=80),/^https/.test(e)&&(t=443);else{var n=i[0].substring(1);t=parseInt(n,10)}var r,o=e.replace(L(),""),a={},s=o.indexOf("#");s>=0&&(r=o.slice(s+1),o=o.slice(0,s));var l=o.indexOf("?");return l>=0&&(a=M(o.slice(l+1)),o=o.slice(0,l)),{hash:r,path:o,port:t,query:a}},M=function(e){return e.split("&").reduce((function(e,t){var i=t.split("=");return e[i[0]]=i[1],e}),{})},j=function(e){return void 0===e&&(e=window.location.href),e.replace(/(\/#.*|\/|#.*)$/,"")},q={__proto__:null,getHref:function(){return window.location.href},getOrigin:L,getPort:I,getPath:function(e){return void 0===e&&(e=window.location.href),F(e).path},parse:F,parseQuery:M,clean:j};function R(e,t,i){return void 0===t&&(t=2e3),new Promise((function(n,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)n(o.responseText);else if(o.status){var t={status:o.status,statusText:o.statusText};i(e,t),r(t)}},o.ontimeout=function(){var n=new Error("Timeout error ["+t+"]");i(e,n),r(n)},o.onerror=function(){var t=new Error("Fetch error");i(e,t),r(t)},o.open("GET",e),o.timeout=t,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()}))}var B=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then};function z(e,t){return void 0===t&&(t={}),function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=!1,a=new Promise((function(i,r){t.async=function(){return o=!0,function(e,t){e?r(e):i(t)}};var a=e.apply(t,n);o||(B(a)?a.then(i,r):i(a))}));return a}}var N=new(function(e){function t(){var t;return(t=e.call(this)||this).logger=new h("@barba/core"),t.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],t.registered=new Map,t.init(),t}n(t,e);var i=t.prototype;return i.init=function(){var e=this;this.registered.clear(),this.all.forEach((function(t){e[t]||(e[t]=function(i,n){e.registered.has(t)||e.registered.set(t,new Set),e.registered.get(t).add({ctx:n||{},fn:i})})}))},i.do=function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(this.registered.has(e)){var o=Promise.resolve();return this.registered.get(e).forEach((function(e){o=o.then((function(){return z(e.fn,e.ctx).apply(void 0,n)}))})),o.catch((function(i){t.logger.debug("Hook error ["+e+"]"),t.logger.error(i)}))}return Promise.resolve()},i.clear=function(){var e=this;this.all.forEach((function(t){delete e[t]})),this.init()},i.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var e=[];this.registered.forEach((function(t,i){return e.push(i)})),this.logger.info("Registered hooks: "+e.join(","))},t}((function(){}))),H=function(){function e(e){if(this.P=[],"boolean"==typeof e)this.g=e;else{var t=Array.isArray(e)?e:[e];this.P=t.map((function(e){return O(e)}))}}return e.prototype.checkHref=function(e){if("boolean"==typeof this.g)return this.g;var t=F(e).path;return this.P.some((function(e){return null!==e.exec(t)}))},e}(),U=function(e){function t(t){var i;return(i=e.call(this,t)||this).k=new Map,i}n(t,e);var r=t.prototype;return r.set=function(e,t,i){return this.k.set(e,{action:i,request:t}),{action:i,request:t}},r.get=function(e){return this.k.get(e)},r.getRequest=function(e){return this.k.get(e).request},r.getAction=function(e){return this.k.get(e).action},r.has=function(e){return!this.checkHref(e)&&this.k.has(e)},r.delete=function(e){return this.k.delete(e)},r.update=function(e,t){var n=i({},this.k.get(e),{},t);return this.k.set(e,n),n},t}(H),W=function(){return!window.history.pushState},Y=function(e){return!e.el||!e.href},V=function(e){var t=e.event;return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},X=function(e){var t=e.el;return t.hasAttribute("target")&&"_blank"===t.target},G=function(e){var t=e.el;return void 0!==t.protocol&&window.location.protocol!==t.protocol||void 0!==t.hostname&&window.location.hostname!==t.hostname},$=function(e){var t=e.el;return void 0!==t.port&&I()!==I(t.href)},Z=function(e){var t=e.el;return t.getAttribute&&"string"==typeof t.getAttribute("download")},K=function(e){return e.el.hasAttribute(C.prefix+"-"+C.prevent)},J=function(e){return Boolean(e.el.closest("["+C.prefix+"-"+C.prevent+'="all"]'))},Q=function(e){var t=e.href;return j(t)===j()&&I(t)===I()},ee=function(e){function t(t){var i;return(i=e.call(this,t)||this).suite=[],i.tests=new Map,i.init(),i}n(t,e);var i=t.prototype;return i.init=function(){this.add("pushState",W),this.add("exists",Y),this.add("newTab",V),this.add("blank",X),this.add("corsDomain",G),this.add("corsPort",$),this.add("download",Z),this.add("preventSelf",K),this.add("preventAll",J),this.add("sameUrl",Q,!1)},i.add=function(e,t,i){void 0===i&&(i=!0),this.tests.set(e,t),i&&this.suite.push(e)},i.run=function(e,t,i,n){return this.tests.get(e)({el:t,event:i,href:n})},i.checkLink=function(e,t,i){var n=this;return this.suite.some((function(r){return n.run(r,e,t,i)}))},t}(H),te=function(e){function t(i,n){var r;void 0===n&&(n="Barba error");for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return(r=e.call.apply(e,[this].concat(a))||this).error=i,r.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),t),r.name="BarbaError",r}return n(t,e),t}(s(Error)),ie=function(){function e(e){void 0===e&&(e=[]),this.logger=new h("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var t=e.prototype;return t.add=function(e,t){switch(e){case"rule":this.A.splice(t.position||0,0,t.value);break;case"transition":default:this.all.push(t)}this.update()},t.resolve=function(e,t){var i=this;void 0===t&&(t={});var n=t.once?this.once:this.page;n=n.filter(t.self?function(e){return e.name&&"self"===e.name}:function(e){return!e.name||"self"!==e.name});var r=new Map,o=n.find((function(n){var o=!0,a={};return!(!t.self||"self"!==n.name)||(i.A.reverse().forEach((function(t){o&&(o=i.R(n,t,e,a),n.from&&n.to&&(o=i.R(n,t,e,a,"from")&&i.R(n,t,e,a,"to")),n.from&&!n.to&&(o=i.R(n,t,e,a,"from")),!n.from&&n.to&&(o=i.R(n,t,e,a,"to")))})),r.set(n,a),o)})),a=r.get(o),s=[];if(s.push(t.once?"once":"page"),t.self&&s.push("self"),a){var l,u=[o];Object.keys(a).length>0&&u.push(a),(l=this.logger).info.apply(l,["Transition found ["+s.join(",")+"]"].concat(u))}else this.logger.info("No transition found ["+s.join(",")+"]");return o},t.update=function(){var e=this;this.all=this.all.map((function(t){return e.T(t)})).sort((function(e,t){return e.priority-t.priority})).reverse().map((function(e){return delete e.priority,e})),this.page=this.all.filter((function(e){return void 0!==e.leave||void 0!==e.enter})),this.once=this.all.filter((function(e){return void 0!==e.once}))},t.R=function(e,t,i,n,r){var o=!0,a=!1,s=e,l=t.name,u=l,c=l,h=l,d=r?s[r]:s,f="to"===r?i.next:i.current;if(r?d&&d[l]:d[l]){switch(t.type){case"strings":default:var p=Array.isArray(d[u])?d[u]:[d[u]];f[u]&&-1!==p.indexOf(f[u])&&(a=!0),-1===p.indexOf(f[u])&&(o=!1);break;case"object":var g=Array.isArray(d[c])?d[c]:[d[c]];f[c]?(f[c].name&&-1!==g.indexOf(f[c].name)&&(a=!0),-1===g.indexOf(f[c].name)&&(o=!1)):o=!1;break;case"function":d[h](i)?a=!0:o=!1}a&&(r?(n[r]=n[r]||{},n[r][l]=s[r][l]):n[l]=s[l])}return o},t.O=function(e,t,i){var n=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(n+=Math.pow(10,i),e.from&&e.from[t]&&(n+=1),e.to&&e.to[t]&&(n+=2)),n},t.T=function(e){var t=this;e.priority=0;var i=0;return this.A.forEach((function(n,r){i+=t.O(e,n.name,r+1)})),e.priority=i,e},e}(),ne=function(){function e(e){void 0===e&&(e=[]),this.logger=new h("@barba/core"),this.S=!1,this.store=new ie(e)}var i=e.prototype;return i.get=function(e,t){return this.store.resolve(e,t)},i.doOnce=function(e){var t=e.data,i=e.transition;try{var n=function(){r.S=!1},r=this,o=i||{};r.S=!0;var a=l((function(){return Promise.resolve(r.j("beforeOnce",t,o)).then((function(){return Promise.resolve(r.once(t,o)).then((function(){return Promise.resolve(r.j("afterOnce",t,o)).then((function(){}))}))}))}),(function(e){r.S=!1,r.logger.debug("Transition error [before/after/once]"),r.logger.error(e)}));return Promise.resolve(a&&a.then?a.then(n):n())}catch(e){return Promise.reject(e)}},i.doPage=function(e){var t=e.data,i=e.transition,n=e.page,r=e.wrapper;try{var o=function(e){if(a)return e;s.S=!1},a=!1,s=this,u=i||{},c=!0===u.sync||!1;s.S=!0;var h=l((function(){function e(){return Promise.resolve(s.j("before",t,u)).then((function(){function e(e){return Promise.resolve(s.remove(t)).then((function(){return Promise.resolve(s.j("after",t,u)).then((function(){}))}))}var i=function(){if(c)return l((function(){return Promise.resolve(s.add(t,r)).then((function(){return Promise.resolve(s.j("beforeLeave",t,u)).then((function(){return Promise.resolve(s.j("beforeEnter",t,u)).then((function(){return Promise.resolve(Promise.all([s.leave(t,u),s.enter(t,u)])).then((function(){return Promise.resolve(s.j("afterLeave",t,u)).then((function(){return Promise.resolve(s.j("afterEnter",t,u)).then((function(){}))}))}))}))}))}))}),(function(e){if(s.M(e))throw new te(e,"Transition error [sync]")}));var e=function(e){return l((function(){var e=function(){if(!1!==i)return Promise.resolve(s.add(t,r)).then((function(){return Promise.resolve(s.j("beforeEnter",t,u)).then((function(){return Promise.resolve(s.enter(t,u,i)).then((function(){return Promise.resolve(s.j("afterEnter",t,u)).then((function(){}))}))}))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){if(s.M(e))throw new te(e,"Transition error [before/after/enter]")}))},i=!1,o=l((function(){return Promise.resolve(s.j("beforeLeave",t,u)).then((function(){return Promise.resolve(Promise.all([s.leave(t,u),A(n,t)]).then((function(e){return e[0]}))).then((function(e){return i=e,Promise.resolve(s.j("afterLeave",t,u)).then((function(){}))}))}))}),(function(e){if(s.M(e))throw new te(e,"Transition error [before/after/leave]")}));return o&&o.then?o.then(e):e()}();return i&&i.then?i.then(e):e()}))}var i=function(){if(c)return Promise.resolve(A(n,t)).then((function(){}))}();return i&&i.then?i.then(e):e()}),(function(e){if(s.S=!1,e.name&&"BarbaError"===e.name)throw s.logger.debug(e.label),s.logger.error(e.error),e;throw s.logger.debug("Transition error [page]"),s.logger.error(e),e}));return Promise.resolve(h&&h.then?h.then(o):o(h))}catch(e){return Promise.reject(e)}},i.once=function(e,t){try{return Promise.resolve(N.do("once",e,t)).then((function(){return t.once?z(t.once,t)(e):Promise.resolve()}))}catch(e){return Promise.reject(e)}},i.leave=function(e,t){try{return Promise.resolve(N.do("leave",e,t)).then((function(){return t.leave?z(t.leave,t)(e):Promise.resolve()}))}catch(e){return Promise.reject(e)}},i.enter=function(e,t,i){try{return Promise.resolve(N.do("enter",e,t)).then((function(){return t.enter?z(t.enter,t)(e,i):Promise.resolve()}))}catch(e){return Promise.reject(e)}},i.add=function(e,t){try{return k.addContainer(e.next.container,t),N.do("nextAdded",e),Promise.resolve()}catch(e){return Promise.reject(e)}},i.remove=function(e){try{return k.removeContainer(e.current.container),N.do("currentRemoved",e),Promise.resolve()}catch(e){return Promise.reject(e)}},i.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},i.j=function(e,t,i){try{return Promise.resolve(N.do(e,t,i)).then((function(){return i[e]?z(i[e],i)(t):Promise.resolve()}))}catch(e){return Promise.reject(e)}},t(e,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(e){return"self"===e.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(e){return e.to&&!e.to.route||e.sync}))}}]),e}(),re=function(){function e(e){var t=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==e.length&&(e.forEach((function(e){t.byNamespace.set(e.namespace,e)})),this.names.forEach((function(e){N[e](t.L(e))})))}return e.prototype.L=function(e){var t=this;return function(i){var n=e.match(/enter/i)?i.next:i.current,r=t.byNamespace.get(n.namespace);return r&&r[e]?z(r[e],r)(i):Promise.resolve()}},e}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var oe={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function e(){this.version="2.9.7",this.schemaPage=oe,this.Logger=h,this.logger=new h("@barba/core"),this.plugins=[],this.hooks=N,this.dom=k,this.helpers=P,this.history=T,this.request=R,this.url=q}var n=e.prototype;return n.use=function(e,t){var i=this.plugins;i.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):"function"==typeof e.install?(e.install(this,t),i.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},n.init=function(e){var t=void 0===e?{}:e,n=t.transitions,r=void 0===n?[]:n,o=t.views,a=void 0===o?[]:o,s=t.schema,l=void 0===s?C:s,u=t.requestError,c=t.timeout,d=void 0===c?2e3:c,f=t.cacheIgnore,p=void 0!==f&&f,g=t.prefetchIgnore,v=void 0!==g&&g,m=t.preventRunning,y=void 0!==m&&m,b=t.prevent,w=void 0===b?null:b,x=t.debug,D=t.logLevel;if(h.setLevel(!0===(void 0!==x&&x)?"debug":void 0===D?"off":D),this.logger.info(this.version),Object.keys(l).forEach((function(e){C[e]&&(C[e]=l[e])})),this.$=u,this.timeout=d,this.cacheIgnore=p,this.prefetchIgnore=v,this.preventRunning=y,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var S=this.data.current;if(!S.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new U(p),this.prevent=new ee(v),this.transitions=new ne(r),this.views=new re(a),null!==w){if("function"!=typeof w)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",w)}this.history.init(S.url.href,S.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(e){return e.init()}));var _=this.data;_.trigger="barba",_.next=_.current,_.current=i({},this.schemaPage),this.hooks.do("ready",_),this.once(_),this.q()},n.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},n.force=function(e){window.location.assign(e)},n.go=function(e,t,i){var n;if(void 0===t&&(t="barba"),this.transitions.isRunning)this.force(e);else if(!(n="popstate"===t?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return t=this.history.change(e,t,i),i&&(i.stopPropagation(),i.preventDefault()),this.page(e,t,n)},n.once=function(e){try{var t=this;return Promise.resolve(t.hooks.do("beforeEnter",e)).then((function(){function i(){return Promise.resolve(t.hooks.do("afterEnter",e)).then((function(){}))}var n=function(){if(t.transitions.hasOnce){var i=t.transitions.get(e,{once:!0});return Promise.resolve(t.transitions.doOnce({transition:i,data:e})).then((function(){}))}}();return n&&n.then?n.then(i):i()}))}catch(e){return Promise.reject(e)}},n.page=function(e,t,n){try{var r=function(){var e=o.data;return Promise.resolve(o.hooks.do("page",e)).then((function(){var t=l((function(){var t=o.transitions.get(e,{once:!1,self:n});return Promise.resolve(o.transitions.doPage({data:e,page:a,transition:t,wrapper:o._})).then((function(){o.q()}))}),(function(){0===h.getLevel()&&o.force(e.current.url.href)}));if(t&&t.then)return t.then((function(){}))}))},o=this;o.data.next.url=i({href:e},o.url.parse(e)),o.data.trigger=t;var a=o.cache.has(e)?o.cache.update(e,{action:"click"}).request:o.cache.set(e,o.request(e,o.timeout,o.onRequestError.bind(o,t)),"click").request,s=function(){if(o.transitions.shouldWait)return Promise.resolve(A(a,o.data)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(r):r())}catch(e){return Promise.reject(e)}},n.onRequestError=function(e){this.transitions.isRunning=!1;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=i[0],o=i[1],a=this.cache.getAction(r);return this.cache.delete(r),!(this.$&&!1===this.$(e,a,r,o)||("click"===a&&this.force(r),1))},n.prefetch=function(e){var t=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch((function(e){t.logger.error(e)})),"prefetch")},n.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},n.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},n.B=function(e){var t=this,i=this.I(e);if(i){var n=this.dom.getHref(i);this.prevent.checkHref(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,i)).catch((function(e){t.logger.error(e)})),"enter")}},n.U=function(e){var t=this.I(e);if(t)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(t),t,e)},n.D=function(e){this.go(this.url.getHref(),"popstate",e)},n.I=function(e){for(var t=e.target;t&&!this.dom.getHref(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,e,this.dom.getHref(t)))return t},n.q=function(){var e=this.url.getHref(),t={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:i({href:e},this.url.parse(e))};this.C={current:t,next:i({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},t(e,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),e}())}()},function(e,t,i){var n=i(33),r=Function.prototype.call;e.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},function(e,t,i){var n=i(32),r=i(34);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(5),r=i(2),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},function(e,t,i){var n,r,o,a=i(70),s=i(5),l=i(1),u=i(6),c=i(47),h=i(8),d=i(35),f=i(45),p=i(25),g=s.TypeError,v=s.WeakMap;if(a||d.state){var m=d.state||(d.state=new v),y=l(m.get),b=l(m.has),w=l(m.set);n=function(e,t){if(b(m,e))throw new g("Object already initialized");return t.facade=e,w(m,e,t),t},r=function(e){return y(m,e)||{}},o=function(e){return b(m,e)}}else{var x=f("state");p[x]=!0,n=function(e,t){if(h(e,x))throw new g("Object already initialized");return t.facade=e,c(e,x,t),t},r=function(e){return h(e,x)?e[x]:{}},o=function(e){return h(e,x)}}e.exports={set:n,get:r,has:o,enforce:function(e){return o(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!u(t)||(i=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return i}}}},function(e,t,i){var n=i(2),r=i(9),o=i(103),a=i(36);e.exports=function(e,t,i,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(n(i)&&o(i,u,s),s.global)l?e[t]=i:a(t,i);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=i:r.f(e,t,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},function(e,t,i){var n=i(1),r=n({}.toString),o=n("".slice);e.exports=function(e){return o(r(e),8,-1)}},function(e,t,i){var n=i(34),r=Object;e.exports=function(e){return r(n(e))}},function(e,t,i){var n=i(101);e.exports=function(e){return n(e.length)}},function(e,t){e.exports={}},function(e,t,i){var n=i(5),r=i(71).f,o=i(47),a=i(16),s=i(36),l=i(104),u=i(75);e.exports=function(e,t){var i,c,h,d,f,p=e.target,g=e.global,v=e.stat;if(i=g?n:v?n[p]||s(p,{}):(n[p]||{}).prototype)for(c in t){if(d=t[c],h=e.dontCallGetSet?(f=r(i,c))&&f.value:i[c],!u(g?c:p+(v?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),a(i,c,d,e)}}},function(e,t,i){var n=i(5);e.exports=n},function(e,t){e.exports=!1},function(e,t,i){var n,r=i(10),o=i(96),a=i(44),s=i(25),l=i(102),u=i(65),c=i(45),h=c("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;g="undefined"!=typeof document?document.domain&&n?p(n):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(n);for(var i=a.length;i--;)delete g.prototype[a[i]];return g()};s[h]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(d.prototype=r(e),i=new d,d.prototype=null,i[h]=e):i=g(),void 0===t?i:o.f(i,t)}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(21),r=i(1),o=i(25),a=i(6),s=i(8),l=i(9).f,u=i(49),c=i(111),h=i(80),d=i(37),f=i(114),p=!1,g=d("meta"),v=0,m=function(e){l(e,g,{value:{objectID:"O"+v++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=u.f,t=r([].splice),i={};i[g]=1,e(i).length&&(u.f=function(i){for(var n=e(i),r=0,o=n.length;r<o;r++)if(n[r]===g){t(n,r,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!h(e))return"F";if(!t)return"E";m(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!h(e))return!0;if(!t)return!1;m(e)}return e[g].weakData},onFreeze:function(e){return f&&p&&h(e)&&!s(e,g)&&m(e),e}};o[g]=!0},function(e,t,i){var n=i(1),r=i(41),o=i(33),a=n(n.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},function(e,t,i){var n=i(54),r=i(2),o=i(17),a=i(4)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?i:l?o(t):"Object"==(n=o(t))&&r(t.callee)?"Arguments":n}},function(e,t,i){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function i(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function r(e){var t=e.g.offsetWidth,i=t+100;return e.j.style.width=i+"px",e.i.scrollLeft=i,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function o(e,i){function n(){var e=o;r(e)&&null!==e.g.parentNode&&i(e.l)}var o=e;t(e.h,n),t(e.i,n),r(e)}function a(e,t,i){t=t||{},i=i||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=i}var s=null,l=null,u=null,c=null;function h(e){return null===c&&(c=!!e.document.fonts),c}function d(e,t){var i=e.style,n=e.weight;if(null===u){var r=document.createElement("div");try{r.style.font="condensed 100px sans-serif"}catch(e){}u=""!==r.style.font}return[i,n,u?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var r=this,a=e||"BESbswy",u=0,c=t||3e3,f=(new Date).getTime();return new Promise((function(e,t){if(h(r.context)&&!function(e){return null===l&&(h(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!e&&603>parseInt(e[1],10)):l=!1),l}(r.context)){var p=new Promise((function(e,t){!function i(){(new Date).getTime()-f>=c?t(Error(c+"ms timeout exceeded")):r.context.document.fonts.load(d(r,'"'+r.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(i,25)}),t)}()})),g=new Promise((function(e,t){u=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([g,p]).then((function(){clearTimeout(u),e(r)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=v&&-1!=m||-1!=v&&-1!=y||-1!=m&&-1!=y)&&((t=v!=m&&v!=y&&m!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(v==b&&m==b&&y==b||v==w&&m==w&&y==w||v==x&&m==x&&y==x)),t=!t),t&&(null!==D.parentNode&&D.parentNode.removeChild(D),clearTimeout(u),e(r))}var h=new i(a),p=new i(a),g=new i(a),v=-1,m=-1,y=-1,b=-1,w=-1,x=-1,D=document.createElement("div");D.dir="ltr",n(h,d(r,"sans-serif")),n(p,d(r,"serif")),n(g,d(r,"monospace")),D.appendChild(h.g),D.appendChild(p.g),D.appendChild(g.g),r.context.document.body.appendChild(D),b=h.g.offsetWidth,w=p.g.offsetWidth,x=g.g.offsetWidth,function e(){if((new Date).getTime()-f>=c)null!==D.parentNode&&D.parentNode.removeChild(D),t(Error(c+"ms timeout exceeded"));else{var i=r.context.document.hidden;!0!==i&&void 0!==i||(v=h.g.offsetWidth,m=p.g.offsetWidth,y=g.g.offsetWidth,l()),u=setTimeout(e,50)}}(),o(h,(function(e){v=e,l()})),n(h,d(r,'"'+r.family+'",sans-serif')),o(p,(function(e){m=e,l()})),n(p,d(r,'"'+r.family+'",serif')),o(g,(function(e){y=e,l()})),n(g,d(r,'"'+r.family+'",monospace'))}))}))},e.exports=a}()},function(e,t,i){"use strict";var n=i(13),r=i(93),o=i(20),a=i(15),s=i(9).f,l=i(48),u=i(23),c=i(7),h=a.set,d=a.getterFor("Array Iterator");e.exports=l(Array,"Array",(function(e,t){h(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var f=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!u&&c&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(e){}},function(e,t,i){var n=i(1),r=i(3),o=i(17),a=Object,s=n("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},function(e,t,i){var n=i(3);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t){var i=TypeError;e.exports=function(e){if(null==e)throw i("Can't call method on "+e);return e}},function(e,t,i){var n=i(5),r=i(36),o=n["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=o},function(e,t,i){var n=i(5),r=Object.defineProperty;e.exports=function(e,t){try{r(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},function(e,t,i){var n=i(1),r=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+o,36)}},function(e,t,i){var n=i(97),r=i(66);e.exports=function(e){var t=n(e,"string");return r(t)?t:t+""}},function(e,t,i){var n=i(1);e.exports=n({}.isPrototypeOf)},function(e,t,i){var n=i(41);e.exports=function(e,t){var i=e[t];return null==i?void 0:n(i)}},function(e,t,i){var n=i(2),r=i(42),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(r(e)+" is not a function")}},function(e,t){var i=String;e.exports=function(e){try{return i(e)}catch(e){return"Object"}}},function(e,t,i){var n=i(100);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,i){var n=i(60),r=i(37),o=n("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t,i){var n=i(1),r=i(2),o=i(35),a=n(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},function(e,t,i){var n=i(7),r=i(9),o=i(26);e.exports=n?function(e,t,i){return r.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){"use strict";var n=i(21),r=i(12),o=i(23),a=i(73),s=i(2),l=i(106),u=i(77),c=i(78),h=i(50),d=i(47),f=i(16),p=i(4),g=i(20),v=i(76),m=a.PROPER,y=a.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,x=p("iterator"),D=function(){return this};e.exports=function(e,t,i,a,p,v,S){l(i,t,a);var _,E,C,k=function(e){if(e===p&&L)return L;if(!w&&e in O)return O[e];switch(e){case"keys":case"values":case"entries":return function(){return new i(this,e)}}return function(){return new i(this)}},T=t+" Iterator",A=!1,O=e.prototype,P=O[x]||O["@@iterator"]||p&&O[p],L=!w&&P||k(p),I="Array"==t&&O.entries||P;if(I&&(_=u(I.call(new e)))!==Object.prototype&&_.next&&(o||u(_)===b||(c?c(_,b):s(_[x])||f(_,x,D)),h(_,T,!0,!0),o&&(g[T]=D)),m&&"values"==p&&P&&"values"!==P.name&&(!o&&y?d(O,"name","values"):(A=!0,L=function(){return r(P,this)})),p)if(E={values:k("values"),keys:v?L:k("keys"),entries:k("entries")},S)for(C in E)(w||A||!(C in O))&&f(O,C,E[C]);else n({target:t,proto:!0,forced:w||A},E);return o&&!S||O[x]===L||f(O,x,L,{name:p}),g[t]=L,E}},function(e,t,i){var n=i(68),r=i(44).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){var n=i(9).f,r=i(8),o=i(4)("toStringTag");e.exports=function(e,t,i){e&&!i&&(e=e.prototype),e&&!r(e,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,i){"use strict";var n=i(21),r=i(5),o=i(1),a=i(75),s=i(16),l=i(27),u=i(52),c=i(55),h=i(2),d=i(6),f=i(3),p=i(84),g=i(50),v=i(115);e.exports=function(e,t,i){var m=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=m?"set":"add",w=r[e],x=w&&w.prototype,D=w,S={},_=function(e){var t=o(x[e]);s(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:function(e,i){return t(this,0===e?0:e,i),this})};if(a(e,!h(w)||!(y||x.forEach&&!f((function(){(new w).entries().next()})))))D=i.getConstructor(t,e,m,b),l.enable();else if(a(e,!0)){var E=new D,C=E[b](y?{}:-0,1)!=E,k=f((function(){E.has(1)})),T=p((function(e){new w(e)})),A=!y&&f((function(){for(var e=new w,t=5;t--;)e[b](t,t);return!e.has(-0)}));T||((D=t((function(e,t){c(e,x);var i=v(new w,e,D);return null!=t&&u(t,i[b],{that:i,AS_ENTRIES:m}),i}))).prototype=x,x.constructor=D),(k||A)&&(_("delete"),_("has"),m&&_("get")),(A||C)&&_(b),y&&x.clear&&delete x.clear}return S[e]=D,n({global:!0,constructor:!0,forced:D!=w},S),g(D,e),y||i.setStrong(D,e,m),D}},function(e,t,i){var n=i(28),r=i(12),o=i(10),a=i(42),s=i(81),l=i(19),u=i(39),c=i(82),h=i(53),d=i(83),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,i){var v,m,y,b,w,x,D,S=i&&i.that,_=!(!i||!i.AS_ENTRIES),E=!(!i||!i.IS_RECORD),C=!(!i||!i.IS_ITERATOR),k=!(!i||!i.INTERRUPTED),T=n(t,S),A=function(e){return v&&d(v,"normal",e),new p(!0,e)},O=function(e){return _?(o(e),k?T(e[0],e[1],A):T(e[0],e[1])):k?T(e,A):T(e)};if(E)v=e.iterator;else if(C)v=e;else{if(!(m=h(e)))throw f(a(e)+" is not iterable");if(s(m)){for(y=0,b=l(e);b>y;y++)if((w=O(e[y]))&&u(g,w))return w;return new p(!1)}v=c(e,m)}for(x=E?e.next:v.next;!(D=r(x,v)).done;){try{w=O(D.value)}catch(e){d(v,"throw",e)}if("object"==typeof w&&w&&u(g,w))return w}return new p(!1)}},function(e,t,i){var n=i(29),r=i(40),o=i(20),a=i(4)("iterator");e.exports=function(e){if(null!=e)return r(e,a)||r(e,"@@iterator")||o[n(e)]}},function(e,t,i){var n={};n[i(4)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,i){var n=i(39),r=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw r("Incorrect invocation")}},function(e,t,i){var n=i(16);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},function(e,t,i){var n=i(54),r=i(16),o=i(117);n||r(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,i){"use strict";var n=i(118).charAt,r=i(86),o=i(15),a=i(48),s=o.set,l=o.getterFor("String Iterator");a(String,"String",(function(e){s(this,{type:"String Iterator",string:r(e),index:0})}),(function(){var e,t=l(this),i=t.string,r=t.index;return r>=i.length?{value:void 0,done:!0}:(e=n(i,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){var n=i(23),r=i(35);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,i){var n=i(94),r=i(3);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(e,t,i){var n=i(61);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,i){var n=i(7),r=i(3);e.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,i){var n=i(7),r=i(3),o=i(65);e.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,i){var n=i(5),r=i(6),o=n.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,i){var n=i(14),r=i(2),o=i(39),a=i(62),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return r(t)&&o(t.prototype,s(e))}},function(e,t,i){var n=i(68),r=i(44);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){var n=i(1),r=i(8),o=i(13),a=i(99).indexOf,s=i(25),l=n([].push);e.exports=function(e,t){var i,n=o(e),u=0,c=[];for(i in n)!r(s,i)&&r(n,i)&&l(c,i);for(;t.length>u;)r(n,i=t[u++])&&(~a(c,i)||l(c,i));return c}},function(e,t,i){var n=i(43),r=Math.max,o=Math.min;e.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):o(i,t)}},function(e,t,i){var n=i(5),r=i(2),o=i(46),a=n.WeakMap;e.exports=r(a)&&/native code/.test(o(a))},function(e,t,i){var n=i(7),r=i(12),o=i(72),a=i(26),s=i(13),l=i(38),u=i(8),c=i(64),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=s(e),t=l(t),c)try{return h(e,t)}catch(e){}if(u(e,t))return a(!r(o.f,e,t),e[t])}},function(e,t,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},function(e,t,i){var n=i(7),r=i(8),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){var n=i(3),r=i(2),o=/#|\.prototype\./,a=function(e,t){var i=l[s(e)];return i==c||i!=u&&(r(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,i){"use strict";var n,r,o,a=i(3),s=i(2),l=i(24),u=i(77),c=i(16),h=i(4),d=i(23),f=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=u(u(o)))!==Object.prototype&&(n=r):p=!0),null==n||a((function(){var e={};return n[f].call(e)!==e}))?n={}:d&&(n=l(n)),s(n[f])||c(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(e,t,i){var n=i(8),r=i(2),o=i(18),a=i(45),s=i(107),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(n(t,l))return t[l];var i=t.constructor;return r(i)&&t instanceof i?i.prototype:t instanceof u?c:null}},function(e,t,i){var n=i(1),r=i(10),o=i(108);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return r(i),o(n),t?e(i,n):i.__proto__=n,i}}():void 0)},function(e,t,i){"use strict";var n=i(38),r=i(9),o=i(26);e.exports=function(e,t,i){var a=n(t);a in e?r.f(e,a,o(0,i)):e[a]=i}},function(e,t,i){var n=i(3),r=i(6),o=i(17),a=i(113),s=Object.isExtensible,l=n((function(){s(1)}));e.exports=l||a?function(e){return!!r(e)&&((!a||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},function(e,t,i){var n=i(4),r=i(20),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},function(e,t,i){var n=i(12),r=i(41),o=i(10),a=i(42),s=i(53),l=TypeError;e.exports=function(e,t){var i=arguments.length<2?s(e):t;if(r(i))return o(n(i,e));throw l(a(e)+" is not iterable")}},function(e,t,i){var n=i(12),r=i(10),o=i(40);e.exports=function(e,t,i){var a,s;r(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw i;return i}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw i;if(s)throw a;return r(a),i}},function(e,t,i){var n=i(4)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var o={};o[n]=function(){return{next:function(){return{done:i=!0}}}},e(o)}catch(e){}return i}},function(e,t,i){"use strict";var n=i(9).f,r=i(24),o=i(56),a=i(28),s=i(55),l=i(52),u=i(48),c=i(116),h=i(7),d=i(27).fastKey,f=i(15),p=f.set,g=f.getterFor;e.exports={getConstructor:function(e,t,i,u){var c=e((function(e,n){s(e,f),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=n&&l(n,e[u],{that:e,AS_ENTRIES:i})})),f=c.prototype,v=g(t),m=function(e,t,i){var n,r,o=v(e),a=y(e,t);return a?a.value=i:(o.last=a={index:r=d(t,!0),key:t,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),h?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},y=function(e,t){var i,n=v(e),r=d(t);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==t)return i};return o(f,{clear:function(){for(var e=v(this),t=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete t[i.index],i=i.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=v(this),i=y(this,e);if(i){var n=i.next,r=i.previous;delete t.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first==i&&(t.first=n),t.last==i&&(t.last=r),h?t.size--:this.size--}return!!i},forEach:function(e){for(var t,i=v(this),n=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:i.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(f,i?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),h&&n(f,"size",{get:function(){return v(this).size}}),c},setStrong:function(e,t,i){var n=t+" Iterator",r=g(t),o=g(n);u(e,t,(function(e,t){p(this,{type:n,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),c(t)}}},function(e,t,i){var n=i(29),r=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},function(e,t,i){var n=i(1),r=i(3),o=i(2),a=i(29),s=i(14),l=i(46),u=function(){},c=[],h=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=n(d.exec),p=!d.exec(u),g=function(e){if(!o(e))return!1;try{return h(u,c,e),!0}catch(e){return!1}},v=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(e){return!0}};v.sham=!0,e.exports=!h||r((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?v:g},function(e,t,i){var n;e.exports=(n=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},new(function(){function e(){this.name="@barba/prefetch",this.version="2.1.10",this.toPrefetch=new Set}var t=e.prototype;return t.install=function(e,t){var i=void 0===t?{}:t,n=i.root,r=void 0===n?document.body:n,o=i.timeout,a=void 0===o?2e3:o;this.logger=new e.Logger(this.name),this.logger.info(this.version),this.barba=e,this.root=r,this.timeout=a},t.init=function(){var e=this;this.barba.prefetchIgnore?this.logger.warn("barba.prefetchIgnore is enabled"):this.barba.cacheIgnore?this.logger.warn("barba.cacheIgnore is enabled"):(this.observer=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var i=t.target,n=e.barba.dom.getHref(i);e.toPrefetch.has(n)&&(e.observer.unobserve(i),e.barba.cache.has(n)?e.barba.cache.update(n,{action:"prefetch"}):e.barba.cache.set(n,e.barba.request(n,e.barba.timeout,e.barba.onRequestError.bind(e.barba,"barba")).catch((function(t){e.logger.error(t)})),"prefetch"))}}))})),this.observe(),this.barba.hooks.after(this.observe,this))},t.observe=function(){var e=this;n((function(){e.root.querySelectorAll("a").forEach((function(t){var i=t,n=e.barba.dom.getHref(i);e.barba.cache.has(n)||e.barba.prevent.checkHref(n)||e.barba.prevent.checkLink(i,{},n)||(e.observer.observe(t),e.toPrefetch.add(n))}))}),{timeout:this.timeout})},e}()))},function(e,t,i){"use strict";(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.a=i}).call(this,i(59))},function(e,t,i){},function(e,t){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]}))},n.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var r=n.element,o=a(r),s=this._rootContainsTarget(r),l=n.entry,u=e&&s&&this._computeTargetAndRootIntersection(r,t),c=n.entry=new i({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:o,rootBounds:t,intersectionRect:u});l?e&&s?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(t,i){if("none"!=window.getComputedStyle(t).display){for(var n,r,o,s,u,c,h,d,f=a(t),p=l(t),g=!1;!g;){var v=null,m=1==p.nodeType?window.getComputedStyle(p):{};if("none"==m.display)return;if(p==this.root||p==e?(g=!0,v=i):p!=e.body&&p!=e.documentElement&&"visible"!=m.overflow&&(v=a(p)),v&&(n=v,r=f,o=void 0,s=void 0,u=void 0,c=void 0,h=void 0,d=void 0,o=Math.max(n.top,r.top),s=Math.min(n.bottom,r.bottom),u=Math.max(n.left,r.left),c=Math.min(n.right,r.right),d=s-o,!(f=(h=c-u)>=0&&d>=0&&{top:o,bottom:s,left:u,right:c,width:h,height:d})))break;p=l(p)}return f}},n.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var i=e.documentElement,n=e.body;t={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,i){return"px"==t.unit?t.value:t.value*(i%2?e.width:e.height)/100})),i={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},n.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==n)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==i||o==n||o<i!=o<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||s(e,this.root)},n.prototype._rootContainsTarget=function(t){return s(this.root||e,t)},n.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},n.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=n,window.IntersectionObserverEntry=i}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,i=t.width*t.height,n=this.intersectionRect,r=n.width*n.height;this.intersectionRatio=i?Number((r/i).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var i,n,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){i(),r=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function r(e,t,i,n){"function"==typeof e.addEventListener?e.addEventListener(t,i,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i)}function o(e,t,i,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,i,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(e,t){for(var i=t;i;){if(i==e)return!0;i=l(i)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},function(e,t,i){i(31),i(109),i(57),i(58);var n=i(22);e.exports=n.Map},function(e,t,i){var n=i(4),r=i(24),o=i(9).f,a=n("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,i){var n,r,o=i(5),a=i(95),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(r=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(r=+n[1]),e.exports=r},function(e,t,i){var n=i(14);e.exports=n("navigator","userAgent")||""},function(e,t,i){var n=i(7),r=i(63),o=i(9),a=i(10),s=i(13),l=i(67);t.f=n&&!r?Object.defineProperties:function(e,t){a(e);for(var i,n=s(t),r=l(t),u=r.length,c=0;u>c;)o.f(e,i=r[c++],n[i]);return e}},function(e,t,i){var n=i(12),r=i(6),o=i(66),a=i(40),s=i(98),l=i(4),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var i,l=a(e,c);if(l){if(void 0===t&&(t="default"),i=n(l,e,t),!r(i)||o(i))return i;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,i){var n=i(12),r=i(2),o=i(6),a=TypeError;e.exports=function(e,t){var i,s;if("string"===t&&r(i=e.toString)&&!o(s=n(i,e)))return s;if(r(i=e.valueOf)&&!o(s=n(i,e)))return s;if("string"!==t&&r(i=e.toString)&&!o(s=n(i,e)))return s;throw a("Can't convert object to primitive value")}},function(e,t,i){var n=i(13),r=i(69),o=i(19),a=function(e){return function(t,i,a){var s,l=n(t),u=o(l),c=r(a,u);if(e&&i!=i){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?n:i)(t)}},function(e,t,i){var n=i(43),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,i){var n=i(14);e.exports=n("document","documentElement")},function(e,t,i){var n=i(3),r=i(2),o=i(8),a=i(7),s=i(73).CONFIGURABLE,l=i(46),u=i(15),c=u.enforce,h=u.get,d=Object.defineProperty,f=a&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,i){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?d(e,"name",{value:t,configurable:!0}):e.name=t),f&&i&&o(i,"arity")&&e.length!==i.arity&&d(e,"length",{value:i.arity});try{i&&o(i,"constructor")&&i.constructor?a&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=c(e);return o(n,"source")||(n.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return r(this)&&h(this).source||l(this)}),"toString")},function(e,t,i){var n=i(8),r=i(105),o=i(71),a=i(9);e.exports=function(e,t,i){for(var s=r(t),l=a.f,u=o.f,c=0;c<s.length;c++){var h=s[c];n(e,h)||i&&n(i,h)||l(e,h,u(t,h))}}},function(e,t,i){var n=i(14),r=i(1),o=i(49),a=i(74),s=i(10),l=r([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),i=a.f;return i?l(t,i(e)):t}},function(e,t,i){"use strict";var n=i(76).IteratorPrototype,r=i(24),o=i(26),a=i(50),s=i(20),l=function(){return this};e.exports=function(e,t,i,u){var c=t+" Iterator";return e.prototype=r(n,{next:o(+!u,i)}),a(e,c,!1,!0),s[c]=l,e}},function(e,t,i){var n=i(3);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,i){var n=i(2),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw o("Can't set "+r(e)+" as a prototype")}},function(e,t,i){i(110)},function(e,t,i){"use strict";i(51)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i(85))},function(e,t,i){var n=i(17),r=i(13),o=i(49).f,a=i(112),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(r(e))}},function(e,t,i){var n=i(69),r=i(19),o=i(79),a=Array,s=Math.max;e.exports=function(e,t,i){for(var l=r(e),u=n(t,l),c=n(void 0===i?l:i,l),h=a(s(c-u,0)),d=0;u<c;u++,d++)o(h,d,e[u]);return h.length=d,h}},function(e,t,i){var n=i(3);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,i){var n=i(3);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,i){var n=i(2),r=i(6),o=i(78);e.exports=function(e,t,i){var a,s;return o&&n(a=t.constructor)&&a!==i&&r(s=a.prototype)&&s!==i.prototype&&o(e,s),e}},function(e,t,i){"use strict";var n=i(14),r=i(9),o=i(4),a=i(7),s=o("species");e.exports=function(e){var t=n(e),i=r.f;a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";var n=i(54),r=i(29);e.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,i){var n=i(1),r=i(43),o=i(86),a=i(34),s=n("".charAt),l=n("".charCodeAt),u=n("".slice),c=function(e){return function(t,i){var n,c,h=o(a(t)),d=r(i),f=h.length;return d<0||d>=f?e?"":void 0:(n=l(h,d))<55296||n>56319||d+1===f||(c=l(h,d+1))<56320||c>57343?e?s(h,d):n:e?u(h,d,d+2):c-56320+(n-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},function(e,t,i){i(31),i(57),i(120),i(58);var n=i(22);e.exports=n.Set},function(e,t,i){i(121)},function(e,t,i){"use strict";i(51)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i(85))},function(e,t,i){i(31),i(57),i(123);var n=i(22);e.exports=n.WeakMap},function(e,t,i){i(124)},function(e,t,i){"use strict";var n,r=i(5),o=i(1),a=i(56),s=i(27),l=i(51),u=i(125),c=i(6),h=i(80),d=i(15).enforce,f=i(70),p=!r.ActiveXObject&&"ActiveXObject"in r,g=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=l("WeakMap",g,u);if(f&&p){n=u.getConstructor(g,"WeakMap",!0),s.enable();var m=v.prototype,y=o(m.delete),b=o(m.has),w=o(m.get),x=o(m.set);a(m,{delete:function(e){if(c(e)&&!h(e)){var t=d(this);return t.frozen||(t.frozen=new n),y(this,e)||t.frozen.delete(e)}return y(this,e)},has:function(e){if(c(e)&&!h(e)){var t=d(this);return t.frozen||(t.frozen=new n),b(this,e)||t.frozen.has(e)}return b(this,e)},get:function(e){if(c(e)&&!h(e)){var t=d(this);return t.frozen||(t.frozen=new n),b(this,e)?w(this,e):t.frozen.get(e)}return w(this,e)},set:function(e,t){if(c(e)&&!h(e)){var i=d(this);i.frozen||(i.frozen=new n),b(this,e)?x(this,e,t):i.frozen.set(e,t)}else x(this,e,t);return this}})}},function(e,t,i){"use strict";var n=i(1),r=i(56),o=i(27).getWeakData,a=i(10),s=i(6),l=i(55),u=i(52),c=i(126),h=i(8),d=i(15),f=d.set,p=d.getterFor,g=c.find,v=c.findIndex,m=n([].splice),y=0,b=function(e){return e.frozen||(e.frozen=new w)},w=function(){this.entries=[]},x=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};w.prototype={get:function(e){var t=x(this,e);if(t)return t[1]},has:function(e){return!!x(this,e)},set:function(e,t){var i=x(this,e);i?i[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&m(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,i,n){var c=e((function(e,r){l(e,d),f(e,{type:t,id:y++,frozen:void 0}),null!=r&&u(r,e[n],{that:e,AS_ENTRIES:i})})),d=c.prototype,g=p(t),v=function(e,t,i){var n=g(e),r=o(a(t),!0);return!0===r?b(n).set(t,i):r[n.id]=i,e};return r(d,{delete:function(e){var t=g(this);if(!s(e))return!1;var i=o(e);return!0===i?b(t).delete(e):i&&h(i,t.id)&&delete i[t.id]},has:function(e){var t=g(this);if(!s(e))return!1;var i=o(e);return!0===i?b(t).has(e):i&&h(i,t.id)}}),r(d,i?{get:function(e){var t=g(this);if(s(e)){var i=o(e);return!0===i?b(t).get(e):i?i[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),c}}},function(e,t,i){var n=i(28),r=i(1),o=i(32),a=i(18),s=i(19),l=i(127),u=r([].push),c=function(e){var t=1==e,i=2==e,r=3==e,c=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,g,v,m){for(var y,b,w=a(p),x=o(w),D=n(g,v),S=s(x),_=0,E=m||l,C=t?E(p,S):i||d?E(p,0):void 0;S>_;_++)if((f||_ in x)&&(b=D(y=x[_],_,w),e))if(t)C[_]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return _;case 2:u(C,y)}else switch(e){case 4:return!1;case 7:u(C,y)}return h?-1:r||c?c:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},function(e,t,i){var n=i(128);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},function(e,t,i){var n=i(129),r=i(87),o=i(6),a=i(4)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(r(t)&&(t===s||n(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},function(e,t,i){var n=i(17);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){i(58),i(131);var n=i(22);e.exports=n.Array.from},function(e,t,i){var n=i(21),r=i(132);n({target:"Array",stat:!0,forced:!i(84)((function(e){Array.from(e)}))},{from:r})},function(e,t,i){"use strict";var n=i(28),r=i(12),o=i(18),a=i(133),s=i(81),l=i(87),u=i(19),c=i(79),h=i(82),d=i(53),f=Array;e.exports=function(e){var t=o(e),i=l(this),p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g;v&&(g=n(g,p>2?arguments[2]:void 0));var m,y,b,w,x,D,S=d(t),_=0;if(!S||this===f&&s(S))for(m=u(t),y=i?new this(m):f(m);m>_;_++)D=v?g(t[_],_):t[_],c(y,_,D);else for(x=(w=h(t,S)).next,y=i?new this:[];!(b=r(x,w)).done;_++)D=v?a(w,g,[b.value,_],!0):b.value,c(y,_,D);return y.length=_,y}},function(e,t,i){var n=i(10),r=i(83);e.exports=function(e,t,i,o){try{return o?t(n(i)[0],i[1]):t(i)}catch(t){r(e,"throw",t)}}},function(e,t,i){i(135);var n=i(22);e.exports=n.Object.assign},function(e,t,i){var n=i(21),r=i(136);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},function(e,t,i){"use strict";var n=i(7),r=i(1),o=i(12),a=i(3),s=i(67),l=i(74),u=i(72),c=i(18),h=i(32),d=Object.assign,f=Object.defineProperty,p=r([].concat);e.exports=!d||a((function(){if(n&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol();return e[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=d({},e)[i]||"abcdefghijklmnopqrst"!=s(d({},t)).join("")}))?function(e,t){for(var i=c(e),r=arguments.length,a=1,d=l.f,f=u.f;r>a;)for(var g,v=h(arguments[a++]),m=d?p(s(v),d(v)):s(v),y=m.length,b=0;y>b;)g=m[b++],n&&!o(f,v,g)||(i[g]=v[g]);return i}:d},function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"keyboardHandler",(function(){return os})),i.d(n,"mouseHandler",(function(){return as})),i.d(n,"resizeHandler",(function(){return ss})),i.d(n,"selectHandler",(function(){return ls})),i.d(n,"touchHandler",(function(){return us})),i.d(n,"wheelHandler",(function(){return cs}));i(90);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.0.4
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var a,s,l,u,c,h,d,f,p,g,v,m,y,b,w,x,D,S,_,E,C,k,T,A,O={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},P={duration:.5,overwrite:!1,delay:0},L=1e8,I=2*Math.PI,F=I/4,M=0,j=Math.sqrt,q=Math.cos,R=Math.sin,B=function(e){return"string"==typeof e},z=function(e){return"function"==typeof e},N=function(e){return"number"==typeof e},H=function(e){return void 0===e},U=function(e){return"object"==typeof e},W=function(e){return!1!==e},Y=function(){return"undefined"!=typeof window},V=function(e){return z(e)||B(e)},X=Array.isArray,G=/(?:-?\.?\d|\.)+/gi,$=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,Z=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,K=/\(([^()]+)\)/i,J=/[\+-]=-?[\.\d]+/,Q=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,ee={},te={},ie=function(e){return(te=Te(e,ee))&&ti},ne=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},re=function(e,t){return!t&&console.warn(e)},oe=function(e,t){return e&&(ee[e]=t)&&te&&(te[e]=t)||ee},ae=function(){return 0},se={},le=[],ue={},ce={},he={},de=30,fe=[],pe="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",ge=function(e){var t,i,n=e[0];if(U(n)||z(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(i=fe.length;i--&&!fe[i].targetTest(n););t=fe[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Ct(e[i],t)))||e.splice(i,1);return e},ve=function(e){return e._gsap||ge($e(e))[0]._gsap},me=function(e,t){var i=e[t];return z(i)?e[t]():H(i)&&e.getAttribute(t)||i},ye=function(e,t){return(e=e.split(",")).forEach(t)||e},be=function(e){return Math.round(1e4*e)/1e4},we=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},xe=function(e,t,i){var n,r=N(e[1]),o=(r?2:1)+(t<2?0:1),a=e[o];return r&&(a.duration=e[1]),1===t?(a.runBackwards=1,a.immediateRender=W(a.immediateRender)):2===t&&(n=e[o-1],a.startAt=n,a.immediateRender=W(a.immediateRender)),a.parent=i,a},De=function(){var e,t,i=le.length,n=le.slice(0);for(ue={},le.length=0,e=0;e<i;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Se=function(e,t,i,n){le.length&&De(),e.render(t,i,n),le.length&&De()},_e=function(e){var t=parseFloat(e);return t||0===t?t:e},Ee=function(e){return e},Ce=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},ke=function(e,t){for(var i in t)i in e||"duration"===i||"ease"===i||(e[i]=t[i])},Te=function(e,t){for(var i in t)e[i]=t[i];return e},Ae=function e(t,i){for(var n in i)t[n]=U(i[n])?e(t[n]||(t[n]={}),i[n]):i[n];return t},Oe=function(e,t){var i,n={};for(i in e)i in t||(n[i]=e[i]);return n},Pe=function(e,t,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=t._prev,o=t._next;r?r._next=o:e[i]===t&&(e[i]=o),o?o._prev=r:e[n]===t&&(e[n]=r),t._dp=e,t._next=t._prev=t.parent=null},Le=function(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0},Ie=function(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e},Fe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Me=function(e){return e._repeat?je(e._tTime,e=e.duration()+e._rDelay)*e:0},je=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},qe=function(e,t){return t._ts>0?(e-t._start)*t._ts:(t._dirty?t.totalDuration():t._tDur)+(e-t._start)*t._ts},Re=function(e,t,i){if(t.parent&&Le(t),t._start=i+t._delay,t._end=t._start+(t.totalDuration()/t._ts||0),function(e,t,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var o,a=e[n];if(r)for(o=t[r];a&&a[r]>o;)a=a._prev;a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=a,t.parent=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,t._time||!t._dur&&t._initted){var n=(e.rawTime()-t._start)*t._ts;(!t._dur||We(0,t.totalDuration(),n)-t._tTime>1e-8)&&t.render(n,!0)}if(Ie(e),e._dp&&e._time>=e._dur&&e._ts&&e._dur<e.duration())for(var r=e;r._dp;)r.totalTime(r._tTime,!0),r=r._dp;return e},Be=function(e,t,i,n){return It(e,t),e._initted?!i&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)?(le.push(e),e._lazy=[t,n],1):void 0:1},ze=function(e){if(e instanceof Tt)return Ie(e);var t=e._repeat;return e._tDur=t?t<0?1e20:be(e._dur*(t+1)+e._rDelay*t):e._dur,Ie(e.parent),e},Ne={_start:0,endTime:ae},He=function e(t,i,n){var r,o,a=t.labels,s=t._recent||Ne,l=t.duration()>=L?s.endTime(!1):t._dur;return B(i)&&(isNaN(i)||i in a)?"<"===(r=i.charAt(0))||">"===r?("<"===r?s._start:s.endTime(s._repeat>=0))+(parseFloat(i.substr(1))||0):(r=i.indexOf("="))<0?(i in a||(a[i]=l),a[i]):(o=+(i.charAt(r-1)+i.substr(r+1)),r>1?e(t,i.substr(0,r-1))+o:l+o):null==i?l:+i},Ue=function(e,t){return e||0===e?t(e):t},We=function(e,t,i){return i<e?e:i>t?t:i},Ye=function(e){return(e+"").substr((parseFloat(e)+"").length)},Ve=[].slice,Xe=function(e){return e&&U(e)&&"length"in e&&e.length-1 in e&&U(e[0])&&!e.nodeType&&e!==s},Ge=function(e,t,i){return void 0===i&&(i=[]),e.forEach((function(e){var n;return B(e)&&!t||Xe(e)?(n=i).push.apply(n,$e(e)):i.push(e)}))||i},$e=function(e,t){return!B(e)||t||!l&&gt()?X(e)?Ge(e,t):Xe(e)?Ve.call(e,0):e?[e]:[]:Ve.call(u.querySelectorAll(e),0)},Ze=function(e){if(z(e))return e;var t=U(e)?e:{each:e},i=xt(t.ease),n=t.from||0,r=parseFloat(t.base)||0,o={},a=n>0&&n<1,s=isNaN(n)||a,l=t.axis,u=n,c=n;return B(n)?u=c={center:.5,edges:.5,end:1}[n]||0:!a&&s&&(u=n[0],c=n[1]),function(e,a,h){var d,f,p,g,v,m,y,b,w,x=(h||t).length,D=o[x];if(!D){if(!(w="auto"===t.grid?0:(t.grid||[1,L])[1])){for(y=-L;y<(y=h[w++].getBoundingClientRect().left)&&w<x;);w--}for(D=o[x]=[],d=s?Math.min(w,x)*u-.5:n%w,f=s?x*c/w-.5:n/w|0,y=0,b=L,m=0;m<x;m++)p=m%w-d,g=f-(m/w|0),D[m]=v=l?Math.abs("y"===l?g:p):j(p*p+g*g),v>y&&(y=v),v<b&&(b=v);D.max=y-b,D.min=b,D.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(w>x?x-1:l?"y"===l?x/w:w:Math.max(w,x/w))||0)*("edges"===n?-1:1),D.b=x<0?r-x:r,D.u=Ye(t.amount||t.each)||0,i=i&&x<0?wt(i):i}return x=(D[e]-D.min)/D.max||0,be(D.b+(i?i(x):x)*D.v)+D.u}},Ke=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(i){return~~(Math.round(parseFloat(i)/e)*e*t)/t+(N(i)?0:Ye(i))}},Je=function(e,t){var i,n,r=X(e);return!r&&U(e)&&(i=r=e.radius||L,e=$e(e.values),(n=!N(e[0]))&&(i*=i)),Ue(t,r?function(t){for(var r,o,a=parseFloat(n?t.x:t),s=parseFloat(n?t.y:0),l=L,u=0,c=e.length;c--;)(r=n?(r=e[c].x-a)*r+(o=e[c].y-s)*o:Math.abs(e[c]-a))<l&&(l=r,u=c);return u=!i||l<=i?e[u]:t,n||u===t||N(t)?u:u+Ye(t)}:Ke(e))},Qe=function(e,t,i,n){return Ue(X(e)?!t:!0===i?!!(i=0):!n,(function(){return X(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((e+Math.random()*(t-e))/i)*i*n)/n}))},et=function(e,t,i){return Ue(i,(function(i){return e[~~t(i)]}))},tt=function(e){for(var t,i,n,r,o=0,a="";~(t=e.indexOf("random(",o));)n=e.indexOf(")",t),r="["===e.charAt(t+7),i=e.substr(t+7,n-t-7).match(r?Q:G),a+=e.substr(o,t-o)+Qe(r?i:+i[0],+i[1],+i[2]||1e-5),o=n+1;return a+e.substr(o,e.length-o)},it=function(e,t,i,n,r){var o=t-e,a=n-i;return Ue(r,(function(t){return i+(t-e)/o*a}))},nt=function(e,t,i){var n,r,o,a=e.labels,s=L;for(n in a)(r=a[n]-t)<0==!!i&&r&&s>(r=Math.abs(r))&&(o=n,s=r);return o},rt=function(e,t,i){var n,r,o=e.vars,a=o[t];if(a)return n=o[t+"Params"],r=o.callbackScope||e,i&&le.length&&De(),n?a.apply(r,n):a.call(r)},ot=function(e){return Le(e),e.progress()<1&&rt(e,"onInterrupt"),e},at=function(e){var t=(e=!e.name&&e.default||e).name,i=z(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:ae,render:Vt,add:Pt,kill:Gt,modifier:Xt,rawVars:0},o={targetTest:0,get:0,getSetter:Ht,aliases:{},register:0};if(gt(),e!==n){if(ce[t])return;Ce(n,Ce(Oe(e,r),o)),Te(n.prototype,Te(r,Oe(e,o))),ce[n.prop=t]=n,e.targetTest&&(fe.push(n),se[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}oe(t,n),e.register&&e.register(ti,n,Kt)},st={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},lt=function(e,t,i){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)+.5|0},ut=function(e,t){var i,n,r,o,a,s,l,u,c,h,d=e?N(e)?[e>>16,e>>8&255,255&e]:0:st.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),st[e])d=st[e];else if("#"===e.charAt(0))4===e.length&&(i=e.charAt(1),n=e.charAt(2),r=e.charAt(3),e="#"+i+i+n+n+r+r),d=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(d=h=e.match(G),t){if(~e.indexOf("="))return e.match($)}else o=+d[0]%360/360,a=+d[1]/100,i=2*(s=+d[2]/100)-(n=s<=.5?s*(a+1):s+a-s*a),d.length>3&&(d[3]*=1),d[0]=lt(o+1/3,i,n),d[1]=lt(o,i,n),d[2]=lt(o-1/3,i,n);else d=e.match(G)||st.transparent;d=d.map(Number)}return t&&!h&&(i=d[0]/255,n=d[1]/255,r=d[2]/255,s=((l=Math.max(i,n,r))+(u=Math.min(i,n,r)))/2,l===u?o=a=0:(c=l-u,a=s>.5?c/(2-l-u):c/(l+u),o=l===i?(n-r)/c+(n<r?6:0):l===n?(r-i)/c+2:(i-n)/c+4,o*=60),d[0]=o+.5|0,d[1]=100*a+.5|0,d[2]=100*s+.5|0),d},ct=function(e,t){var i,n,r,o=(e+"").match(ht),a=0,s="";if(!o)return e;for(i=0;i<o.length;i++)n=o[i],a+=(r=e.substr(a,e.indexOf(n,a)-a)).length+n.length,3===(n=ut(n,t)).length&&n.push(1),s+=r+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+e.substr(a)},ht=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in st)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),dt=/hsl[a]?\(/,ft=function(e){var t,i=e.join(" ");ht.lastIndex=0,ht.test(i)&&(t=dt.test(i),e[0]=ct(e[0],t),e[1]=ct(e[1],t))},pt=(m=Date.now,y=500,b=33,w=m(),x=w,S=D=1/60,E=function e(t){var i,n,r=m()-x,o=!0===t;r>y&&(w+=r-b),x+=r,v.time=(x-w)/1e3,((i=v.time-S)>0||o)&&(v.frame++,S+=i+(i>=D?.004:D-i),n=1),o||(f=p(e)),n&&_.forEach((function(e){return e(v.time,r,v.frame,t)}))},v={time:0,frame:0,tick:function(){E(!0)},wake:function(){c&&(!l&&Y()&&(s=l=window,u=s.document||{},ee.gsap=ti,(s.gsapVersions||(s.gsapVersions=[])).push(ti.version),ie(te||s.GreenSockGlobals||!s.gsap&&s||{}),g=s.requestAnimationFrame),f&&v.sleep(),p=g||function(e){return setTimeout(e,1e3*(S-v.time)+1|0)},d=1,E(2))},sleep:function(){(g?s.cancelAnimationFrame:clearTimeout)(f),d=0,p=ae},lagSmoothing:function(e,t){y=e||1/1e-8,b=Math.min(t,y,0)},fps:function(e){D=1/(e||60),S=v.time+D},add:function(e){_.indexOf(e)<0&&_.push(e),gt()},remove:function(e){var t;~(t=_.indexOf(e))&&_.splice(t,1)},_listeners:_=[]}),gt=function(){return!d&&pt.wake()},vt={},mt=/^[\d.\-M][\d.\-,\s]/,yt=/["']/g,bt=function(e){for(var t,i,n,r={},o=e.substr(1,e.length-3).split(":"),a=o[0],s=1,l=o.length;s<l;s++)i=o[s],t=s!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,t),r[a]=isNaN(n)?n.replace(yt,"").trim():+n,a=i.substr(t+1).trim();return r},wt=function(e){return function(t){return 1-e(1-t)}},xt=function(e,t){return e&&(z(e)?e:vt[e]||function(e){var t=(e+"").split("("),i=vt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[bt(t[1])]:K.exec(e)[1].split(",").map(_e)):vt._CE&&mt.test(e)?vt._CE("",e):i}(e))||t},Dt=function(e,t,i,n){void 0===i&&(i=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var r,o={easeIn:t,easeOut:i,easeInOut:n};return ye(e,(function(e){for(var t in vt[e]=ee[e]=o,vt[r=e.toLowerCase()]=i,o)vt[r+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=vt[e+"."+t]=o[t]})),o},St=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},_t=function e(t,i,n){var r=i>=1?i:1,o=(n||(t?.3:.45))/(i<1?i:1),a=o/I*(Math.asin(1/r)||0),s=function(e){return 1===e?1:r*Math.pow(2,-10*e)*R((e-a)*o)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:St(s);return o=I/o,l.config=function(i,n){return e(t,i,n)},l},Et=function e(t,i){void 0===i&&(i=1.70158);var n=function(e){return--e*e*((i+1)*e+i)+1},r="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:St(n);return r.config=function(i){return e(t,i)},r};ye("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var i=t<5?t+1:t;Dt(e+",Power"+(i-1),t?function(e){return Math.pow(e,i)}:function(e){return e},(function(e){return 1-Math.pow(1-e,i)}),(function(e){return e<.5?Math.pow(2*e,i)/2:1-Math.pow(2*(1-e),i)/2}))})),vt.Linear.easeNone=vt.none=vt.Linear.easeIn,Dt("Elastic",_t("in"),_t("out"),_t()),C=7.5625,T=1/(k=2.75),Dt("Bounce",(function(e){return 1-A(1-e)}),A=function(e){return e<T?C*e*e:e<.7272727272727273?C*Math.pow(e-1.5/k,2)+.75:e<.9090909090909092?C*(e-=2.25/k)*e+.9375:C*Math.pow(e-2.625/k,2)+.984375}),Dt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Dt("Circ",(function(e){return-(j(1-e*e)-1)})),Dt("Sine",(function(e){return 1-q(e*F)})),Dt("Back",Et("in"),Et("out"),Et()),vt.SteppedEase=vt.steps=ee.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0;return function(e){return((n*We(0,1-1e-8,e)|0)+r)*i}}},P.ease=vt["quad.out"];var Ct=function(e,t){this.id=M++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:me,this.set=t?t.getSetter:Ht},kt=function(){function e(e,t){var i=e.parent||a;this.vars=e,this._dur=this._tDur=+e.duration||0,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase,ze(this)),this._ts=1,this.data=e.data,d||pt.wake(),i&&Re(i,this,t||0===t?t:i._time),e.reversed&&this.reversed(!0),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this._delay=e,this):this._delay},t.duration=function(e){var t=arguments.length,i=this._repeat,n=i>0?i*((t?e:this._dur)+this._rDelay):0;return t?this.totalDuration(i<0?e:e+n):this.totalDuration()&&this._dur},t.totalDuration=function(e){if(!arguments.length)return this._tDur;var t=this._repeat,i=(e||this._rDelay)&&t<0;return this._tDur=i?1e20:e,this._dur=i?e:(e-t*this._rDelay)/(t+1),this._dirty=0,Ie(this.parent),this},t.totalTime=function(e,t){if(gt(),!arguments.length)return this._tTime;var i,n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(i=this._start,this._start=n._time-(this._ts>0?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts),this._end+=this._start-i,n._dirty||Ie(n);n.parent;)n.parent._time!==n._start+(n._ts>0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;this.parent||Re(this._dp,this,this._start-this._delay)}return this._tTime===e&&this._dur||(this._ts||(this._pTime=e),Se(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime((e+Me(this))%this.duration()||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._tTime/this.totalDuration()},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Me(this),t):this.duration()?this._time/this._dur:this.ratio},t.iteration=function(e,t){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*i,t):this._repeat?je(this._tTime,i)+1:1},t.timeScale=function(e){return arguments.length?null!==this._pauseTS?(this._pauseTS=e,this):(this._ts=e,Fe(this).totalTime(this._tTime,!0)):this._ts||this._pauseTS||0},t.paused=function(e){var t=!this._ts;return arguments.length?(t!==e&&(e?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS||1,this._pauseTS=null,e=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8),this.totalTime(e,!0))),this):t},t.startTime=function(e){return arguments.length?(this.parent&&this.parent._sort&&Re(this.parent,this,e-this._delay),this):this._start},t.endTime=function(e){return this._start+(W(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?qe(t.rawTime(e),this):this._tTime:this._tTime},t.repeat=function(e){return arguments.length?(this._repeat=e,ze(this)):this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,ze(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(He(this,e),W(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,W(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){var t=this._ts||this._pauseTS||0;return arguments.length?(e!==this.reversed()&&(this[null===this._pauseTS?"_ts":"_pauseTS"]=Math.abs(t)*(e?-1:1),this.totalTime(this._tTime,!0)),this):t<0},t.invalidate=function(){return this._initted=0,this},t.isActive=function(e){var t,i=this.parent||this._dp,n=this._start;return!i||this._ts&&(this._initted||!e)&&i.isActive(e)&&(t=i.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8},t.eventCallback=function(e,t,i){var n=this.vars;return arguments.length>1?(t?(n[e]=t,i&&(n[e+"Params"]=i),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(i){var n=e||Ee,r=function(){var e=t.then;t.then=null,(n=n(t))&&(n.then||n===t)&&(t._prom=n,t.then=e),i(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?r():t._prom=r}))},t.kill=function(){ot(this)},e}();Ce(kt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_pauseTS:null});var Tt=function(e){function t(t,i){var n;return void 0===t&&(t={}),(n=e.call(this,t,i)||this).labels={},n.smoothChildTiming=W(t.smoothChildTiming),n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=W(t.sortChildren),n}o(t,e);var i=t.prototype;return i.to=function(e,t,i){return new qt(e,xe(arguments,0,this),He(this,N(t)?arguments[3]:i)),this},i.from=function(e,t,i){return new qt(e,xe(arguments,1,this),He(this,N(t)?arguments[3]:i)),this},i.fromTo=function(e,t,i,n){return new qt(e,xe(arguments,2,this),He(this,N(t)?arguments[4]:n)),this},i.set=function(e,t,i){return t.duration=0,t.parent=this,t.repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new qt(e,t,He(this,i)),this},i.call=function(e,t,i){return Re(this,qt.delayedCall(0,e,t),He(this,i))},i.staggerTo=function(e,t,i,n,r,o,a){return i.duration=t,i.stagger=i.stagger||n,i.onComplete=o,i.onCompleteParams=a,i.parent=this,new qt(e,i,He(this,r)),this},i.staggerFrom=function(e,t,i,n,r,o,a){return i.runBackwards=1,i.immediateRender=W(i.immediateRender),this.staggerTo(e,t,i,n,r,o,a)},i.staggerFromTo=function(e,t,i,n,r,o,a,s){return n.startAt=i,n.immediateRender=W(n.immediateRender),this.staggerTo(e,t,n,r,o,a,s)},i.render=function(e,t,i){var n,r,o,s,l,u,c,h,d,f,p,g=this._time,v=this._dirty?this.totalDuration():this._tDur,m=this._dur,y=e>v-1e-8&&e>=0&&this!==a?v:e<1e-8?0:e,b=this._zTime<0!=e<0&&(this._initted||!m);if(y!==this._tTime||i||b){if(b&&(m||(g=this._zTime),!e&&t||(this._zTime=e)),n=y,d=this._start,u=0===(h=this._ts),g!==this._time&&m&&(n+=this._time-g),this._repeat&&(p=this._yoyo,l=m+this._rDelay,((n=be(y%l))>m||v===y)&&(n=m),(s=~~(y/l))&&s===y/l&&(n=m,s--),p&&1&s&&(n=m-n,1),s!==(f=je(this._tTime,l))&&!this._lock)){var w=p&&1&f,x=w===(p&&1&s);if(s<f&&(w=!w),g=w?0:m,this._lock=1,this.render(g,t,!m)._lock=0,!t&&this.parent&&rt(this,"onRepeat"),g!==this._time||u!==!this._ts)return this;if(x&&(this._lock=2,g=w?m+1e-4:-1e-4,this.render(g,!0)),this._lock=0,!this._ts&&!u)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,be(g),be(n)))&&(y-=n-(n=c._start)),this._tTime=y,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),g||!n||t||rt(this,"onStart"),n>=g&&e>=0)for(r=this._first;r;){if(o=r._next,(r._act||n>=r._start)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(r._ts>0?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!u){c=0;break}}r=o}else{r=this._last;for(var D=e<0?e:n;r;){if(o=r._prev,(r._act||D<=r._end)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(r._ts>0?(D-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(D-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!u){c=0;break}}r=o}}if(c&&!t&&(this.pause(),c.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=d,this.render(e,t,i);this._onUpdate&&!t&&rt(this,"onUpdate",!0),(y===v||!y&&this._ts<0)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||(!n||v>=this.totalDuration())&&((e||!m)&&Le(this,1),t||e<0&&!g||(rt(this,y===v?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},i.add=function(e,t){var i=this;if(N(t)||(t=He(this,t)),!(e instanceof kt)){if(X(e))return e.forEach((function(e){return i.add(e,t)})),Ie(this);if(B(e))return this.addLabel(e,t);if(!z(e))return this;e=qt.delayedCall(0,e)}return this!==e?Re(this,e,t):this},i.getChildren=function(e,t,i,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=-L);for(var r=[],o=this._first;o;)o._start>=n&&(o instanceof qt?t&&r.push(o):(i&&r.push(o),e&&r.push.apply(r,o.getChildren(!0,t,i)))),o=o._next;return r},i.getById=function(e){for(var t=this.getChildren(1,1,1),i=t.length;i--;)if(t[i].vars.id===e)return t[i]},i.remove=function(e){return B(e)?this.removeLabel(e):z(e)?this.killTweensOf(e):(Pe(this,e),e===this._recent&&(this._recent=this._last),Ie(this))},i.totalTime=function(t,i){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=pt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts)),e.prototype.totalTime.call(this,t,i),this._forcing=0,this):this._tTime},i.addLabel=function(e,t){return this.labels[e]=He(this,t),this},i.removeLabel=function(e){return delete this.labels[e],this},i.addPause=function(e,t,i){var n=qt.delayedCall(0,t||ae,i);return n.data="isPause",this._hasPause=1,Re(this,n,He(this,e))},i.removePause=function(e){var t=this._first;for(e=He(this,e);t;)t._start===e&&"isPause"===t.data&&Le(t),t=t._next},i.killTweensOf=function(e,t,i){for(var n=this.getTweensOf(e,i),r=n.length;r--;)At!==n[r]&&n[r].kill(e,t);return this},i.getTweensOf=function(e,t){for(var i,n=[],r=$e(e),o=this._first;o;)o instanceof qt?!we(o._targets,r)||t&&!o.isActive("started"===t)||n.push(o):(i=o.getTweensOf(r,t)).length&&n.push.apply(n,i),o=o._next;return n},i.tweenTo=function(e,t){var i=this,n=He(i,e),r=t&&t.startAt,o=qt.to(i,Ce({ease:"none",lazy:!1,time:n,duration:Math.abs(n-(r&&"time"in r?r.time:i._time))/i.timeScale()||1e-8,onStart:function(){i.pause();var e=Math.abs(n-i._time)/i.timeScale();o._dur!==e&&(o._dur=e,o.render(o._time,!0,!0)),t&&t.onStart&&t.onStart.apply(o,t.onStartParams||[])}},t));return o},i.tweenFromTo=function(e,t,i){return this.tweenTo(t,Ce({startAt:{time:He(this,e)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(e){return void 0===e&&(e=this._time),nt(this,He(this,e))},i.previousLabel=function(e){return void 0===e&&(e=this._time),nt(this,He(this,e),1)},i.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+1e-8)},i.shiftChildren=function(e,t,i){void 0===i&&(i=0);for(var n,r=this._first,o=this.labels;r;)r._start>=i&&(r._start+=e),r=r._next;if(t)for(n in o)o[n]>=i&&(o[n]+=e);return Ie(this)},i.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},i.clear=function(e){void 0===e&&(e=!0);for(var t,i=this._first;i;)t=i._next,this.remove(i),i=t;return this._time=this._tTime=0,e&&(this.labels={}),Ie(this)},i.totalDuration=function(e){var t,i,n=0,r=this,o=r._last,s=L,l=r._repeat,u=l*r._rDelay||0,c=l<0;if(!arguments.length){if(r._dirty){for(;o;)t=o._prev,o._dirty&&o.totalDuration(),o._start>s&&r._sort&&o._ts&&!r._lock?(r._lock=1,Re(r,o,o._start-o._delay),r._lock=0):s=o._start,o._start<0&&o._ts&&(n-=o._start,(!r.parent&&!r._dp||r.parent&&r.parent.smoothChildTiming)&&(r._start+=o._start/r._ts,r._time-=o._start,r._tTime-=o._start),r.shiftChildren(-o._start,!1,-L),s=0),(i=o._end=o._start+o._tDur/Math.abs(o._ts||o._pauseTS||1e-8))>n&&o._ts&&(n=be(i)),o=t;r._dur=r===a&&r._time>n?r._time:Math.min(L,n),r._tDur=c&&(r._dur||u)?1e20:Math.min(L,n*(l+1)+u),r._end=r._start+(r._tDur/Math.abs(r._ts||r._pauseTS||1e-8)||0),r._dirty=0}return r._tDur}return c?r:r.timeScale(r.totalDuration()/e)},t.updateRoot=function(e){if(a._ts&&Se(a,qe(e,a)),pt.frame>=de){de+=O.autoSleep||120;var t=a._first;if((!t||!t._ts)&&O.autoSleep&&pt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||pt.sleep()}}},t}(kt);Ce(Tt.prototype,{_lock:0,_hasPause:0,_forcing:0});var At,Ot=function(e,t,i,n,r,o,a){var s,l,u,c,h,d,f,p,g=new Kt(this._pt,e,t,0,1,Yt,null,r),v=0,m=0;for(g.b=i,g.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=tt(n)),o&&(o(p=[i,n],e,t),i=p[0],n=p[1]),l=i.match(Z)||[];s=Z.exec(n);)c=s[0],h=n.substring(v,s.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[m++]&&(d=parseFloat(l[m-1])||0,g._pt={_next:g._pt,p:h||1===m?h:",",s:d,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-d,m:u&&u<4?Math.round:0},v=Z.lastIndex);return g.c=v<n.length?n.substring(v,n.length):"",g.fp=a,(J.test(n)||f)&&(g.e=0),this._pt=g,g},Pt=function(e,t,i,n,r,o,a,s,l){z(n)&&(n=n(r||0,e,o));var u,c=e[t],h="get"!==i?i:z(c)?l?e[t.indexOf("set")||!z(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():c,d=z(c)?l?zt:Bt:Rt;if(B(n)&&(~n.indexOf("random(")&&(n=tt(n)),"="===n.charAt(1)&&(n=parseFloat(h)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(Ye(h)||0))),h!==n)return isNaN(h+n)?(!c&&!(t in e)&&ne(t,n),Ot.call(this,e,t,h,n,d,s||O.stringFilter,l)):(u=new Kt(this._pt,e,t,+h||0,n-(h||0),"boolean"==typeof c?Wt:Ut,0,d),l&&(u.fp=l),a&&u.modifier(a,this,e),this._pt=u)},Lt=function(e,t,i,n,r,o){var a,s,l,u;if(ce[e]&&!1!==(a=new ce[e]).init(r,a.rawVars?t[e]:function(e,t,i,n,r){if(z(e)&&(e=Ft(e,r,t,i,n)),!U(e)||e.style&&e.nodeType||X(e))return B(e)?Ft(e,r,t,i,n):e;var o,a={};for(o in e)a[o]=Ft(e[o],r,t,i,n);return a}(t[e],n,r,o,i),i,n,o)&&(i._pt=s=new Kt(i._pt,r,e,0,1,a.render,a,0,a.priority),i!==h))for(l=i._ptLookup[i._targets.indexOf(r)],u=a._props.length;u--;)l[a._props[u]]=s;return a},It=function e(t,i){var n,r,o,s,l,u,c,h,d,f,p,g,v=t.vars,m=v.ease,y=v.startAt,b=v.immediateRender,w=v.lazy,x=v.onUpdate,D=v.onUpdateParams,S=v.callbackScope,_=v.runBackwards,E=v.yoyoEase,C=v.keyframes,k=v.autoRevert,T=t._dur,A=t._startAt,O=t._targets,L=t.parent,I=L&&"nested"===L.data?L.parent._targets:O,F="auto"===t._overwrite,M=t.timeline;if(!M||C&&m||(m="none"),t._ease=xt(m,P.ease),t._yEase=E?wt(xt(!0===E?m:E,P.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),!M){if(A&&A.render(-1,!0).kill(),y){if(Le(t._startAt=qt.set(O,Ce({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:W(w),startAt:null,delay:0,onUpdate:x,onUpdateParams:D,callbackScope:S,stagger:0},y))),b)if(i>0)!k&&(t._startAt=0);else if(T)return}else if(_&&T)if(A)!k&&(t._startAt=0);else if(i&&(b=!1),Le(t._startAt=qt.set(O,Te(Oe(v,se),{overwrite:!1,data:"isFromStart",lazy:b&&W(w),immediateRender:b,stagger:0,parent:L}))),b){if(!i)return}else e(t._startAt,1e-8);for(n=Oe(v,se),t._pt=0,g=(h=O[0]?ve(O[0]).harness:0)&&v[h.prop],w=T&&W(w)||w&&!T,r=0;r<O.length;r++){if(c=(l=O[r])._gsap||ge(O)[r]._gsap,t._ptLookup[r]=f={},ue[c.id]&&De(),p=I===O?r:I.indexOf(l),h&&!1!==(d=new h).init(l,g||n,t,p,I)&&(t._pt=s=new Kt(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=s})),d.priority&&(u=1)),!h||g)for(o in n)ce[o]&&(d=Lt(o,n,t,p,l,I))?d.priority&&(u=1):f[o]=s=Pt.call(t,l,o,"get",n[o],p,I,0,v.stringFilter);t._op&&t._op[r]&&t.kill(l,t._op[r]),F&&t._pt&&(At=t,a.killTweensOf(l,f,"started"),At=0),t._pt&&w&&(ue[c.id]=1)}u&&Zt(t),t._onInit&&t._onInit(t)}t._from=!M&&!!v.runBackwards,t._onUpdate=x,t._initted=1},Ft=function(e,t,i,n,r){return z(e)?e.call(t,i,n,r):B(e)&&~e.indexOf("random(")?tt(e):e},Mt=pe+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",jt=(Mt+",id,stagger,delay,duration,paused").split(","),qt=function(e){function t(t,i,n){var o;"number"==typeof i&&(n.duration=i,i=n,n=null);var s,l,u,c,h,d,f,p,g=(o=e.call(this,function(e){var t=e.parent||a,i=e.keyframes?ke:Ce;if(W(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent;return e}(i),n)||this).vars,v=g.duration,m=g.delay,y=g.immediateRender,b=g.stagger,w=g.overwrite,x=g.keyframes,D=g.defaults,S=X(t)&&N(t[0])?[t]:$e(t);if(o._targets=S.length?ge(S):re("GSAP target "+t+" not found. https://greensock.com",!O.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=w,x||b||V(v)||V(m)){if(i=o.vars,(s=o.timeline=new Tt({data:"nested",defaults:D||{}})).kill(),s.parent=r(o),x)Ce(s.vars.defaults,{ease:"none"}),x.forEach((function(e){return s.to(S,e,">")}));else{if(c=S.length,f=b?Ze(b):ae,U(b))for(h in b)~Mt.indexOf(h)&&(p||(p={}),p[h]=b[h]);for(l=0;l<c;l++){for(h in u={},i)jt.indexOf(h)<0&&(u[h]=i[h]);u.stagger=0,p&&Te(u,p),i.yoyoEase&&!i.repeat&&(u.yoyoEase=i.yoyoEase),d=S[l],u.duration=+Ft(v,r(o),l,d,S),u.delay=(+Ft(m,r(o),l,d,S)||0)-o._delay,!b&&1===c&&u.delay&&(o._delay=m=u.delay,o._start+=m,u.delay=0),s.to(d,u,f(l,d,S))}v=m=0}v||o.duration(v=s.duration())}else o.timeline=0;return!0===w&&(At=r(o),a.killTweensOf(S),At=0),(y||!v&&!x&&o._start===o.parent._time&&W(y)&&function e(t){return!t||t._ts&&e(t.parent)}(r(o))&&"nested"!==o.parent.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-m))),o}o(t,e);var i=t.prototype;return i.render=function(e,t,i){var n,r,o,a,s,l,u,c,h,d=this._time,f=this._tDur,p=this._dur,g=e>f-1e-8&&e>=0?f:e<1e-8?0:e;if(p){if(g!==this._tTime||!e||i||this._startAt&&this._zTime<0!=e<0){if(n=g,c=this.timeline,this._repeat){if(a=p+this._rDelay,(n=be(g%a))>p&&(n=p),(o=~~(g/a))&&o===g/a&&(n=p,o--),(l=this._yoyo&&1&o)&&(h=this._yEase,n=p-n),s=je(this._tTime,a),n===d&&!i&&this._initted)return this;o!==s&&this.vars.repeatRefresh&&!this._lock&&(this._lock=i=1,this.render(a*o,!0).invalidate()._lock=0)}if(!this._initted&&Be(this,n,i,t))return this;for(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(n/p),this._from&&(this.ratio=u=1-u),d||!n||t||rt(this,"onStart"),r=this._pt;r;)r.r(u,r.d),r=r._next;c&&c.render(e<0?e:!n&&l?-1e-8:c._dur*u,t,i)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,i),rt(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!t&&this.parent&&rt(this,"onRepeat"),g!==f&&g||this._tTime!==g||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,i),(e||!p)&&(g||this._ts<0)&&Le(this,1),t||e<0&&!d||(rt(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(e,t,i,n){var r,o=e._zTime<0?0:1,a=t<0?0:1,s=e._rDelay,l=0;if(s&&e._repeat&&(l=We(0,e._tDur,t),je(l,s)!==je(e._tTime,s)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),(e._initted||!Be(e,t,n,i))&&(a!==o||n||1e-8===e._zTime||!t&&e._zTime)){for(e._zTime=t||(i?1e-8:0),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,i||rt(e,"onStart"),r=e._pt;r;)r.r(a,r.d),r=r._next;!a&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,n),e._onUpdate&&!i&&rt(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&rt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(e.ratio&&Le(e,1),i||(rt(e,e.ratio?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}}(this,e,t,i);return this},i.targets=function(){return this._targets},i.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},i.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return ot(this);if(this.timeline)return this.timeline.killTweensOf(e,t,At&&!0!==At.vars.overwrite),this;var i,n,r,o,a,s,l,u=this._targets,c=e?$e(e):u,h=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0}(u,c))return ot(this);for(i=this._op=this._op||[],"all"!==t&&(B(t)&&(a={},ye(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var i,n,r,o,a=e[0]?ve(e[0]).harness:0,s=a&&a.aliases;if(!s)return t;for(n in i=Te({},t),s)if(n in i)for(r=(o=s[n].split(",")).length;r--;)i[o[r]]=i[n];return i}(u,t)),l=u.length;l--;)if(~c.indexOf(u[l]))for(a in n=h[l],"all"===t?(i[l]=t,o=n,r={}):(r=i[l]=i[l]||{},o=t),o)(s=n&&n[a])&&("kill"in s.d&&!0!==s.d.kill(a)||Pe(this,s,"_pt"),delete n[a]),"all"!==r&&(r[a]=1);return this._initted&&!this._pt&&d&&ot(this),this},t.to=function(e,i){return new t(e,i,arguments[2])},t.from=function(e,i){return new t(e,xe(arguments,1))},t.delayedCall=function(e,i,n,r){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},t.fromTo=function(e,i,n){return new t(e,xe(arguments,2))},t.set=function(e,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(e,i)},t.killTweensOf=function(e,t,i){return a.killTweensOf(e,t,i)},t}(kt);Ce(qt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ye("staggerTo,staggerFrom,staggerFromTo",(function(e){qt[e]=function(){var t=new Tt,i=$e(arguments);return i.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,i)}}));var Rt=function(e,t,i){return e[t]=i},Bt=function(e,t,i){return e[t](i)},zt=function(e,t,i,n){return e[t](n.fp,i)},Nt=function(e,t,i){return e.setAttribute(t,i)},Ht=function(e,t){return z(e[t])?Bt:H(e[t])&&e.setAttribute?Nt:Rt},Ut=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Wt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Yt=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},Vt=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Xt=function(e,t,i,n){for(var r,o=this._pt;o;)r=o._next,o.p===n&&o.modifier(e,t,i),o=r},Gt=function(e){for(var t,i,n=this._pt;n;)i=n._next,n.p===e&&!n.op||n.op===e?Pe(this,n,"_pt"):n.dep||(t=1),n=i;return!t},$t=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},Zt=function(e){for(var t,i,n,r,o=e._pt;o;){for(t=o._next,i=n;i&&i.pr>o.pr;)i=i._next;(o._prev=i?i._prev:r)?o._prev._next=o:n=o,(o._next=i)?i._prev=o:r=o,o=t}e._pt=n},Kt=function(){function e(e,t,i,n,r,o,a,s,l){this.t=t,this.s=n,this.c=r,this.p=i,this.r=o||Ut,this.d=a||this,this.set=s||Rt,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,i){this.mSet=this.mSet||this.set,this.set=$t,this.m=e,this.mt=i,this.tween=t},e}();ye(pe+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",(function(e){se[e]=1,"on"===e.substr(0,2)&&(se[e+"Params"]=1)})),ee.TweenMax=ee.TweenLite=qt,ee.TimelineLite=ee.TimelineMax=Tt,a=new Tt({sortChildren:!1,defaults:P,autoRemoveChildren:!0,id:"root"}),O.stringFilter=ft;var Jt={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){return at(e)}))},timeline:function(e){return new Tt(e)},getTweensOf:function(e,t){return a.getTweensOf(e,t)},getProperty:function(e,t,i,n){B(e)&&(e=$e(e)[0]);var r=ve(e||{}).get,o=i?Ee:_e;return"native"===i&&(i=""),e?t?o((ce[t]&&ce[t].get||r)(e,t,i,n)):function(t,i,n){return o((ce[t]&&ce[t].get||r)(e,t,i,n))}:e},quickSetter:function(e,t,i){if((e=$e(e)).length>1){var n=e.map((function(e){return ti.quickSetter(e,t,i)})),r=n.length;return function(e){for(var t=r;t--;)n[t](e)}}e=e[0]||{};var o=ce[t],a=ve(e),s=o?function(t){var n=new o;h._pt=0,n.init(e,i?t+i:t,h,0,[e]),n.render(1,n),h._pt&&Vt(1,h)}:a.set(e,t);return o?s:function(n){return s(e,t,i?n+i:n,a,1)}},isTweening:function(e){return a.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=xt(e.ease,P.ease)),Ae(P,e||{})},config:function(e){return Ae(O,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,r=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!ce[e]&&!ee[e]&&re(t+" effect requires "+e+" plugin.")})),he[t]=function(e,t){return i($e(e),Ce(t||{},r))},o&&(Tt.prototype[t]=function(e,i,n){return this.add(he[t](e,U(i)?i:(n=i)&&{}),n)})},registerEase:function(e,t){vt[e]=xt(t)},parseEase:function(e,t){return arguments.length?xt(e,t):vt},getById:function(e){return a.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,n,r=new Tt(e);for(r.smoothChildTiming=W(e.smoothChildTiming),a.remove(r),r._dp=0,r._time=r._tTime=a._time,i=a._first;i;)n=i._next,!t&&!i._dur&&i instanceof qt&&i.vars.onComplete===i._targets[0]||Re(r,i,i._start-i._delay),i=n;return Re(a,r,0),r},utils:{wrap:function e(t,i,n){var r=i-t;return X(t)?et(t,e(0,t.length),i):Ue(n,(function(e){return(r+(e-t)%r)%r+t}))},wrapYoyo:function e(t,i,n){var r=i-t,o=2*r;return X(t)?et(t,e(0,t.length-1),i):Ue(n,(function(e){return t+((e=(o+(e-t)%o)%o)>r?o-e:e)}))},distribute:Ze,random:Qe,snap:Je,normalize:function(e,t,i){return it(e,t,0,1,i)},getUnit:Ye,clamp:function(e,t,i){return Ue(i,(function(i){return We(e,t,i)}))},splitColor:ut,toArray:$e,mapRange:it,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||Ye(i))}},interpolate:function e(t,i,n,r){var o=isNaN(t+i)?0:function(e){return(1-e)*t+e*i};if(!o){var a,s,l,u,c,h=B(t),d={};if(!0===n&&(r=1)&&(n=null),h)t={p:t},i={p:i};else if(X(t)&&!X(i)){for(l=[],u=t.length,c=u-2,s=1;s<u;s++)l.push(e(t[s-1],t[s]));u--,o=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},n=i}else r||(t=Te(X(t)?[]:{},t));if(!l){for(a in i)Pt.call(d,t,a,"get",i[a]);o=function(e){return Vt(e,d)||(h?t.p:t)}}}return Ue(n,o)}},install:ie,effects:he,ticker:pt,updateRoot:Tt.updateRoot,plugins:ce,globalTimeline:a,core:{PropTween:Kt,globals:oe,Tween:qt,Timeline:Tt,Animation:kt,getCache:ve}};ye("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Jt[e]=qt[e]})),pt.add(Tt.updateRoot),h=Jt.to({},{duration:0});var Qt=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},ei=function(e,t){return{name:e,rawVars:1,init:function(e,i,n){n._onInit=function(e){var n,r;if(B(i)&&(n={},ye(i,(function(e){return n[e]=1})),i=n),t){for(r in n={},i)n[r]=t(i[r]);i=n}!function(e,t){var i,n,r,o=e._targets;for(i in t)for(n=o.length;n--;)(r=e._ptLookup[n][i])&&(r=r.d)&&(r._pt&&(r=Qt(r,i)),r&&r.modifier&&r.modifier(t[i],e,o[n],i))}(e,i)}}}},ti=Jt.registerPlugin({name:"attr",init:function(e,t,i,n,r){for(var o in t)this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],n,r,0,0,o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i])}},ei("roundProps",Ke),ei("modifiers"),ei("snap",Je))||Jt;qt.version=Tt.version=ti.version="3.0.4",c=1,Y()&&gt();vt.Power0;
/*!
 * CSSPlugin 3.0.4
 * https://greensock.com
 *
 * Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ii,ni,ri,oi,ai,si,li,ui,ci,hi,di=vt.Power1,fi=vt.Power2,pi=vt.Power3,gi=vt.Power4,vi=(vt.Linear,vt.Quad,vt.Cubic,vt.Quart,vt.Quint,vt.Strong,vt.Elastic,vt.Back),mi=(vt.SteppedEase,vt.Bounce,vt.Sine,vt.Expo),yi=vt.Circ,bi={},wi=180/Math.PI,xi=Math.PI/180,Di=Math.atan2,Si=/([A-Z])/g,_i=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,Ei=/(?:left|right|width|margin|padding|x)/i,Ci=/[\s,\(]\S/,ki={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ti=function(e,t){return t.set(t.t,t.p,~~(1e3*(t.s+t.c*e))/1e3+t.u,t)},Ai=function(e,t){return t.set(t.t,t.p,1===e?t.e:~~(1e3*(t.s+t.c*e))/1e3+t.u,t)},Oi=function(e,t){return t.set(t.t,t.p,e?~~(1e3*(t.s+t.c*e))/1e3+t.u:t.b,t)},Pi=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},Li=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Ii=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Fi=function(e,t,i){return e.style[t]=i},Mi=function(e,t,i){return e.style.setProperty(t,i)},ji=function(e,t,i){return e._gsap[t]=i},qi=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Ri=function(e,t,i,n,r){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},Bi=function(e,t,i,n,r){var o=e._gsap;o[t]=i,o.renderTransform(r,o)},zi="transform",Ni=zi+"Origin",Hi=function(e,t){var i=ni.createElementNS?ni.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ni.createElement(e);return i.style?i:ni.createElement(e)},Ui=function e(t,i,n){var r=getComputedStyle(t);return r[i]||r.getPropertyValue(i.replace(Si,"-$1").toLowerCase())||r.getPropertyValue(i)||!n&&e(t,Yi(i)||i,1)||""},Wi="O,Moz,ms,Ms,Webkit".split(","),Yi=function(e,t){var i=(t||ai).style,n=5;if(e in i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);n--&&!(Wi[n]+e in i););return n<0?null:(3===n?"ms":n>=0?Wi[n]:"")+e},Vi=function(){"undefined"!=typeof window&&(ii=window,ni=ii.document,ri=ni.documentElement,ai=Hi("div")||{style:{}},si=Hi("div"),zi=Yi(zi),Ni=Yi(Ni),ai.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ui=!!Yi("perspective"),oi=1)},Xi=function e(t){var i,n=Hi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(ri.appendChild(n),n.appendChild(this),this.style.display="block",t)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(i=this._gsapBBox());return o?r.insertBefore(this,o):r.appendChild(this),ri.removeChild(n),this.style.cssText=a,i},Gi=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},$i=function(e){var t;try{t=e.getBBox()}catch(i){t=Xi.call(e,!0)}return!t||t.width||t.x||t.y?t:{x:+Gi(e,["x","cx","x1"])||0,y:+Gi(e,["y","cy","y1"])||0,width:0,height:0}},Zi=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!$i(e))},Ki=function(e,t){if(t){var i=e.style;t in bi&&(t=zi),i.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),i.removeProperty(t.replace(Si,"-$1").toLowerCase())):i.removeAttribute(t)}},Ji=function(e,t,i,n,r,o){var a=new Kt(e._pt,t,i,0,1,o?Ii:Li);return e._pt=a,a.b=n,a.e=r,e._props.push(i),a},Qi={deg:1,rad:1,turn:1},en=function(e,t,i,n){var r,o,a,s,l=parseFloat(i),u=(i+"").substr((l+"").length)||"px",c=ai.style,h=Ei.test(t),d="svg"===e.tagName.toLowerCase(),f=(d?"client":"offset")+(h?"Width":"Height"),p="px"===n;return n===u||Qi[n]||Qi[u]?l:(s=e.getCTM&&Zi(e),"%"===n&&bi[t]?be(l/(s?e.getBBox()[h?"width":"height"]:e[f])*100):(c[h?"width":"height"]=100+(p?u:n),o="em"===n&&e.appendChild&&!d?e:e.parentNode,s&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==ni&&o.appendChild||(o=ni.body),(a=o._gsap)&&"%"===n&&a.width&&h&&a.time===pt.time?be(l/a.width*100):(o.appendChild(ai),r=ai[f],o.removeChild(ai),h&&"%"===n&&((a=ve(o)).time=pt.time,a.width=o[f]),be(p?r*l/100:100/r*l))))},tn=function(e,t,i,n){var r;return oi||Vi(),t in ki&&"transform"!==t&&~(t=ki[t]).indexOf(",")&&(t=t.split(",")[0]),bi[t]&&"transform"!==t?(r=fn(e,n),r="transformOrigin"!==t?r[t]:pn(Ui(e,Ni))+r.zOrigin+"px"):(!(r=e.style[t])||"auto"===r||n||~r.indexOf("calc("))&&(r=Ui(e,t)||me(e,t)||("opacity"===t?1:0)),i?en(e,t,r,i)+i:r},nn=function(e,t,i,n){var r,o,a,s,l,u,c,h,d,f,p,g,v=new Kt(this._pt,e.style,t,0,1,Yt),m=0,y=0;if(v.b=i,v.e=n,i+="","auto"===(n+="")&&(e.style[t]=n,n=Ui(e,t)||n,e.style[t]=i),ft(r=[i,n]),n=r[1],!!(u=(i=r[0]).indexOf("rgba("))!=!!(c=n.indexOf("rgba("))&&(u?i=i.substr(u)+" "+i.substr(0,u-1):n=n.substr(c)+" "+n.substr(0,c-1)),a=i.match(_i)||[],(n.match(_i)||[]).length){for(;o=_i.exec(n);)c=o[0],d=n.substring(m,o.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),c!==(u=a[y++]||"")&&(s=parseFloat(u)||0,p=u.substr((s+"").length),(g="="===c.charAt(1)?+(c.charAt(0)+"1"):0)&&(c=c.substr(2)),h=parseFloat(c),f=c.substr((h+"").length),m=_i.lastIndex-f.length,f||(f=f||O.units[t]||p,m===n.length&&(n+=f,v.e+=f)),p!==f&&(s=en(e,t,u,f)||0),v._pt={_next:v._pt,p:d||1===y?d:",",s:s,c:g?g*h:h-s,m:l&&l<4?Math.round:0});v.c=m<n.length?n.substring(m,n.length):""}else v.r="display"===t&&"none"===n?Ii:Li;return J.test(n)&&(v.e=0),this._pt=v,v},rn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},on=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i,n,r,o=t.t,a=o.style,s=t.u;if("all"===s||!0===s)a.cssText="",n=1;else for(r=(s=s.split(",")).length;--r>-1;)i=s[r],bi[i]&&(n=1,i="transformOrigin"===i?Ni:zi),Ki(o,i);n&&(Ki(o,zi),(n=o._gsap)&&(n.svg&&o.removeAttribute("transform"),fn(o,1)))}},an={clearProps:function(e,t,i,n,r){if("isFromStart"!==r.data){var o=e._pt=new Kt(e._pt,t,i,0,0,on);return o.u=n,o.pr=-10,o.tween=r,e._props.push(i),1}}},sn=[1,0,0,1,0,0],ln={},un=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},cn=function(e){var t=Ui(e,zi);return un(t)?sn:t.substr(7).match($).map(be)},hn=function(e,t){var i,n,r,o,a=e._gsap,s=e.style,l=cn(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=e.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?sn:l:(l!==sn||e.offsetParent||e===ri||a.svg||(r=s.display,s.display="block",(i=e.parentNode)&&e.offsetParent||(o=1,n=e.nextSibling,ri.appendChild(e)),l=cn(e),r?s.display=r:Ki(e,"display"),o&&(n?i.insertBefore(e,n):i?i.appendChild(e):ri.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},dn=function(e,t,i,n,r,o){var a,s,l,u=e._gsap,c=r||hn(e,!0),h=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,g=c[0],v=c[1],m=c[2],y=c[3],b=c[4],w=c[5],x=t.split(" "),D=parseFloat(x[0])||0,S=parseFloat(x[1])||0;i?c!==sn&&(s=g*y-v*m)&&(l=D*(-v/s)+S*(g/s)-(g*w-v*b)/s,D=D*(y/s)+S*(-m/s)+(m*w-y*b)/s,S=l):(D=(a=$i(e)).x+(~x[0].indexOf("%")?D/100*a.width:D),S=a.y+(~(x[1]||x[0]).indexOf("%")?S/100*a.height:S)),n||!1!==n&&u.smooth?(b=D-h,w=S-d,u.xOffset=f+(b*g+w*m)-b,u.yOffset=p+(b*v+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=D,u.yOrigin=S,u.smooth=!!n,u.origin=t,u.originIsAbsolute=!!i,e.style[Ni]="0px 0px",o&&(Ji(o,u,"xOrigin",h,D),Ji(o,u,"yOrigin",d,S),Ji(o,u,"xOffset",f,u.xOffset),Ji(o,u,"yOffset",p,u.yOffset))},fn=function(e,t){var i=e._gsap||new Ct(e);if("x"in i&&!t&&!i.uncache)return i;var n,r,o,a,s,l,u,c,h,d,f,p,g,v,m,y,b,w,x,D,S,_,E,C,k,T,A,P,L,I,F=e.style,M=i.scaleX<0,j=i.xOrigin||0,q=i.yOrigin||0,R=Ui(e,Ni)||"0";return n=r=o=l=u=c=h=d=f=0,a=s=1,i.svg=!(!e.getCTM||!Zi(e)),p=hn(e,i.svg),i.svg&&dn(e,R,i.originIsAbsolute,!1!==i.smooth,p),p!==sn&&(y=p[0],b=p[1],w=p[2],x=p[3],n=D=p[4],r=S=p[5],6===p.length?(a=Math.sqrt(y*y+b*b),s=Math.sqrt(x*x+w*w),l=y||b?Di(b,y)*wi:0,h=w||x?Di(w,x)*wi+l:0,i.svg&&(n-=j-(j*y+q*w),r-=q-(j*b+q*x))):(I=p[6],P=p[7],k=p[8],T=p[9],A=p[10],L=p[11],n=p[12],r=p[13],o=p[14],u=(g=Di(I,A))*wi,g&&(_=D*(v=Math.cos(-g))+k*(m=Math.sin(-g)),E=S*v+T*m,C=I*v+A*m,k=D*-m+k*v,T=S*-m+T*v,A=I*-m+A*v,L=P*-m+L*v,D=_,S=E,I=C),c=(g=Di(-w,A))*wi,g&&(v=Math.cos(-g),L=x*(m=Math.sin(-g))+L*v,y=_=y*v-k*m,b=E=b*v-T*m,w=C=w*v-A*m),l=(g=Di(b,y))*wi,g&&(_=y*(v=Math.cos(g))+b*(m=Math.sin(g)),E=D*v+S*m,b=b*v-y*m,S=S*v-D*m,y=_,D=E),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),a=be(Math.sqrt(y*y+b*b+w*w)),s=be(Math.sqrt(S*S+I*I)),g=Di(D,S),h=Math.abs(g)>2e-4?g*wi:0,f=L?1/(L<0?-L:L):0),i.svg&&(p=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!un(Ui(e,zi)),p&&e.setAttribute("transform",p))),Math.abs(h)>90&&Math.abs(h)<270&&(M?(a*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),i.x=((i.xPercent=n&&Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+"px",i.y=((i.yPercent=r&&Math.round(e.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",i.z=o+"px",i.scaleX=be(a),i.scaleY=be(s),i.rotation=be(l)+"deg",i.rotationX=be(u)+"deg",i.rotationY=be(c)+"deg",i.skewX=h+"deg",i.skewY=d+"deg",i.transformPerspective=f+"px",(i.zOrigin=parseFloat(R.split(" ")[2])||0)&&(F[Ni]=pn(R)),i.xOffset=i.yOffset=0,i.force3D=O.force3D,i.renderTransform=i.svg?yn:ui?mn:vn,i.uncache=0,i},pn=function(e){return(e=e.split(" "))[0]+" "+e[1]},gn=function(e,t,i){var n=Ye(t);return be(parseFloat(t)+parseFloat(en(e,"x",i+"px",n)))+n},vn=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,mn(e,t)},mn=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,o=i.x,a=i.y,s=i.z,l=i.rotation,u=i.rotationY,c=i.rotationX,h=i.skewX,d=i.skewY,f=i.scaleX,p=i.scaleY,g=i.transformPerspective,v=i.force3D,m=i.target,y=i.zOrigin,b="",w="auto"===v&&e&&1!==e||!0===v;if(y&&("0deg"!==c||"0deg"!==u)){var x,D=parseFloat(u)*xi,S=Math.sin(D),_=Math.cos(D);D=parseFloat(c)*xi,x=Math.cos(D),o=gn(m,o,S*x*-y),a=gn(m,a,-Math.sin(D)*-y),s=gn(m,s,_*x*-y+y)}(n||r)&&(b="translate("+n+"%, "+r+"%) "),(w||"0px"!==o||"0px"!==a||"0px"!==s)&&(b+="0px"!==s||w?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+") "),"0px"!==g&&(b+="perspective("+g+") "),"0deg"!==l&&(b+="rotate("+l+") "),"0deg"!==u&&(b+="rotateY("+u+") "),"0deg"!==c&&(b+="rotateX("+c+") "),"0deg"===h&&"0deg"===d||(b+="skew("+h+", "+d+") "),1===f&&1===p||(b+="scale("+f+", "+p+") "),m.style[zi]=b||"translate(0, 0)"},yn=function(e,t){var i,n,r,o,a,s=t||this,l=s.xPercent,u=s.yPercent,c=s.x,h=s.y,d=s.rotation,f=s.skewX,p=s.skewY,g=s.scaleX,v=s.scaleY,m=s.target,y=s.xOrigin,b=s.yOrigin,w=s.xOffset,x=s.yOffset,D=s.forceCSS,S=parseFloat(c),_=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=xi,f*=xi,i=Math.cos(d)*g,n=Math.sin(d)*g,r=Math.sin(d-f)*-v,o=Math.cos(d-f)*v,f&&(p*=xi,a=Math.tan(f-p),r*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),i*=a=Math.sqrt(1+a*a),n*=a)),i=be(i),n=be(n),r=be(r),o=be(o)):(i=g,o=v,n=r=0),(S&&!~(c+"").indexOf("px")||_&&!~(h+"").indexOf("px"))&&(S=en(m,"x",c,"px"),_=en(m,"y",h,"px")),(y||b||w||x)&&(S=be(S+y-(y*i+b*r)+w),_=be(_+b-(y*n+b*o)+x)),(l||u)&&(a=m.getBBox(),S=be(S+l/100*a.width),_=be(_+u/100*a.height)),a="matrix("+i+","+n+","+r+","+o+","+S+","+_+")",m.setAttribute("transform",a),D&&(m.style[zi]=a)},bn=function(e,t,i,n,r,o){var a,s,l=B(r),u=parseFloat(r)*(l&&~r.indexOf("rad")?wi:1),c=o?u*o:u-n,h=n+c+"deg";return l&&("short"===(a=r.split("_")[1])&&(c%=360)!==c%180&&(c+=c<0?360:-360),"cw"===a&&c<0?c=(c+36e9)%360-360*~~(c/360):"ccw"===a&&c>0&&(c=(c-36e9)%360-360*~~(c/360))),e._pt=s=new Kt(e._pt,t,i,n,c,Ai),s.e=h,s.u="deg",e._props.push(i),s},wn=function(e,t,i){var n,r,o,a,s,l,u,c=si.style,h=i._gsap;for(r in c.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",c[zi]=t,ni.body.appendChild(si),n=fn(si,1),bi)(o=h[r])!==(a=n[r])&&"perspective"!==r&&(s=Ye(o)!==(u=Ye(a))?en(i,r,o,u):parseFloat(o),l=parseFloat(a),e._pt=new Kt(e._pt,h,r,s,l-s,Ti),e._pt.u=u,e._props.push(r));ni.body.removeChild(si)},xn={name:"css",register:Vi,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var o,a,s,l,u,c,h,d,f,p,g,v,m,y,b,w,x,D,S,_=this._props,E=e.style;for(h in oi||Vi(),t)if("autoRound"!==h&&(a=t[h],!ce[h]||!Lt(h,t,i,n,e,r)))if(c=an[h],"function"===(u=typeof a)&&(u=typeof(a=a.call(i,n,e,r))),"string"===u&&~a.indexOf("random(")&&(a=tt(a)),c)c(this,e,h,a,i)&&(b=1);else if("--"===h.substr(0,2))this.add(E,"setProperty",getComputedStyle(e).getPropertyValue(h)+"",a+"",n,r,0,0,h);else{if(o=tn(e,h),l=parseFloat(o),(p="string"===u&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),s=parseFloat(a),h in ki&&("autoAlpha"===h&&(1===l&&"hidden"===tn(e,"visibility")&&s&&(l=0),Ji(this,E,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=ki[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in bi)if(v||(m=e._gsap,y=!1!==t.smoothOrigin&&m.smooth,(v=this._pt=new Kt(this._pt,E,zi,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===h)this._pt=new Kt(this._pt,m,"scaleY",m.scaleY,p?p*s:s-m.scaleY),_.push("scaleY",h),h+="X";else{if("transformOrigin"===h){x=void 0,D=void 0,S=void 0,x=(w=a).split(" "),D=x[0],S=x[1]||"50%","top"!==D&&"bottom"!==D&&"left"!==S&&"right"!==S||(w=D,D=S,S=w),x[0]=rn[D]||D,x[1]=rn[S]||S,a=x.join(" "),m.svg?dn(e,a,0,y,0,this):((f=parseFloat(a.split(" ")[2]))!==m.zOrigin&&Ji(this,m,"zOrigin",m.zOrigin,f),Ji(this,E,h,pn(o),pn(a)));continue}if("svgOrigin"===h){dn(e,a,1,y,0,this);continue}if(h in ln){bn(this,m,h,l,a,p);continue}if("smoothOrigin"===h){Ji(this,m,"smooth",m.smooth,a);continue}if("force3D"===h){m[h]=a;continue}if("transform"===h){wn(this,a,e);continue}}else h in E||(h=Yi(h)||h);if(g||(s||0===s)&&(l||0===l)&&!Ci.test(a)&&h in E)(d=(o+"").substr((l+"").length))!==(f=(a+"").substr((s+"").length)||(h in O.units?O.units[h]:d))&&(l=en(e,h,o,f)),this._pt=new Kt(this._pt,g?m:E,h,l,p?p*s:s-l,"px"!==f||!1===t.autoRound||g?Ti:Pi),this._pt.u=f||0,d!==f&&(this._pt.b=o,this._pt.r=Oi);else if(h in E)nn.call(this,e,h,o,a);else{if(!(h in e)){ne(h,a);continue}this.add(e,h,e[h],a,n,r)}_.push(h)}b&&Zt(this)},get:tn,aliases:ki,getSetter:function(e,t,i){return t in bi&&t!==Ni&&(e._gsap.x||tn(e,"x"))?i&&li===i?"scale"===t?qi:ji:(li=i||{})&&("scale"===t?Ri:Bi):e.style&&!H(e.style[t])?Fi:~t.indexOf("-")?Mi:Ht(e,t)}};ti.utils.checkPrefix=Yi,hi=ye("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(ci="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){bi[e]=1})),ye(ci,(function(e){O.units[e]="deg",ln[e]=1})),ki[hi[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+ci,ye("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");ki[t[1]]=hi[t[0]]})),ye("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){O.units[e]="px"})),ti.registerPlugin(xn);var Dn,Sn,_n,En,Cn,kn=ti.registerPlugin(xn)||ti,Tn=function(){return"undefined"!=typeof window},An=function(){return Dn||Tn()&&(Dn=window.gsap)&&Dn.registerPlugin&&Dn},On=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,Pn={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},Ln=function(e){return Math.round(1e4*e)/1e4},In=function(e){return parseFloat(e||0)},Fn=function(e,t){return In(e.getAttribute(t))},Mn=Math.sqrt,jn=function(e,t,i,n,r,o){return Mn(Math.pow((In(i)-In(e))*r,2)+Math.pow((In(n)-In(t))*o,2))},qn=function(e){return console.warn(e)},Rn=function(e){return"non-scaling-stroke"===e.getAttribute("vector-effect")},Bn=function(e){if(!(e=Sn(e)[0]))return 0;var t,i,n,r,o,a,s,l=e.tagName.toLowerCase(),u=e.style,c=1,h=1;Rn(e)&&(h=e.getScreenCTM(),c=Mn(h.a*h.a+h.b*h.b),h=Mn(h.d*h.d+h.c*h.c));try{i=e.getBBox()}catch(e){qn("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var d=i||{x:0,y:0,width:0,height:0},f=d.x,p=d.y,g=d.width,v=d.height;if(i&&(g||v)||!Pn[l]||(g=Fn(e,Pn[l][0]),v=Fn(e,Pn[l][1]),"rect"!==l&&"line"!==l&&(g*=2,v*=2),"line"===l&&(f=Fn(e,"x1"),p=Fn(e,"y1"),g=Math.abs(g-f),v=Math.abs(v-p))),"path"===l)r=u.strokeDasharray,u.strokeDasharray="none",t=e.getTotalLength()||0,c!==h&&qn("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(c+h)/2,u.strokeDasharray=r;else if("rect"===l)t=2*g*c+2*v*h;else if("line"===l)t=jn(f,p,f+g,p+v,c,h);else if("polyline"===l||"polygon"===l)for(n=e.getAttribute("points").match(On)||[],"polygon"===l&&n.push(n[0],n[1]),t=0,o=2;o<n.length;o+=2)t+=jn(n[o-2],n[o-1],n[o],n[o+1],c,h)||0;else"circle"!==l&&"ellipse"!==l||(a=g/2*c,s=v/2*h,t=Math.PI*(3*(a+s)-Mn((3*a+s)*(a+3*s))));return t||0},zn=function(e,t){if(!(e=Sn(e)[0]))return[0,0];t||(t=Bn(e)+1);var i=_n.getComputedStyle(e),n=i.strokeDasharray||"",r=In(i.strokeDashoffset),o=n.indexOf(",");return o<0&&(o=n.indexOf(" ")),(n=o<0?t:In(n.substr(0,o))||1e-5)>t&&(n=t),[Math.max(0,-r),Math.max(0,n-r)]},Nn=function(){Tn()&&(document,_n=window,Cn=Dn=An(),Sn=Dn.utils.toArray,En=-1!==((_n.navigator||{}).userAgent||"").indexOf("Edge"))},Hn={version:"3.0.4",name:"drawSVG",register:function(e){Dn=e,Nn()},init:function(e,t,i,n,r){if(!e.getBBox)return!1;Cn||Nn();var o,a,s,l,u=Bn(e)+1;return this._style=e.style,this._target=e,t+""=="true"?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",a=function(e,t,i){var n,r,o=e.indexOf(" ");return o<0?(n=void 0!==i?i+"":e,r=e):(n=e.substr(0,o),r=e.substr(o+1)),(n=~n.indexOf("%")?In(n)/100*t:In(n))>(r=~r.indexOf("%")?In(r)/100*t:In(r))?[r,n]:[n,r]}(t,u,(o=zn(e,u))[0]),this._length=Ln(u+10),0===o[0]&&0===a[0]?(s=Math.max(1e-5,a[1]-u),this._dash=Ln(u+s),this._offset=Ln(u-o[1]+s),this._offsetPT=this.add(this,"_offset",this._offset,Ln(u-a[1]+s))):(this._dash=Ln(o[1]-o[0])||1e-6,this._offset=Ln(-o[0]),this._dashPT=this.add(this,"_dash",this._dash,Ln(a[1]-a[0])||1e-5),this._offsetPT=this.add(this,"_offset",this._offset,Ln(-a[0]))),En&&(l=_n.getComputedStyle(e)).strokeLinecap!==l.strokeLinejoin&&(a=In(l.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",a,a+.01)),this._live=Rn(e)||~(t+"").indexOf("live"),this._props.push("drawSVG"),1},render:function(e,t){var i,n,r,o,a=t._pt,s=t._style;if(a){for(t._live&&(i=Bn(t._target)+11)!==t._length&&(n=i/t._length,t._length=i,t._offsetPT.s*=n,t._offsetPT.c*=n,t._dashPT?(t._dashPT.s*=n,t._dashPT.c*=n):t._dash*=n);a;)a.r(e,a.d),a=a._next;r=t._dash,o=t._offset,i=t._length,s.strokeDashoffset=t._offset,1!==e&&e?s.strokeDasharray=r+"px,"+i+"px":(r-o<.001&&i-r<=10&&(s.strokeDashoffset=o+1),s.strokeDasharray=o<.001&&i-r<=10?"none":o===r?"0px, 999999px":r+"px,"+i+"px")}},getLength:Bn,getPosition:zn};
/*!
 * DrawSVGPlugin 3.0.4
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/An()&&Dn.registerPlugin(Hn);
/*!
 * strings: 3.0.4
 * https://greensock.com
 *
 * Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Un=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;
/*!
 * SplitText: 3.0.4
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Wn,Yn,Vn,Xn=/(?:\r|\n|\t\t)/g,Gn=/(?:\s\s+)/g,$n=function(e){return Yn.getComputedStyle(e)},Zn=Array.isArray,Kn=[].slice,Jn=function(e,t){var i;return Zn(e)?e:"string"==(i=typeof e)&&!t&&e?Kn.call(Wn.querySelectorAll(e),0):e&&"object"===i&&"length"in e?Kn.call(e,0):e?[e]:[]},Qn=function(e){return"absolute"===e.position||!0===e.absolute},er=function(e,t){for(var i,n=t.length;--n>-1;)if(i=t[n],e.substr(0,i.length)===i)return i.length},tr=function(e,t){void 0===e&&(e="");var i=~e.indexOf("++"),n=1;return i&&(e=e.split("++").join("")),function(){return"<"+t+" style='position:relative;display:inline-block;'"+(e?" class='"+e+(i?n++:"")+"'>":">")}},ir=function e(t,i,n){var r=t.nodeType;if(1===r||9===r||11===r)for(t=t.firstChild;t;t=t.nextSibling)e(t,i,n);else 3!==r&&4!==r||(t.nodeValue=t.nodeValue.split(i).join(n))},nr=function(e,t){for(var i=t.length;--i>-1;)e.push(t[i])},rr=function(e,t,i){for(var n;e&&e!==t;){if(n=e._next||e.nextSibling)return n.textContent.charAt(0)===i;e=e.parentNode||e._parent}},or=function e(t){var i,n,r=Jn(t.childNodes),o=r.length;for(i=0;i<o;i++)(n=r[i])._isSplit?e(n):(i&&3===n.previousSibling.nodeType?n.previousSibling.nodeValue+=3===n.nodeType?n.nodeValue:n.firstChild.nodeValue:3!==n.nodeType&&t.insertBefore(n.firstChild,n),t.removeChild(n))},ar=function(e,t){return parseFloat(t[e])||0},sr=function(e,t,i,n,r,o,a){var s,l,u,c,h,d,f,p,g,v,m,y,b=$n(e),w=ar("paddingLeft",b),x=-999,D=ar("borderBottomWidth",b)+ar("borderTopWidth",b),S=ar("borderLeftWidth",b)+ar("borderRightWidth",b),_=ar("paddingTop",b)+ar("paddingBottom",b),E=ar("paddingLeft",b)+ar("paddingRight",b),C=.2*ar("fontSize",b),k=b.textAlign,T=[],A=[],O=[],P=t.wordDelimiter||" ",L=t.tag?t.tag:t.span?"span":"div",I=t.type||t.split||"chars,words,lines",F=r&&~I.indexOf("lines")?[]:null,M=~I.indexOf("words"),j=~I.indexOf("chars"),q=Qn(t),R=t.linesClass,B=~(R||"").indexOf("++"),z=[];for(B&&(R=R.split("++").join("")),u=(l=e.getElementsByTagName("*")).length,h=[],s=0;s<u;s++)h[s]=l[s];if(F||q)for(s=0;s<u;s++)((d=(c=h[s]).parentNode===e)||q||j&&!M)&&(y=c.offsetTop,F&&d&&Math.abs(y-x)>C&&("BR"!==c.nodeName||0===s)&&(f=[],F.push(f),x=y),q&&(c._x=c.offsetLeft,c._y=y,c._w=c.offsetWidth,c._h=c.offsetHeight),F&&((c._isSplit&&d||!j&&d||M&&d||!M&&c.parentNode.parentNode===e&&!c.parentNode._isSplit)&&(f.push(c),c._x-=w,rr(c,e,P)&&(c._wordEnd=!0)),"BR"===c.nodeName&&(c.nextSibling&&"BR"===c.nextSibling.nodeName||0===s)&&F.push([])));for(s=0;s<u;s++)d=(c=h[s]).parentNode===e,"BR"!==c.nodeName?(q&&(g=c.style,M||d||(c._x+=c.parentNode._x,c._y+=c.parentNode._y),g.left=c._x+"px",g.top=c._y+"px",g.position="absolute",g.display="block",g.width=c._w+1+"px",g.height=c._h+"px"),!M&&j?c._isSplit?(c._next=c.nextSibling,c.parentNode.appendChild(c)):c.parentNode._isSplit?(c._parent=c.parentNode,!c.previousSibling&&c.firstChild&&(c.firstChild._isFirst=!0),c.nextSibling&&" "===c.nextSibling.textContent&&!c.nextSibling.nextSibling&&z.push(c.nextSibling),c._next=c.nextSibling&&c.nextSibling._isFirst?null:c.nextSibling,c.parentNode.removeChild(c),h.splice(s--,1),u--):d||(y=!c.nextSibling&&rr(c.parentNode,e,P),c.parentNode._parent&&c.parentNode._parent.appendChild(c),y&&c.parentNode.appendChild(Wn.createTextNode(" ")),"span"===L&&(c.style.display="inline"),T.push(c)):c.parentNode._isSplit&&!c._isSplit&&""!==c.innerHTML?A.push(c):j&&!c._isSplit&&("span"===L&&(c.style.display="inline"),T.push(c))):F||q?(c.parentNode&&c.parentNode.removeChild(c),h.splice(s--,1),u--):M||e.appendChild(c);for(s=z.length;--s>-1;)z[s].parentNode.removeChild(z[s]);if(F){for(q&&(v=Wn.createElement(L),e.appendChild(v),m=v.offsetWidth+"px",y=v.offsetParent===e?0:e.offsetLeft,e.removeChild(v)),g=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(p=" "===P&&(!q||!M&&!j),s=0;s<F.length;s++){for(f=F[s],(v=Wn.createElement(L)).style.cssText="display:block;text-align:"+k+";position:"+(q?"absolute;":"relative;"),R&&(v.className=R+(B?s+1:"")),O.push(v),u=f.length,l=0;l<u;l++)"BR"!==f[l].nodeName&&(c=f[l],v.appendChild(c),p&&c._wordEnd&&v.appendChild(Wn.createTextNode(" ")),q&&(0===l&&(v.style.top=c._y+"px",v.style.left=w+y+"px"),c.style.top="0px",y&&(c.style.left=c._x-y+"px")));0===u?v.innerHTML="&nbsp;":M||j||(or(v),ir(v,String.fromCharCode(160)," ")),q&&(v.style.width=m,v.style.height=c._h+"px"),e.appendChild(v)}e.style.cssText=g}q&&(a>e.clientHeight&&(e.style.height=a-_+"px",e.clientHeight<a&&(e.style.height=a+D+"px")),o>e.clientWidth&&(e.style.width=o-E+"px",e.clientWidth<o&&(e.style.width=o+S+"px"))),nr(i,T),M&&nr(n,A),nr(r,O)},lr=function(e,t,i,n){var r,o,a,s,l,u,c,h,d=t.tag?t.tag:t.span?"span":"div",f=~(t.type||t.split||"chars,words,lines").indexOf("chars"),p=Qn(t),g=t.wordDelimiter||" ",v=" "!==g?"":p?"&#173; ":" ",m="</"+d+">",y=1,b=t.specialChars?"function"==typeof t.specialChars?t.specialChars:er:null,w=Wn.createElement("div"),x=e.parentNode;for(x.insertBefore(w,e),w.textContent=e.nodeValue,x.removeChild(e),c=-1!==(r=function e(t){var i=t.nodeType,n="";if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=e(t)}else if(3===i||4===i)return t.nodeValue;return n}(e=w)).indexOf("<"),!1!==t.reduceWhiteSpace&&(r=r.replace(Gn," ").replace(Xn,"")),c&&(r=r.split("<").join("{{LT}}")),l=r.length,o=(" "===r.charAt(0)?v:"")+i(),a=0;a<l;a++)if(u=r.charAt(a),b&&(h=b(r.substr(a),t.specialChars)))u=r.substr(a,h||1),o+=f&&" "!==u?n()+u+"</"+d+">":u,a+=h-1;else if(u===g&&r.charAt(a-1)!==g&&a){for(o+=y?m:"",y=0;r.charAt(a+1)===g;)o+=v,a++;a===l-1?o+=v:")"!==r.charAt(a+1)&&(o+=v+i(),y=1)}else"{"===u&&"{{LT}}"===r.substr(a,6)?(o+=f?n()+"{{LT}}</"+d+">":"{{LT}}",a+=5):u.charCodeAt(0)>=55296&&u.charCodeAt(0)<=56319||r.charCodeAt(a+1)>=65024&&r.charCodeAt(a+1)<=65039?(s=((r.substr(a,12).split(Un)||[])[1]||"").length||2,o+=f&&" "!==u?n()+r.substr(a,s)+"</"+d+">":r.substr(a,s),a+=s-1):o+=f&&" "!==u?n()+u+"</"+d+">":u;e.outerHTML=o+(y?m:""),c&&ir(x,"{{LT}}","<")},ur=function e(t,i,n,r){var o,a,s=Jn(t.childNodes),l=s.length,u=Qn(i);if(3!==t.nodeType||l>1){for(i.absolute=!1,o=0;o<l;o++)(3!==(a=s[o]).nodeType||/\S+/.test(a.nodeValue))&&(u&&3!==a.nodeType&&"inline"===$n(a).display&&(a.style.display="inline-block",a.style.position="relative"),a._isSplit=!0,e(a,i,n,r));return i.absolute=u,void(t._isSplit=!0)}lr(t,i,n,r)},cr=function(){function e(e,t){Vn||(Wn=document,Yn=window,Vn=1),this.elements=Jn(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)}var t=e.prototype;return t.split=function(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t,i,n,r=this.elements.length,o=e.tag?e.tag:e.span?"span":"div",a=tr(e.wordsClass,o),s=tr(e.charsClass,o);--r>-1;)n=this.elements[r],this._originals[r]=n.innerHTML,t=n.clientHeight,i=n.clientWidth,ur(n,e,a,s),sr(n,e,this.chars,this.words,this.lines,i,t);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){var e=this._originals;if(!e)throw"revert() call wasn't scoped properly.";return this.elements.forEach((function(t,i){return t.innerHTML=e[i]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},e.create=function(t,i){return new e(t,i)},e}();cr.version="3.0.4";var hr=i(11),dr=i.n(hr),fr=i(88),pr=i.n(fr);function gr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var vr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instances={},window.trash=this}var t,i,n;return t=e,(i=[{key:"add",value:function(e,t,i){this.instances[e]={key:e,instance:t,preserve:i}}},{key:"get",value:function(e){return this.instances[e]&&this.instances[e].instance?this.instances[e].instance:null}},{key:"getAll",value:function(){return this.instances}},{key:"remove",value:function(e){var t=this.get(e);t&&(!t.preserve&&t.destroy&&t.destroy(),this.instances[e]=null)}},{key:"removeAll",value:function(){for(var e in this.instances)this.remove(e)}},{key:"destroy",value:function(e){var t=this.get(e),i=!!this.instances[e]&&this.instances[e].preserve;t&&!i&&t.destroy&&t.destroy()}},{key:"destroyAll",value:function(){for(var e in this.instances)this.destroy(e)}},{key:"map",value:function(e){for(var t in this.instances){var i=this.get(t);i[e]&&i[e]()}}},{key:"call",value:function(e,t){for(var i=this.get(e),n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(i&&i[t])return i[t].apply(i,r)}}])&&gr(t.prototype,i),n&&gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function mr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var yr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mainPageInfo=document.querySelector(".js-page-info"),this.localPageInfo=document.querySelector(".js-local-page-info"),this.options={page:"",activeMetaColor:"",activeBg:"",activeColor:"",defaultBg:"#DCD6D0"}}var t,i,n;return t=e,(i=[{key:"setMainOptions",value:function(){var e=document.querySelector('[data-barba="container"]').dataset.barbaNamespace;this.localPageInfo=document.querySelector(".js-local-page-info"),this.update("activeBg",this.localPageInfo.dataset.bg),this.update("activeMetaColor",this.localPageInfo.dataset.meta),this.update("page",e),this.mainPageInfo.classList.add("is-".concat(e)),"single-case"===e&&this.set("titleColor",this.localPageInfo.dataset.titleColor)}},{key:"updatePageRoute",value:function(e,t){this.mainPageInfo.classList.remove("is-".concat(e)),this.mainPageInfo.classList.add("is-".concat(t))}},{key:"updateMainOptions",value:function(e){this.update("page",e.namespace),this.localPageInfo=e.container.querySelector(".js-local-page-info"),this.update("activeBg",this.localPageInfo.dataset.bg),this.update("activeMetaColor",this.localPageInfo.dataset.meta)}},{key:"set",value:function(e,t){this.options[e]=t}},{key:"get",value:function(e){if(this.options.hasOwnProperty(e))return this.options[e]}},{key:"update",value:function(e,t){this.options.hasOwnProperty(e)&&(this.options[e]=t)}}])&&mr(t.prototype,i),n&&mr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function br(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.categories={},this.activeCategory="",this.activeProject="",this.nextContainer=null,this.oldContainerHeight=0}var t,i,n;return t=e,(i=[{key:"getCategories",value:function(){var e=document.querySelector("[data-categories]");if(e){this.categories=JSON.parse(e.innerText);var t=-1;for(var i in this.categories)this.categories[i].index=++t;this.firstCategory=this.categories[Object.keys(this.categories)[0]],e.remove()}}},{key:"getActives",value:function(e){var t=(e||document).querySelector("[data-active-category]"),i=(e||document).querySelector("[data-active-project]");if(t&&i){var n=t.getAttribute("data-active-category");this.activeCategory=this.categories[n],i&&(this.activeProject=this.activeCategory.projects.find((function(e){return e.id==i.getAttribute("data-active-project")})))}}},{key:"detectDevice",value:function(){this.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isWin=navigator.platform.indexOf("Win")>-1,this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"getIos",value:function(){return this.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isIos}},{key:"init",value:function(){this.getCategories(),this.getActives(),this.detectDevice()}}])&&br(t.prototype,i),n&&br(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function xr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Dr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.device=0,this.window={width:0,height:0,ratio:0},this.nav={height:.13,heightHome:.22},this.footer={heightHome:.15},this.navPadding={desk:.033333,mobile:.05},this.isFakeMobile=!1,this.caseImageTop=.14}var t,i,n;return t=e,(i=[{key:"createRuler",value:function(){var e=document.createElement("div");e.style.position="fixed",e.style.height="100%",e.style.width=0,e.style.top=0,document.documentElement.appendChild(e),this.window.height=wr.isIos?e.offsetHeight:window.innerHeight,document.documentElement.removeChild(e),e=null}},{key:"getWindow",value:function(){this.createRuler(),this.window.width=window.innerWidth,this.window.ratio=this.window.width/this.window.height}},{key:"getFakeMobile",value:function(){this.isFakeMobile=wr.isIos&&(this.window.width<=1024&&this.window.height>1300||this.window.width>1300&&this.window.height<=1024)}},{key:"getDevice",value:function(){this.device=window.matchMedia("(min-width:1920px)").matches?3:window.matchMedia("(min-width:1025px)").matches?2:window.matchMedia("(min-width:768px)").matches?1:0}},{key:"setup",value:function(){this.getDevice(),this.getWindow(),this.getFakeMobile(),this.isFakeMobile?document.body.classList.add("is-fake-mobile"):document.body.classList.remove("is-fake-mobile")}},{key:"init",value:function(){this.setup()}},{key:"resize",value:function(){this.setup()}},{key:"reinit",value:function(){this.setup()}}])&&xr(t.prototype,i),n&&xr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Sr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _r=new(function(){function e(){var t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={home:{zIndex:2,pointerEvents:"auto",touchAction:"auto",opacity:1},"single-case":{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},about:{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},journal:{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},"single-article":{zIndex:5,pointerEvents:"none",touchAction:"none",opacity:1},contact:{zIndex:-1,pointerEvents:"none",touchAction:"none",opacity:0},"contact-thanks":{zIndex:-1,pointerEvents:"none",touchAction:"none",opacity:0}},(i="cssProps")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}var t,i,n;return t=e,(i=[{key:"setCSS",value:function(){2===Dr.device?kn.set(this.el,this.cssProps[yr.get("page")]):kn.set(this.el,this.cssProps["home"===yr.get("page")?"home":"contact"])}},{key:"hide",value:function(){kn.set(this.el,{opacity:0})}},{key:"resetState",value:function(){var e=this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),t=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t);for(var i=0;i<e;++i)this.gl.disableVertexAttribArray(i),this.gl.vertexAttribPointer(i,4,this.gl.FLOAT,!1,0,0),this.gl.vertexAttrib1f(i,0);this.gl.deleteBuffer(t),this.gl.disable(this.gl.DEPTH_TEST);var n=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);for(i=0;i<n;++i)this.gl.activeTexture(this.gl.TEXTURE0+i),this.gl.bindTexture(this.gl.TEXTURE_2D,null);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.useProgram(null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}},{key:"onChange",value:function(){this.el&&(this.el.classList.remove("pointer"),Dr.device<2&&wr.isIos&&"home"===yr.get("page")&&(this.el.remove(),this.el=document.createElement("canvas"),this.el.className="js-canvas",document.body.prepend(this.el),this.getContext()))}},{key:"getContext",value:function(){for(var e=["webgl","experimental-webgl"],t=0;t<e.length;t++)this.gl=this.el.getContext(e[t]),this.gl&&(t=e.length)}},{key:"init",value:function(){this.el=document.querySelector(".js-canvas"),this.el&&this.getContext()}}])&&Sr(t.prototype,i),n&&Sr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Er(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Cr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metaEl=document.querySelector('meta[name="theme-color"]'),this.metaColor="#1F1E20",this.bgEl=document.body,this.bgColor="#DCD6D0"}var t,i,n;return t=e,(i=[{key:"changeMeta",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?(this.metaColor=e,yr.update("activeMetaColor",this.metaColor),this.metaEl.setAttribute("content",this.metaColor)):this.metaEl.setAttribute("content",e)}},{key:"changeBg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3;this.bgColor=e,yr.update("activeBg",this.bgColor),kn.killTweensOf(this.bgEl),kn.to(this.bgEl,{duration:t,backgroundColor:e})}}])&&Er(t.prototype,i),n&&Er(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function kr(e){e.parentNode.removeChild(e)}function Tr(e,t,i){var n;return function(){var r=this,o=arguments,a=function(){n=null,i||e.apply(r,o)},s=i&&!n;clearTimeout(n),n=setTimeout(a,t),s&&e.apply(r,o)}}var Ar={huge:2200,xlarge:1800,large:1200,medium:700,small:300};function Or(e,t,i){var n="original";for(var r in Ar){(e>=1?Ar[r]:Ar[r]*e)>=t&&(e>=1?Ar[r]/e:Ar[r])>=i&&(n=r)}return n}function Pr(e,t,i,n,r){return(e-t)*(r-n)/(i-t)+n}function Lr(e,t,i){return(1-i)*e+i*t}function Ir(){var e=!1;return window.PointerEvent&&"maxTouchPoints"in navigator?navigator.maxTouchPoints>0&&(e=!0):(window.matchMedia&&window.matchMedia("(any-pointer:coarse)").matches||window.TouchEvent||"ontouchstart"in window)&&(e=!0),e}function Fr(e,t){for(var i=t.parentNode;null!=i;){if(i==e)return!0;i=i.parentNode}return!1}function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function jr(e){var t=e.x,i=e.y,n=e.c;return{x:2*(t/n.width-.5),y:2*-(i/n.height-.5)}}function qr(e){var t=e.x,i=e.y,n=e.c;return{x:(t+1)/2*n.width,y:(1-(i+1)/2)*n.height}}function Rr(e,t){return e/t*2}function Br(e,t){return e/2*t}function zr(e,t,i){return e<0?i?t.length-(-e%t.length?-e%t.length:t.length):t.length-1:e>t.length-1?i?e%t.length:0:e}function Nr(e,t,i){return t[zr(e,t,i)]}function Hr(e){return e%2==0}function Ur(e,t,i){return Math.max(t,Math.min(e,i))}function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,n=e.getBoundingClientRect(),r=vr.get("scrollManager"),o=r&&r.scroll?r.scroll.y:0;return{width:n.width,height:n.height,top:(i?0:o)+n.top-t,right:n.left+n.width,bottom:(i?0:o)+n.top+n.height-t,left:n.left}}function Yr(){}function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gr(e,t,i){return t&&Xr(e.prototype,t),i&&Xr(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Zr=function(){function e(t){var i=this;Vr(this,e),$r(this,"resize",(function(){kn.set(i.el,i.defaultStyle),i.getRect(),i.manageRatio()})),this.el=t,this.defaultStyle={scale:1,x:0,y:0,opacity:0},this.getRect(),this.manageRatio()}return Gr(e,[{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"manageRatio",value:function(){kn.set(this.el,{height:"".concat(1.5*this.rect.width,"px")})}},{key:"isActive",value:function(){return kn.isTweening(this.el)||0!=this.el.style.opacity}}]),e}(),Kr=new(function(){function e(){var t=this;Vr(this,e),$r(this,"setMousePos",(function(e){t.mousePos=function(e){var t=0,i=0;return e||(e=window.event),"touchmove"===e.type?(t=e.touches[0].clientX,i=e.touches[0].clientY):e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}}(e)})),this.content=null,this.contentImages=[],this.images=[],this.imgPosition=0,this.zIndexVal=1,this.mousePos=this.lastMousePos=this.cacheMousePos={x:0,y:0}}return Gr(e,[{key:"render",value:function(){var e,t,i,n,r=this,o=(e=this.mousePos.x,t=this.mousePos.y,i=this.lastMousePos.x,n=this.lastMousePos.y,Math.hypot(i-e,n-t));this.cacheMousePos.x=Lr(this.cacheMousePos.x||this.mousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=Lr(this.cacheMousePos.y||this.mousePos.y,this.mousePos.y,.1),o>this.threshold&&(this.showNextImage(),++this.zIndexVal,this.imgPosition=this.imgPosition<this.images.length-1?this.imgPosition+1:0,this.lastMousePos=this.mousePos);for(var a=!0,s=0;s<this.images.length;s++){if(this.images[s].isActive()){a=!1;break}}a&&1!==this.zIndexVal&&(this.zIndexVal=1),requestAnimationFrame((function(){return r.render()}))}},{key:"showNextImage",value:function(){var e=this.images[this.imgPosition];kn.killTweensOf(e.el);var t=Dr.device>=1?2:4;kn.timeline().set(e.el,{startAt:{opacity:0,scale:1},opacity:1,zIndex:this.zIndexVal,x:this.cacheMousePos.x-e.rect.width/t,y:this.cacheMousePos.y-e.rect.height/t},0).to(e.el,{duration:.9,ease:mi.easeOut,x:this.mousePos.x-e.rect.width/t,y:this.mousePos.y-e.rect.height/t},0).to(e.el,{duration:1,ease:di.easeOut,opacity:0},.2)}},{key:"removeListeners",value:function(){this.hasListeners=!1,Dr.device<2&&Ir()||wr.isIos?this.hasListeners&&window.removeEventListener("touchmove",this.setMousePos):this.hasListeners&&window.removeEventListener("mousemove",this.setMousePos)}},{key:"destroy",value:function(){this.content&&this.hasListeners&&this.removeListeners()}},{key:"setup",value:function(){var e=this;if(this.contentImages=this.content.querySelectorAll(".not-found__img"),this.hasListeners=!0,Dr.device<2&&Ir()||wr.isIos){for(var t=0;t<this.contentImages.length;t++)this.images.push(new Zr(this.contentImages[t]));window.addEventListener("touchmove",this.setMousePos),requestAnimationFrame((function(){return e.render()}))}else{for(var i=0;i<this.contentImages.length;i++)this.images.push(new Zr(this.contentImages[i]));window.addEventListener("mousemove",this.setMousePos),requestAnimationFrame((function(){return e.render()}))}}},{key:"resize",value:function(){this.content&&(this.images.forEach((function(e){return e.resize()})),this.hasListeners&&this.removeListeners(),this.images=[],this.threshold=Dr.device>1?200:108,this.setup())}},{key:"init",value:function(e){this.content=document.querySelector(".not-found"),this.threshold=Dr.device>1?200:108,this.content&&(e.forEach((function(e){return vr.call("imageLoader","onLazyLoad",e)})),this.setup())}}]),e}());function Jr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Qr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"beforeLeave",value:function(e){var t=e.current,i=e.next;wr.oldContainerHeight=t.container.clientHeight,wr.nextContainer=i.container,wr.nextScrollContainer=i.container.querySelector("[data-scroll-container]")}},{key:"afterLeave",value:function(e){var t=e.current,i=e.next;try{var n=t.container.dataset.barbaNamespace,r=i.container.dataset.barbaNamespace;switch(yr.updatePageRoute(n,r),yr.updateMainOptions(i),vr.destroyAll(),"home"!==i.namespace&&vr.call("gridManager","destroy"),Kr.destroy(),i.namespace){case"about":document.body.classList.add("blend");break;case"single-article":break;case"not-found":document.body.classList.add("blend");break;default:document.body.classList.remove("blend")}}catch(e){console.warn("ChangePageManager AFTERLEAVE",e)}}},{key:"beforeEnter",value:function(e){var t=e.current,i=e.next;try{if(t.container){var n=t.namespace,r=i.namespace;Dr.device<2&&"home"===n&&(_r.gl.clear(_r.gl.COLOR_BUFFER_BIT),_r.setCSS()),"single-case"!==r&&Cr.changeBg(yr.get("activeBg"),.3),"contact"!==r&&"contact-thanks"!==r||_r&&_r.gl&&(_r.gl.clear(_r.gl.COLOR_BUFFER_BIT),_r.setCSS()),"home"===r&&setTimeout((function(){_r.hide()}),400),Cr.changeMeta("#201D1E",!1),window.scrollTo(0,0),lu.reinit()}}catch(e){console.warn("ChangePageManager BEFOREENTER",e)}}},{key:"afterEnter",value:function(e){void 0!==window.gtag&&gtag("config","UA-157739378-1",{page_path:e.next.url.path})}}])&&Jr(t.prototype,i),n&&Jr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),eo=i(0);function to(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function io(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var no=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),io(this,"drawLoad",(function(){t.ctx.clearRect(0,0,Dr.window.width,Dr.window.height),t.ctx.beginPath(),t.ctx.moveTo(0,0),t.ctx.lineTo(0,t.y.value);var e=parseInt(t.y.value,10)<=Dr.window.height/4?t.y.value:t.y.value-t.CURVENESS;t.ctx.quadraticCurveTo(Dr.window.width/2,e,Dr.window.width,t.y.value),t.ctx.lineTo(Dr.window.width,0),t.ctx.fillStyle="#201D1E",t.ctx.fill(),t.ctx.closePath()})),io(this,"drawChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#201D1E";t.ctx.clearRect(0,0,Dr.window.width,Dr.window.height),t.ctx.beginPath(),t.ctx.moveTo(0,t.y.delayValue),t.ctx.lineTo(0,t.y.value);var i=parseInt(t.y.value,10)<=Dr.window.height/2?t.y.value-t.CURVENESS:t.y.value,n=parseInt(t.y.delayValue,10)<=Dr.window.height/2?t.y.delayValue-t.CURVENESS:t.y.delayValue;t.ctx.quadraticCurveTo(Dr.window.width/2,i,Dr.window.width,t.y.value),t.ctx.lineTo(Dr.window.width,t.y.delayValue),t.ctx.quadraticCurveTo(Dr.window.width/2,n,Dr.window.width,t.y.delayValue),t.ctx.fillStyle=e,t.ctx.fill(),t.ctx.closePath()})),io(this,"drawMenu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"open";if("open"===e){var i,n=t.y.delayValue,r=0;i=parseInt(t.y.value,10)>=Dr.window.height/2?t.y.value:t.y.value-t.CURVENESS,r=parseInt(t.y.delayValue,10)>=Dr.window.height/2?0:t.CURVENESS,t.drawMenuShape(i,n,r)}else{var o,a;o=parseInt(t.y.value,10)>=Dr.window.height/2?t.y.value-t.CURVENESS:t.y.value,a=parseInt(t.y.delayValue,10)>=Dr.window.height/2?t.CURVENESS:0,t.drawMenuShape(o,t.y.delayValue,a)}})),io(this,"moveMain",(function(e){var i={value:e&&void 0!==e.value?e.value:0,delayValue:e&&void 0!==e.delayValue?e.delayValue:0,type:e&&e.type?e.type:"default",duration:e&&void 0!==e.duration?e.duration:t.yDuration,ease:e&&e.ease?e.ease:gi.easeInOut,onStart:e&&e.onStart?e.onStart:Yr,onComplete:e&&e.onComplete?e.onComplete:Yr,bg:e&&e.bg?e.bg:"#201D1E"};return kn.to(t.y,{duration:i.duration,value:i.value,delayValue:i.delayValue,ease:i.ease,onStart:function(){t.isAnimating=!0,i.onStart()},onUpdate:function(){switch(t.isAnimating=!0,i.type){case"load":t.drawLoad();break;case"change-page":t.drawChange(i.bg);break;case"form-load-start":case"form-load-end":t.drawChange();break;case"side-menu":t.drawChange("#DCD6D0");break;case"menu-open":t.drawMenu("open");break;case"menu-close":t.drawMenu("close")}},onComplete:function(){t.isAnimating=!1,i.onComplete()}})})),this.el=document.querySelector(".js-transition-canvas"),this.y={value:0,delayValue:0},this.yDuration=1.2,this.isAnimating=!1,this.CURVENESS=Dr.device<=1||wr.isIos?60:120}var t,i,n;return t=e,(i=[{key:"setup",value:function(){Object(eo.resizeCanvasToDisplaySize)(this.el,1)}},{key:"hide",value:function(){kn.set(this.el,{opacity:0,visibility:"hidden",zIndex:-1})}},{key:"show",value:function(){kn.set(this.el,{opacity:1,visibility:"visible",zIndex:422})}},{key:"drawMenuShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.y.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.ctx.clearRect(0,0,Dr.window.width,Dr.window.height),this.ctx.beginPath(),this.ctx.moveTo(0,t),this.ctx.lineTo(0,this.y.value),this.ctx.quadraticCurveTo(Dr.window.width/2,e,Dr.window.width,this.y.value),this.ctx.lineTo(Dr.window.width,t),this.ctx.quadraticCurveTo(Dr.window.width/2,t-i,0,this.y.delayValue),this.ctx.fillStyle="#201D1E",this.ctx.fill(),this.ctx.closePath()}},{key:"prepareMenuFor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"open";this.y.value=0,this.y.delayValue=0,kn.set(this.y,{value:0,delayValue:0}),this.ctx.clearRect(0,0,Dr.window.width,Dr.window.height),this.drawMenu(e)}},{key:"prepareInitialLoad",value:function(){this.y.value=Dr.window.height+this.CURVENESS,kn.set(this.y,{value:Dr.window.height+this.CURVENESS}),this.drawLoad()}},{key:"prepareChange",value:function(){this.y.value=-2*this.CURVENESS,this.y.delayValue=0,kn.set(this.y,{value:0,delayValue:0}),this.drawChange()}},{key:"resize",value:function(){this.CURVENESS=Dr.device<=1?60:120,this.setup()}},{key:"init",value:function(){this.setup(),this.ctx=this.el.getContext("2d")}}])&&to(t.prototype,i),n&&to(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function ro(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ao=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oo(this,"toggle",(function(){t.isOpen?t.disappear():t.appear()})),oo(this,"onKeyUp",(function(e){t.isAnimating||"27"==e.keyCode&&t.disappear()})),oo(this,"appearTl",(function(e){var i=kn.timeline();return i.set(t.menu,{zIndex:421,visibility:"visible",onComplete:function(){no.show(),no.prepareMenuFor("open")}}).call(no.moveMain,[{duration:1,value:Dr.window.height+no.CURVENESS,type:"menu-open"}]).call(no.moveMain,[{onStart:function(){kn.set(t.bg,{opacity:1})},duration:1,value:Dr.window.height+no.CURVENESS,delayValue:Dr.window.height+no.CURVENESS,type:"menu-open"}],"+=0.7").to(t.labelLine,1,{y:"0%",skewY:"0deg",ease:gi.easeInOut}).to(t.titleLine,{duration:1.4,y:"0%",skewY:"0deg",stagger:.12,ease:gi.easeInOut},"-=0.8").to(t.indexLine,{duration:1.4,y:"0%",skewY:"0deg",stagger:.1,ease:gi.easeInOut},"-=1.4").to(t.borders,{duration:.4,scaleX:1,stagger:.1,onComplete:function(){kn.set(t.borders,{transformOrigin:"right center"})},ease:yi.easeInOut},"-=1.8").to(t.logoWrap,.6,Dr.device>1?{y:"-100%",ease:gi.easeInOut,onComplete:function(){kn.set(t.logoWrap,{y:"100%"}),document.body.classList.remove("is-animating")}}:{opacity:0,pointerEvents:"none",touchAction:"none",onComplete:function(){document.body.classList.remove("is-animating")}},"-=3").add(t.animateToggleIn(),"-=2").to(t.icons,{duration:.35,drawSVG:"100%",stagger:.1,ease:gi.easeInOut},"-=1.6"),e&&i.seek(i.duration()),i}))}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.labelLine=this.menu.querySelector(".menu__label .line-child"),this.indexLine=this.menu.querySelectorAll(".menu__list-item-index .line-child"),this.titleLine=this.menu.querySelectorAll(".menu__list-item-name .line-child"),this.borders=this.menu.querySelectorAll(".menu__list-border"),this.icons=this.menu.querySelectorAll(".menu__list-item-icon path"),this.bg=this.menu.querySelector(".menu__bg"),this.closeInner=document.querySelectorAll(".nav__toggle-close-inner"),this.icons&&kn.set(this.icons,{drawSVG:0}),this.borders&&kn.set(this.borders,{scaleX:0}),this.labelLine&&kn.set(this.labelLine,{y:"120%",skewY:"3deg"}),this.indexLine&&kn.set(this.indexLine,{y:"120%",skewY:"3deg"}),this.titleLine&&kn.set(this.titleLine,{y:"120%",skewY:"3deg"}),this.closeInner&&kn.set(this.closeInner,{scaleX:0})}},{key:"addListeners",value:function(){this.hasListeners||(this.toggler.addEventListener("click",this.toggle),this.hasListeners=!0)}},{key:"addEventListeners",value:function(){window.addEventListener("keyup",this.onKeyUp)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.toggler.removeEventListener("click",this.toggle),this.hasListeners=!1)}},{key:"removeEventListeners",value:function(){window.removeEventListener("keyup",this.onKeyUp)}},{key:"animateToggleIn",value:function(e){var t={onStart:e&&e.onStart?e.onStart:Yr,onComplete:e&&e.onComplete?e.onComplete:Yr};kn.set(this.menuLines[0],{transformOrigin:"right center"}),kn.set(this.menuLines[2],{transformOrigin:"left center"});var i=kn.timeline();return i.to(this.menuLines[1],.3,{scaleX:0,ease:fi.easeInOut,onStart:function(){t.onStart()}}).to(this.menuLines[0],.3,{scaleX:0,ease:fi.easeInOut},"-=0.2").to(this.menuLines[2],.3,{scaleX:0,ease:fi.easeInOut},"-=0.3").to(this.closeInner[0],.3,{scaleX:1,ease:fi.easeInOut}).to(this.closeInner[1],.3,{scaleX:1,ease:fi.easeInOut,onComplete:function(){t.onComplete()}},"-=0.15"),i}},{key:"animateToggleOut",value:function(e){var t={onStart:e&&e.onStart?e.onStart:Yr,onComplete:e&&e.onComplete?e.onComplete:Yr},i=kn.timeline();return i.to(this.closeInner[0],.3,{scaleX:0,ease:fi.easeInOut,onStart:function(){t.onStart()}}).to(this.closeInner[1],.3,{scaleX:0,ease:fi.easeInOut},"-=0.2").to(this.menuLines[2],.3,{scaleX:1,ease:fi.easeInOut}).to(this.menuLines[0],.3,{scaleX:1,ease:fi.easeInOut},"-=0.1").to(this.menuLines[1],.3,{scaleX:1,ease:fi.easeInOut,onComplete:function(){t.onComplete()}},"-=0.2"),i}},{key:"disappearNav",value:function(e){var t=this;kn.timeline({onComplete:function(){e&&e()}}).set(this.menuLines,{transformOrigin:"left center"}).to(this.logoWrap,.5,{y:"-100%",onComplete:function(){kn.set(t.logoWrap,{y:"100%"})}}).to(this.menuLines,{duration:.45,scaleX:"0",stagger:.06,onComplete:function(){kn.set(t.menuLines,{transformOrigin:"center center"})},ease:gi.easeInOut},"-=0.3")}},{key:"appearNav",value:function(e){var t=this;kn.timeline({onComplete:function(){e&&e()}}).set(this.menuLines,{transformOrigin:"left center"}).to(this.menuLines,{duration:.45,scaleX:"1",stagger:.06,ease:gi.easeInOut}).to(this.logoWrap,.5,{y:"0%",onComplete:function(){kn.set(t.menuLines,{transformOrigin:"center center"})}},"-=0.3")}},{key:"disappearTl",value:function(e){var t=this,i=kn.timeline();return i.to(this.icons,{duration:e?0:.2,drawSVG:"0",stagger:.07}).to(this.borders,{duration:e?0:.45,scaleX:0,ease:yi.easeInOut,stagger:.1,onComplete:function(){kn.set(t.borders,{transformOrigin:"left center"})}},"-=0.5").add(this.animateToggleOut(),"-=1").to(this.indexLine,{duration:e?0:.6,y:"-120%",skewY:"-3deg",stagger:.1,ease:gi.easeInOut},"-=1").to(this.titleLine,{duration:e?0:.6,y:"-120%",skewY:"-3deg",stagger:.15,ease:gi.easeInOut},"-=1.3").to(this.labelLine,e?0:.5,{y:"-120%",skewY:"-3deg",ease:gi.easeInOut},"-=1.2").call(e?Yr:no.moveMain,[{duration:e?0:1,value:Dr.window.height+no.CURVENESS,delayValue:0,type:"menu-close"}],"-=0.5").call(e?Yr:no.moveMain,[{onStart:function(){kn.set(t.bg,{opacity:0}),kn.set(t.menu,{zIndex:-1,visibility:"hidden"})},duration:e?0:1,value:-no.CURVENESS,delayValue:-no.CURVENESS,type:"menu-close",onComplete:function(){no.hide()}}],"+=0.5").to(this.logoWrap,.5,Dr.device>1?{y:"0%",clearProps:"all"}:{opacity:1,pointerEvents:"auto",touchAction:"auto"},"-=0.4"),e&&i.seek(i.duration()),i}},{key:"appear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isAnimating){this.isAnimating=!0,document.body.classList.add("is-animating"),vr.call("scrollManager","disableScroll");var i=kn.timeline({onComplete:function(){e.isOpen=!0,e.isAnimating=!1,e.addEventListeners();var t=vr.get("gridManager");t&&t.grid&&t.grid.removeListeners()}});i.add(this.appearTl(t))}}},{key:"disappear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isAnimating){this.isAnimating=!0,document.body.classList.add("is-animating");var i=kn.timeline({onStart:function(){e.removeEventListeners()},onComplete:function(){e.isOpen=!1,e.isAnimating=!1,document.body.classList.remove("is-animating"),vr.call("scrollManager","enableScroll"),kn.set(e.labelLine,{y:"120%",skewY:"3deg"}),kn.set(e.indexLine,{y:"100%",skewY:"3deg"}),kn.set(e.titleLine,{y:"100%",skewY:"3deg"});var t=vr.get("gridManager");t&&t.grid&&t.grid.addListeners()}});i.add(this.disappearTl(t),0)}}},{key:"hide",value:function(){kn.set(this.bg,{opacity:0}),kn.set(this.menu,{zIndex:-1,visibility:"hidden"})}},{key:"setDataColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"black",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.logo.removeAttribute("data-color"),this.closeInner.forEach((function(e){return e.removeAttribute("data-color")}))):(this.logo.setAttribute("data-color",e),this.closeInner.forEach((function(t){return t.setAttribute("data-color",e)})))}},{key:"destroy",value:function(){this.removeListeners(),this.removeEventListeners()}},{key:"resize",value:function(){this.menu=document.querySelector(".js-menu"),this.labelLine=this.menu.querySelector(".menu__label .line-child"),this.indexLine=this.menu.querySelectorAll(".menu__list-item-index .line-child"),this.titleLine=this.menu.querySelectorAll(".menu__list-item-name .line-child"),this.isAnimating||(this.isOpen?this.labelLine&&(kn.set(this.labelLine,{y:"0%",skewY:"0deg"}),kn.set(this.indexLine,{y:"0%",skewY:"0deg"}),kn.set(this.titleLine,{y:"0%",skewY:"0deg"})):this.labelLine&&(kn.set(this.labelLine,{y:"120%",skewY:"3deg"}),kn.set(this.indexLine,{y:"100%",skewY:"3deg"}),kn.set(this.titleLine,{y:"100%",skewY:"3deg"})))}},{key:"init",value:function(){this.isOpen=!1,this.isAnimating=!1,this.logo=document.querySelector(".nav__logo"),this.logoWrap=document.querySelector(".js-nav-logo-wrap"),this.menuLines=document.querySelectorAll(".nav__toggle-item"),this.toggler=document.querySelector(".js-toggle-menu"),this.menu=document.querySelector(".js-menu"),this.menu&&(this.setup(),this.addListeners())}}])&&ro(t.prototype,i),n&&ro(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function so(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var uo=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lo(this,"requestTick",(function(e){requestAnimationFrame((function(){return t.onMouseMove(e)}))})),lo(this,"loadOn",(function(){t.setStatus("scale","off"),t.path.removeAttribute("style"),t.path.setAttribute("stroke",t.black),t.setStatus("load","on")})),lo(this,"loadOff",(function(){t.setStatus("load","off"),t.target.classList.add("is-finish-load"),setTimeout((function(){var e=yr.get("page"),i="about"===e||"not-found"===e?t.red:t.black;kn.to(t.path,{duration:.3,stroke:i}),t.target.classList.remove("is-finish-load")}),500)})),lo(this,"assignEnter",(function(e){var i=e.currentTarget,n=i.dataset.hover;switch(n){case"scale":t.setStatus(n,"on");break;case"stick":t.stickEnter(i);break;case"grid":t.setStatus(n,"on");break;case"drag":t.setStatus(n,"on")}})),lo(this,"assignExit",(function(e){var i=e.currentTarget.getAttribute("data-hover");switch(i){case"scale":t.setStatus(i,"off");break;case"stick":t.stickExit();break;case"grid":t.setStatus(i,"off");break;case"drag":t.setStatus(i,"off")}})),lo(this,"appearFirstTime",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.isActive){var n=kn.timeline({onComplete:function(){i&&i()}});e?n.set(t.path,{drawSVG:0}).set(t.target,{x:.0333*Dr.window.width,y:"".concat(Dr.window.height-.05*Dr.window.height-50,"px")}).set(t.target,{opacity:1}).to(t.path,{drawSVG:"100%",duration:.8,ease:fi.easeInOut}):n.set(t.path,{drawSVG:0}).set(t.target,{x:.0333*Dr.window.width,y:"".concat(Dr.window.height-.05*Dr.window.height-50,"px")}).set(t.target,{opacity:1})}})),this.status="default",this.clientX=null,this.clientY=null,this.isStuck=!1,this.stuckX=0,this.stuckY=0,this.isFirstRender=!0,this.switchedRender=!1,this.loadTl=kn.timeline({paused:!0}),this.isLoadTlDone=!1,this.red="#FC3E1D",this.black="#201D1E",this.easing=vi.easeOut.config(1.7)}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.hovers=document.querySelectorAll("[data-hover]"),this.targetBox=this.target.getBoundingClientRect(),this.addListeners()}},{key:"setStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on";"on"===t?(this.target.classList.remove(this.status),this.target.classList.add(e),this.status=e):(this.target.classList.remove(e),this.status="default")}},{key:"addListeners",value:function(){if(!this.hasListeners){for(var e=0;e<this.hovers.length;e++){var t=this.hovers[e];t.addEventListener("mouseenter",this.assignEnter),t.addEventListener("mouseleave",this.assignExit)}this.hasListeners=!0}}},{key:"removeListeners",value:function(){if(this.hasListeners){for(var e=0;e<this.hovers.length;e++){var t=this.hovers[e];t.removeEventListener("mouseenter",this.assignEnter),t.removeEventListener("mouseleave",this.assignExit)}this.hasListeners=!1}}},{key:"renderTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.6;kn.to(this.target,{duration:e,x:this.clientX-this.targetBox.width/2,y:this.clientY-this.targetBox.width/2})}},{key:"onMouseMove",value:function(e){var t=this;this.clientX=e.clientX,this.clientY=e.clientY,this.isFirstRender?this.clientX&&this.clientY&&!this.isStuck&&(this.renderTarget(.5),this.switchedRender||(setTimeout((function(){t.isFirstRender=!1}),300),this.switchedRender=!0)):this.clientX&&this.clientY&&!this.isStuck&&this.renderTarget(.2)}},{key:"stickEnter",value:function(e){this.isStuck=!0;var t=e.getBoundingClientRect(),i=e.dataset.cursorColor||this.red;this.setStatus("stick","on"),kn.timeline().to(this.target,.2,{x:t.left,y:t.top,width:t.width,height:t.height},0).to(this.path,.2,{stroke:i},0)}},{key:"stickExit",value:function(){var e="about"===yr.get("page")?this.red:this.black;this.setStatus("stick","off"),kn.timeline().to(this.target,.2,{width:48,height:48}).to(this.path,.2,{stroke:e},0),this.isStuck=!1}},{key:"trigger",value:function(e){if(this.isActive)switch(e){case"scaleOn":this.setStatus("scale","on");break;case"stickOn":this.stickEnter(element);break;case"gridOn":this.setStatus("grid","on");break;case"dragOn":this.setStatus("drag","on");break;case"defaultOff":this.setStatus("scale","off");break;case"stickOff":this.stickExit();break;case"gridOff":this.setStatus("grid","off");break;case"dragOff":this.setStatus("drag","off");break;case"loadOn":this.loadOn();break;case"loadOff":this.loadOff()}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&e()}},{key:"showProgress",value:function(){this.isActive&&kn.to(this.percentage,{duration:.2,opacity:1})}},{key:"hideProgress",value:function(){var e=this;if(this.isActive&&this.percentageText){vr.get("textSplit").create(this.percentageText,{type:"chars",charsClass:"char"});var t=this.percentageText.querySelectorAll(".char");kn.to(t,{duration:.9,yPercent:-120,skewY:"-4deg",stagger:.06,opacity:.5,ease:gi.easeInOut,onComplete:function(){e.percentage&&kr(e.percentage)}})}}},{key:"updateProgress",value:function(e){this.isActive&&(this.percentageText=this.percentage.querySelector(".line-child"),this.percentageText.innerText="".concat(parseInt(e,10),"%"),kn.to(this.path,{duration:.2,drawSVG:"".concat(e,"%")}))}},{key:"activateMovement",value:function(){this.isActive&&document.addEventListener("mousemove",this.requestTick)}},{key:"disactivateMovement",value:function(){this.isActive&&document.removeEventListener("mousemove",this.requestTick)}},{key:"getReady",value:function(){if(this.isActive){var e=yr.get("page"),t="about"===e||"not-found"===e?this.red:this.black;kn.to(this.path,{duration:.3,stroke:t})}}},{key:"reinit",value:function(){Dr.device>=2&&!wr.isIos&&(this.removeListeners(),this.hovers=document.querySelectorAll("[data-hover]"),this.addListeners(),this.isActive=!0)}},{key:"init",value:function(){Dr.device>=2&&!wr.isIos&&(this.target=document.querySelector(".js-cursor"),this.path=this.target.querySelector(".js-cursor-path"),this.percentage=this.target.querySelector(".js-cursor-percentage"),this.percentageText=this.percentage.querySelector(".line-child"),this.dragPoints=this.target.querySelectorAll(".js-cursor-point-drag"),this.gridPoints=this.target.querySelectorAll(".js-cursor-point-grid"),this.setup(),this.isActive=!0)}}])&&so(t.prototype,i),n&&so(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),co={cpLoader:document.querySelector(".cp-loader"),cpLoaderMobileCircle:document.querySelector(".js-cp-loader-circle"),hideNextPage:function(e){switch(e.namespace){case"home":this.hideNextHome(e);break;case"about":this.hideNextAbout(e);break;case"journal":this.hideNextJournal(e);break;case"single-case":this.hideNextCaseSimple(e);break;case"single-article":this.hideNextSingleArticle(e);break;case"contact":this.hideNextContact(e);break;case"contact-thanks":this.hideNextThanks(e)}},revealPageTransition:function(e){switch(e.namespace){case"home":this.revealNextHome(e);break;case"about":this.revealNextAbout(e);break;case"journal":this.revealNextJournal(e);break;case"single-case":this.revealNextCase(e);break;case"single-article":this.revealNextSingleArticle(e);break;case"contact":this.revealNextContact(e);break;case"contact-thanks":this.revealNextThanks(e)}},leaveCase:function(e,t){var i=e.current.container.querySelector(".noise"),n=document.querySelector("[data-line]")?document.querySelector("[data-line]").parentNode:null,r=document.querySelectorAll(".case-next__desc"),o=document.querySelectorAll(".case-next__img-percentage"),a=document.querySelector(".nav__logo"),s=document.querySelector(".nav__toggle");kn.timeline({onComplete:function(){vr.call("scrollGL","onNext",(function(){t&&t()}))}}).set(n,{transformOrigin:"right center"}).to(n,{duration:.8,scaleX:0,ease:yi.easeInOut}).to([i,r,o,a,s],{duration:.8,opacity:0},0)},hideNextCase:function(e){var t=e.current,i=e.next,n=vr.get("textSplit");if(n){n.create(i.container.querySelector(".case-hero__title"),{type:"lines",linesClass:"line-parent"});var r=i.container.querySelectorAll(".case-hero__title .line-parent");n.create(r,{type:"lines",linesClass:"line-child"});var o=i.container.querySelectorAll(".case-hero__title .line-child");kn.set(o,{y:"130%"})}var a=t.container.querySelectorAll(".case-next__desc-titles"),s=i.container.querySelector(".case-hero__main-img-desc"),l=i.container.querySelector(".js-case-hero-img"),u=i.container.querySelector(".case-hero__scroll");kn.set(s,{opacity:0}),2!==Dr.device||wr.isIos||kn.set(l,{opacity:0}),kn.set(u,{opacity:0}),a.length&&kn.to(a,{duration:.25,opacity:.4})},enterCase:function(e,t){e.current;var i=e.next,n=i.container.querySelector(".case-hero__main-img-desc"),r=i.container.querySelector(".case-hero__scroll"),o=i.container.querySelector(".case-hero__scroll-icon-inner"),a=i.container.querySelectorAll(".case-hero__title .line-child"),s=document.querySelector(".nav__logo"),l=document.querySelector(".nav__toggle"),u=i.container.querySelector(".noise");kn.set(a,{y:"110%",skewY:"5deg"}),kn.timeline({onComplete:function(){kn.to(u,{duration:.8,opacity:.04}),o.classList.add("arrow-anim"),document.body.classList.remove("is-animating"),Dr.device>=2&&uo.trigger("loadOff"),t&&t()}}).set(u,{opacity:0}).to(r,{duration:.4,opacity:1},.5).to([s,l],{duration:.3,opacity:1},.5).to(a,{duration:.8,skewY:"0deg",y:"0%",ease:gi.easeInOut},"-=0.4").to(n,{duration:.4,opacity:1})},hideNextCaseSimple:function(e){var t=e.container.querySelector(".case-hero__title"),i=e.container.querySelector(".case-hero__main-img-desc"),n=e.container.querySelector(".case-hero__mobile-title"),r=e.container.querySelector(".case-hero__scroll"),o=e.container.querySelector(".case-hero__main-img");kn.set([t,i],{opacity:0}),kn.set(n,{opacity:0,y:20}),kn.set(r,{opacity:0,y:"10px"}),(2!==Dr.device||wr.isIos)&&kn.set(o,{opacity:0,y:20})},revealNextCase:function(e){var t=e.container.querySelector(".case-hero__title"),i=e.container.querySelector(".case-hero__main-img-desc"),n=e.container.querySelector(".case-hero__mobile-title"),r=e.container.querySelector(".case-hero__scroll"),o=e.container.querySelector(".case-hero__main-img"),a=kn.timeline(),s=document.querySelector(".nav__logo"),l=document.querySelector(".nav__toggle");a.to([n,r,o],{onStart:function(){s.classList.remove("is-case-scroll"),l.classList.remove("is-case-scroll")},duration:.7,y:"0px",opacity:1,stagger:.1,ease:gi.easeInOut}).to([t,i],{opacity:1,stagger:.1,duration:.5,clearProps:"opacity"},.5)},enterCaseFromHome:function(e,t){var i=e.next,n=i.container.querySelector(".case-hero__main-img-desc"),r=i.container.querySelector(".case-hero__scroll"),o=i.container.querySelector(".scroll-canvas"),a=i.container.querySelectorAll(".case-hero__title .line-child"),s=document.querySelector(".nav__logo"),l=document.querySelector(".nav__toggle");kn.timeline({onComplete:function(){t&&t()}}).to(r,{duration:.4,opacity:1}).to(a,{duration:1,y:"0%",skewY:"0deg",stagger:.1,ease:gi.easeInOut},.4).to([s,l],{duration:.3,opacity:1},.5).to(o,{duration:.2,opacity:1,onComplete:function(){kn.to(n,{duration:.4,opacity:1})}},.6)},hideNextHome:function(e){var t=e.container.querySelector(".categories__filter-label"),i=e.container.querySelector(".categories__select"),n=e.container.querySelector(".categories__all"),r=e.container.querySelector(".categories__border"),o=e.container.querySelector(".grid__bottom-logo"),a=e.container.querySelector(".grid__bottom-text"),s=e.container.querySelector(".categories__arrows"),l=e.container.querySelector(".grid-mobile__category"),u=document.querySelector(".js-canvas"),c=e.container.querySelectorAll(".grid-hover-el");kn.set(t,{opacity:0}),kn.set(i,{opacity:0}),kn.set(n,{opacity:0}),kn.set(o,{opacity:0}),kn.set(a,{opacity:0}),kn.set(s,{opacity:0}),kn.set(r,{scaleX:0}),kn.set(l,{opacity:0}),kn.set(u,{opacity:0}),kn.set(c,{opacity:0})},revealNextHome:function(e){var t=e.container.querySelector(".categories__filter-label"),i=e.container.querySelector(".categories__select"),n=e.container.querySelector(".categories__all"),r=e.container.querySelector(".categories__border"),o=e.container.querySelector(".grid__bottom-logo"),a=e.container.querySelector(".grid__bottom-text"),s=e.container.querySelector(".categories__arrows"),l=e.container.querySelector(".grid-mobile__category"),u=document.querySelector(".js-canvas"),c=e.container.querySelectorAll(".grid-hover-el");kn.timeline({onComplete:function(){if("home"===e.namespace){var l=vr.get("gridManager");l&&l.grid&&l.grid.addListeners(),t.removeAttribute("style"),i.removeAttribute("style"),n.removeAttribute("style"),o.removeAttribute("style"),a.removeAttribute("style"),s.removeAttribute("style"),r.removeAttribute("style")}}}).to(t,{duration:.5,opacity:1},0).to(i,{duration:.5,opacity:1},0).to(n,{duration:.5,opacity:1},0).to(s,{duration:.5,opacity:1},0).to(o,{duration:.5,opacity:1},.6).to(a,{duration:.5,opacity:1},.6).to(l,{duration:.5,opacity:1},.6).to(r,{duration:.7,scaleX:1,ease:yi.easeInOut},.4).to(u,{duration:.45,opacity:1},.4).to(c,{duration:.45,opacity:1})},hideNextAbout:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelectorAll(".about-scroll-down path"),n=e.container.querySelector(".square-fix");if(Dr.device>=3||Dr.device<2||Dr.isFakeMobile){var r=e.container.querySelector(".about-first-image"),o=e.container.querySelector(".about-second-image");kn.set([r,o],{y:"60px",opacity:0})}kn.set(t,{y:50,skewY:"-1deg",opacity:0}),kn.set(i,{drawSVG:0}),kn.set(n,{opacity:0})},revealNextAbout:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelector(".about-scroll-down__inner"),n=e.container.querySelectorAll(".about-scroll-down path"),r=e.container.querySelector(".square-fix"),o=kn.timeline({onComplete:function(){setTimeout((function(){return i.classList.add("arrow-anim")}),500)}});if(o.to(t,{duration:1.2,y:"0%",skewY:"0deg",opacity:1,ease:gi.easeInOut}).to(r,{duration:.5,opacity:1},"-=0.9").to(n,{duration:.7,drawSVG:"100%",ease:fi.easeInOut},"-=0.7"),Dr.device>=3||Dr.device<2||Dr.isFakeMobile){var a=e.container.querySelector(".about-first-image"),s=e.container.querySelector(".about-second-image");o.to([a,s],{duration:.8,y:"0px",opacity:1,stagger:.2,ease:gi.easeInOut},"-=1")}},hideNextJournal:function(e){var t=e.container.querySelector(".articles-slider__head"),i=e.container.querySelectorAll(".articles-slider__content"),n=e.container.querySelector(".articles-slider__container .simple-slider"),r=e.container.querySelector(".square-fix");kn.set([t,i],{opacity:0,y:70}),kn.set(n,{y:"60px",opacity:0}),kn.set(r,{opacity:0})},revealNextJournal:function(e){var t=e.container.querySelector(".articles-slider__head"),i=e.container.querySelectorAll(".articles-slider__content"),n=e.container.querySelector(".articles-slider__container .simple-slider"),r=e.container.querySelector(".square-fix");kn.timeline().to([t,i],{duration:.9,opacity:1,y:0,stagger:.05}).to(n,{y:"0px",duration:.7,opacity:1,ease:gi.easeInOut},"-=0.75").to(r,{duration:.5,opacity:1},"-=0.5")},hideNextSingleArticle:function(e){var t=e.container.querySelector(".sa-hero__title h1"),i=e.container.querySelectorAll(".sa-hero__cta path"),n=e.container.querySelector(".square-fix");kn.set(t,{opacity:0}),kn.set(i,{drawSVG:0}),kn.set(n,{opacity:0})},revealNextSingleArticle:function(e){var t=e.container.querySelector(".sa-hero__title h1"),i=e.container.querySelectorAll(".sa-hero__cta path"),n=e.container.querySelectorAll(".sa-scroll-down__inner"),r=e.container.querySelector(".square-fix"),o=vr.get("textSplit");if(o){o.create(t,{type:"lines",linesClass:"line-parent"});var a=e.container.querySelectorAll(".sa-hero__title .line-parent");o.create(a,{type:"lines",linesClass:"line-child"});var s=e.container.querySelectorAll(".sa-hero__title .line-child");kn.set(s,{y:"130%"})}var l=kn.timeline({onComplete:function(){setTimeout((function(){return n.forEach((function(e){return e.classList.add("arrow-anim")}))}),500)}});if(o){var u=e.container.querySelectorAll(".sa-hero__title .line-child");l.set(t,{opacity:1}).to(u,{duration:1,y:"0%",stagger:.1,ease:gi.easeInOut})}l.set(t,{opacity:1}).to(r,{duration:.5,opacity:1},"-=0.9").to(i,{duration:.7,drawSVG:"100%",ease:fi.easeInOut},"-=0.5")},hideNextContact:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelectorAll(".contact__col"),n=e.container.querySelector(".square-fix");kn.set(t,{y:50,skewY:"-1deg",opacity:0}),kn.set(i,{opacity:0,y:80}),kn.set(n,{opacity:0})},revealNextContact:function(e){var t=e.container.querySelector(".header__title h1"),i=e.container.querySelectorAll(".contact__col"),n=e.container.querySelector(".square-fix");kn.timeline({onComplete:function(){for(var e=0;e<i.length;e++)i[e].removeAttribute("style")}}).to(t,{duration:1.2,y:"0%",skewY:"0deg",opacity:1,ease:gi.easeInOut}).to(i,{duration:.9,opacity:1,y:0,stagger:.05},"-=0.8").to(n,{duration:.5,opacity:1},"-=0.4")},hideNextThanks:function(e){var t=e.container.querySelector(".js-thanks-title"),i=e.container.querySelectorAll(".js-thanks-group-title"),n=e.container.querySelectorAll(".js-thanks-group-link"),r=e.container.querySelectorAll(".js-thanks-group-border"),o=e.container.querySelector(".js-thanks-bottom");kn.set(t,{y:50,skewY:"-1deg",opacity:0}),kn.set([i,n,o],{y:30,skewY:"-1deg",opacity:0}),kn.set(r,{scaleX:0,transformOrigin:"left center"})},revealNextThanks:function(e){var t=e.container.querySelector(".js-thanks-title"),i=e.container.querySelectorAll(".js-thanks-group"),n=e.container.querySelector(".js-thanks-bottom"),r=kn.timeline({paused:!0});r.to(t,{duration:1.2,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"});for(var o=0;o<i.length;o++){var a=i[o],s=a.querySelector(".js-thanks-group-title"),l=a.querySelector(".js-thanks-group-link"),u=a.querySelector(".js-thanks-group-border"),c=kn.timeline();c.to(s,{duration:.9,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"}).to(l,{duration:.9,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"},.3).to(u,{duration:.55,scaleX:1,ease:"circ.inOut"},.5),r.add(c,"-=1.1")}r.to(n,{duration:1,y:"0%",skewY:"0deg",opacity:1,ease:"power4.inOut"},"-=0.4"),r.play()},leaveDefault:function(e,t){var i=this,n=e.current,r=e.next,o=n.container.querySelector(".noise"),a=document.querySelector(".nav__logo"),s=document.querySelector(".nav__toggle");document.body.classList.add("is-animating"),vr.call("scrollManager","disableScroll"),Dr.device>=2&&uo.trigger("loadOn"),ao.destroy(),kn.timeline({onStart:function(){no.prepareChange(),no.show(),kn.to([a,s],{duration:.5,opacity:0}),i.hideNextPage(r),(Dr.device<2||wr.isIos||Dr.isFakeMobile)&&i.cpLoaderMobileCircle.classList.add("is-animating")}}).set(this.cpLoader,{zIndex:424,visibility:"visible"}).to(o,{duration:.2,opacity:0},0).call(no.moveMain,[{duration:1,value:Dr.window.height,bg:"about"===r.namespace?"#939497":"#201D1E",type:"change-page",onComplete:function(){document.body.classList.remove("is-animating-contact-success"),(Dr.device<2||wr.isIos||Dr.isFakeMobile)&&kn.to(i.cpLoaderMobileCircle,{duration:.25,opacity:1}),t&&t()}}],"-=0.2")},enterDefault:function(e,t){var i=this,n=document.querySelector(".nav__logo"),r=document.querySelector(".nav__toggle"),o=e.next.container.querySelector(".noise");(Dr.device<2||e.isIos||Dr.isFakeMobile)&&kn.to(this.cpLoaderMobileCircle,{duration:.3,opacity:0}),t&&t(),kn.timeline({delay:.5}).set(o,{opacity:0}).call(no.moveMain,[{duration:1,value:Dr.window.height,delayValue:Dr.window.height,bg:"about"===e.next.namespace?"#939497":"#201D1E",type:"change-page",onStart:function(){ao.init(),ao.hide()},onComplete:function(){kn.set(i.cpLoader,{zIndex:-1,visibility:"hidden"}),kn.to([n,r],{duration:.6,opacity:1}),kn.to(o,{duration:.8,opacity:.04}),no.hide(),document.body.classList.remove("is-animating"),Dr.device>=2&&uo.trigger("loadOff"),vr.call("scrollManager","enableScroll"),Cr.changeMeta(yr.get("activeMetaColor")),(Dr.device<2||e.isIos||Dr.isFakeMobile)&&i.cpLoaderMobileCircle.classList.remove("is-animating"),i.revealPageTransition(e.next)}}])}};function ho(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var fo=function(){function e(){var t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e,t){var i=e.current,n=e.next;try{"about"===n.namespace&&wr.getActives(n.container);var r=t.async();co.leaveDefault({current:i,next:n},(function(){ao.isOpen&&ao.disappear(!0),r()}))}catch(e){console.warn("default leave error",e)}},(i="defaultLeave")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.pageInfo=document.querySelector(".js-page-info"),this.init()}var t,i,n;return t=e,(i=[{key:"updateCaseHero",value:function(e){var t=e.next.container,i=wr.activeCategory,n=wr.activeProject,r=t.querySelector('[data-change="desc"]'),o=t.querySelector('[data-change="category"]'),a=t.querySelector('[data-change="bg"]'),s=t.querySelector(".js-case-hero-img");s&&s.setAttribute("data-img",JSON.stringify(Object.assign(n.image.url,{ratio:n.image.ratio})));var l=t.querySelector('[data-change="scroll"]');r&&(r.innerText="".concat(n.name," | ").concat(i.name)),o&&(o.innerText=i.name),a&&a.setAttribute("style","background-color:".concat(n.color,";")),s&&s.setAttribute("data-img",JSON.stringify(n.image.url)),l&&l.setAttribute("href","#".concat(i.slug))}},{key:"updateCaseNext",value:function(e){var t=e.next.container,i=wr.activeCategory,n=wr.activeProject,r=Nr(i.projects.find((function(e){return e.id===n.id})).index+1,i.projects),o=t.querySelector("footer[data-url]");o&&o.setAttribute("data-url",r.url),t.querySelectorAll('[data-change="next-bg"]').forEach((function(e){return e.setAttribute("style","background-color:".concat(r.color,";"))})),t.querySelectorAll('[data-change="next-title"]').forEach((function(e){return e.innerText=r.name})),t.querySelectorAll(".js-case-next-toggler").forEach((function(e){return e.setAttribute("data-url",r.url)}));var a=t.querySelectorAll('[data-change="next-img"]');a.length&&a.forEach((function(e){e.setAttribute("data-next-img","".concat(JSON.stringify(Object.assign(r.image.url,{ratio:r.image.ratio})))),e.setAttribute("data-ratio","portrait"==r.headerRatio?.67:.92)}))}},{key:"goTo",value:function(e){dr.a.go(e)}},{key:"prefetch",value:function(e){dr.a.prefetch(e)}},{key:"defaultEnter",value:function(e){var t=e.current,i=e.next;setTimeout((function(){co.enterDefault({current:t,next:i},(function(){uo.reinit()}))}),1e3)}},{key:"init",value:function(){dr.a.use(pr.a),dr.a.hooks.beforeLeave((function(e){var t=e.current,i=e.next;Qr.beforeLeave({current:t,next:i})})),dr.a.hooks.afterLeave((function(e){var t=e.current,i=e.next;Qr.afterLeave({current:t,next:i})})),dr.a.hooks.beforeEnter((function(e){var t=e.current,i=e.next;Qr.beforeEnter({current:t,next:i})})),dr.a.hooks.afterEnter((function(e){Qr.afterEnter(e)}));var e=this;switch(this.instance=dr.a.init({debug:!1,timeout:11e3,transitions:[{name:"fromHomeToCase",from:{namespace:"home"},to:{namespace:"single-case"},leave:function(t){var i=t.current,n=t.next,r=t.trigger;try{if("back"!==r&&"forward"!==r)if(Dr.device<2||Dr.isFakeMobile||wr.isIos)e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),e.defaultLeave({current:i,next:n},this);else{var o=this.async();co.hideNextCase({current:i,next:n}),e.updateCaseHero({next:n}),e.updateCaseNext({next:n});var a=vr.get("gridManager");a&&a.grid&&a.grid.onExit((function(){o()}))}else e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),e.defaultLeave({current:i,next:n},this)}catch(e){console.log("homeToCase leave error",e)}},enter:function(t){var i=t.current,n=t.next,r=t.trigger;try{Dr.device<2||Dr.isFakeMobile||wr.isIos||"back"===r||"forward"===r?e.defaultEnter({current:i,next:n}):co.enterCase({current:i,next:n},(function(){uo.reinit(),setTimeout((function(){vr.call("scrollManager","enableScroll")}),500)}))}catch(e){console.warn("fromHomeToCase ENTER error",e)}}},{name:"fromCaseToCase",from:"single-case",to:{namespace:"single-case"},leave:function(t){var i=t.current,n=t.next,r=t.trigger;try{if(Dr.device<2||Dr.isFakeMobile||wr.isIos||Dr.device>=3||"back"===r||"forward"===r)"back"===r?wr.activeProject=Nr(wr.activeCategory.projects.findIndex((function(e){return e.id===wr.activeProject.id}))-1,wr.activeCategory.projects):"forward"===r&&(wr.activeProject=Nr(wr.activeCategory.projects.findIndex((function(e){return e.id===wr.activeProject.id}))+1,wr.activeCategory.projects)),e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),e.defaultLeave({current:i,next:n},this);else{var o=this.async();co.hideNextCase({current:i,next:n}),e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),co.leaveCase({current:i,next:n},(function(){o()}))}}catch(e){console.warn("fromCaseToCase LEAVE error",e)}},enter:function(t){var i=t.current,n=t.next,r=t.trigger;try{Dr.device<2||Dr.isFakeMobile||wr.isIos||Dr.device>=3||"back"===r||"forward"===r?e.defaultEnter({current:i,next:n}):co.enterCase({current:i,next:n},(function(){uo.reinit(),setTimeout((function(){vr.call("scrollManager","enableScroll")}),500)}))}catch(e){console.warn("fromCaseToCase ENTER error",e)}}},{name:"fromAboutToCase",from:{namespace:"about"},to:{namespace:"single-case"},leave:function(t){var i=t.current,n=t.next;try{if(Dr.device<2||Dr.isFakeMobile||wr.isIos||Dr.device>=3)e.defaultLeave({current:i,next:n},this),e.updateCaseHero({next:n}),e.updateCaseNext({next:n});else{var r=this.async();co.hideNextCase({current:i,next:n}),e.updateCaseHero({next:n}),e.updateCaseNext({next:n}),co.leaveCase({current:i,next:n},(function(){r()}))}}catch(e){console.warn("fromAboutToCase LEAVE error",e)}},enter:function(t){var i=t.current,n=t.next;try{Dr.device<2||Dr.isFakeMobile||wr.isIos||Dr.device>=3?e.defaultEnter({current:i,next:n}):co.enterCase({current:i,next:n},(function(){uo.reinit(),setTimeout((function(){vr.call("scrollManager","enableScroll")}),500)}))}catch(e){console.warn("fromCaseToCase ENTER error",e)}}},{name:"default",leave:function(t){var i=t.current,n=t.next;try{e.defaultLeave({current:i,next:n},this)}catch(e){console.warn("default LEAVE error",e)}},enter:function(t){var i=t.current,n=t.next;try{e.defaultEnter({current:i,next:n})}catch(e){console.warn("default ENTER error",e)}}}],requestError:function(e,t,i,n){return"click"===t&&n.status&&404===n.status&&window.location.replace("".concat(mainUrl,"/404/")),!1}}),dr.a.history.h[0].ns){case"about":document.body.classList.add("blend");break;case"single-article":break;case"not-found":document.body.classList.add("blend");break;default:document.body.classList.remove("blend")}}}])&&ho(t.prototype,i),n&&ho(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function po(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var go=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=[],this.init()}var t,i,n;return t=e,(i=[{key:"getAttributes",value:function(e){var t=this;e.forEach((function(e){var i=e.hasAttribute("data-ratio-inv"),n=parseFloat(e.getAttribute(i?"data-ratio-inv":"data-ratio")),r=e.hasAttribute("data-ratio-m")?parseFloat(e.getAttribute("data-ratio-m")):n,o=e.getBoundingClientRect(),a=Mr(i?o.height*(Dr.device<2?r:n):o.width,5),s=Mr(i?o.height:o.width/(Dr.device<2?r:n),5),l=parseFloat(e.getAttribute("data-ratio-pos-top")),u=parseFloat(e.getAttribute("data-ratio-pos-bottom")),c=parseFloat(e.getAttribute("data-ratio-parent-top")),h=parseFloat(e.getAttribute("data-ratio-parent-bottom"));t.elements.push({el:e,width:a,height:s,ratio:n,mobileRatio:r,posTop:l,posBottom:u,parentTop:c,parentBottom:h,isInverse:i})}))}},{key:"applyRatio",value:function(){this.elements.forEach((function(e){e.isInverse?e.el.style.width="".concat(e.width,"px"):e.el.style.height="".concat(e.height,"px"),e.posTop&&(e.el.style.top="".concat(e.height*Mr(e.posTop,5),"px")),e.posBottom&&(e.el.style.bottom="".concat(e.height*Mr(e.posBottom,5),"px")),e.parentTop&&(e.el.parentNode.style.top="".concat(e.height*Mr(e.parentTop,5),"px")),e.parentBottom&&(e.el.parentNode.style.bottom="".concat(e.height*Mr(e.parentBottom,5),"px"))}))}},{key:"init",value:function(){var e=(wr.nextContainer||document).querySelectorAll(".js-ratio");this.getAttributes(e),this.applyRatio()}},{key:"resize",value:function(){this.elements=[],this.init()}}])&&po(t.prototype,i),n&&po(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var mo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sliders=[]}var t,i,n;return t=e,(i=[{key:"add",value:function(e){this.sliders.push(e)}},{key:"resize",value:function(){this.sliders.forEach((function(e){return e.resize()}))}},{key:"destroy",value:function(){this.sliders.forEach((function(e){return e.destroy()})),this.sliders=[]}}])&&vo(t.prototype,i),n&&vo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var bo=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){var t=e.currentTarget,i=r.instances.findIndex((function(e){return e.toggler.isEqualNode(t)})),n=r.instances[i];n.isAnimating||(n.isOpen?r.close(n):r.open(n))},(i="toggle")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.instances=[],this.init()}var t,i,n;return t=e,(i=[{key:"setInitialState",value:function(){this.instances.forEach((function(e){e.content&&(e.height=e.content.clientHeight,e.isOpen=!1,e.isAnimating=!1,e.scrollTop=0,kn.set(e.content,{transformOrigin:"center top",scaleY:0}),kn.set(e.content.children,{opacity:0}),kn.set(e.toggler,{y:-e.height}))}))}},{key:"addListeners",value:function(){var e=this;this.instances.forEach((function(t){t.toggler&&t.toggler.addEventListener("click",e.toggle)}))}},{key:"close",value:function(e){kn.timeline({onStart:function(){e.isAnimating=!0,e.container.classList.remove("is-open")},onComplete:function(){e.isAnimating=!1}}).to(e.content.children,.3,{opacity:0}).to(e.content,.5,{scaleY:0,ease:mi.easeOut}).to(e.toggler,.5,{y:-e.height,ease:mi.easeOut},"-=0.5"),e.isOpen=!1}},{key:"open",value:function(e){kn.timeline({onStart:function(){e.isAnimating=!0,e.container.classList.add("is-open")},onComplete:function(){e.isAnimating=!1}}).to(e.content,.5,{scaleY:1,ease:mi.easeOut}).to(e.toggler,.5,{y:0,ease:mi.easeOut},"-=0.5").to(e.content.children,.3,{opacity:1},"-=0.3"),e.isOpen=!0}},{key:"resetState",value:function(){var e=this;this.instances.forEach((function(t){t.isOpen&&e.close(t),t.toggler&&t.toggler.removeEventListener("click",e.toggle)}))}},{key:"init",value:function(){var e=this,t=(wr.nextContainer||document).querySelectorAll(".js-read-more");t.length>0&&(t.forEach((function(t){var i=t.querySelector(".js-read-more-toggle"),n=t.querySelector(".js-read-more-content");e.instances.push({container:t,toggler:i,content:n})})),this.setInitialState(),this.addListeners())}},{key:"resize",value:function(){this.resetState(),this.instances=[],this.init()}},{key:"destroy",value:function(){this.resetState(),this.instances=[]}}])&&yo(t.prototype,i),n&&yo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wo(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return xo(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xo(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Do(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function So(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _o=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),So(this,"onFocus",(function(e){e.currentTarget.parentNode.classList.add("is-focus","is-focus-full")})),So(this,"onBlur",(function(e){var t=e.currentTarget.parentNode;t.classList.remove("is-focus"),""==e.currentTarget.value&&t.classList.remove("is-focus-full")})),So(this,"onInput",(function(e){var t=e.currentTarget;t.style.height="inherit",n.setAreaHeight(t)})),So(this,"onSubmitSuccess",(function(e){(e=JSON.parse(e)).result&&setTimeout((function(){n.contactInstance.completeLoad()}),800)})),So(this,"onSubmitError",(function(e){n.contactInstance.manageError(e),console.log("Error, ",e)})),So(this,"onSubmit",(function(e){if(e.preventDefault(),n.validateFields(),n.haveError())n.manageErrors();else{var t=new FormData(n.form);t.append("subject",n.subject);var i,r=new Object,o=wo(t.entries());try{for(o.s();!(i=o.n()).done;){var a=i.value;r["".concat(a[0])]=a[1]}}catch(e){o.e(e)}finally{o.f()}n.formData=r,n.submitRequest(n.onSubmitSuccess,n.onSubmitError),n.contactInstance.startLoad()}})),this.form=t,this.endPoint=this.form.dataset.endpoint,this.subject=this.form.dataset.subject,this.contactInstance=i,this.inputContainers=this.form.querySelectorAll(".form-input__container"),this.inputs=this.form.querySelectorAll(".form-input"),this.textarea=this.form.querySelector(".form-textarea"),this.state={inputs:[]},this.EMPTY_MESSAGE="*The field is empty",this.EMAIL_MESSAGE="*The E-mail Address entered is invalid."}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.form.addEventListener("submit",this.onSubmit),this.textarea.addEventListener("input",this.onInput),this.setAreaHeight(this.textarea);for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e];t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur),this.state.inputs.push({id:t.getAttribute("id"),target:t,errors:[]})}}},{key:"setAreaHeight",value:function(e){var t=window.getComputedStyle(e),i=parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("padding-top"),10)+e.scrollHeight+parseInt(t.getPropertyValue("padding-bottom"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10);e.style.height="".concat(i,"px")}},{key:"validate",value:function(e,t){var i,n=e.dataset.type,r=this.state.inputs[t],o=r.errors.find((function(e){return"empty"===e.type}));if(""===e.value)void 0===o&&r.errors.push({type:"empty",message:this.EMPTY_MESSAGE});else if("email"===n){var a=r.errors.find((function(e){return"email"===e.type}));if(void 0!==o){var s=r.errors.filter((function(e,t,i){return"empty"!==e.type}));r.errors=s}if(i=e.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())){if(void 0!==a){var l=r.errors.filter((function(e,t,i){return"email"!==e.type}));r.errors=l}}else void 0===a&&r.errors.push({type:"email",message:this.EMAIL_MESSAGE})}else r.errors.length>0&&(r.errors=[])}},{key:"validateFields",value:function(){for(var e=0;e<this.inputs.length;e++)this.validate(this.inputs[e],e)}},{key:"haveError",value:function(){for(var e=0;e<this.state.inputs.length;e++)if(this.state.inputs[e].errors.length>0)return!0;return!1}},{key:"updateSubject",value:function(e){this.subject=e}},{key:"manageErrors",value:function(){for(var e=this,t=function(t){var i=e.inputContainers[t],n=e.state.inputs[t].errors.length,r=i.querySelector(".js-form-error-inner");if(n>0){var o=e.state.inputs[t].errors[n-1];r.textContent=o.message,i.classList.add("is-error");var a=Math.random()*(.4-.1)+.1;kn.to(r,{duration:.5,y:"-100%",delay:a})}else i.classList.contains("is-error")&&(i.classList.remove("is-error"),kn.to(r,{duration:.5,y:"-200%",onComplete:function(){kn.set(r,{y:"0%"})}}))},i=0;i<this.inputContainers.length;i++)t(i)}},{key:"submitRequest",value:function(e,t){var i=this,n=new XMLHttpRequest,r="string"==typeof this.formData?this.formData:Object.keys(this.formData).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i.formData[e])})).join("&");n.open("POST",this.endPoint,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(r),n.onload=function(){200==n.status?e&&e(n.response):t&&t(n)},n.onerror=function(){console.log("Request failed")}}},{key:"reset",value:function(){for(var e=0;e<this.inputContainers.length;e++){var t=this.inputContainers[e],i=t.querySelector(".form-input"),n=t.querySelector(".js-form-error-inner");i.value="",n.textContent="",t.classList.remove("is-error"),kn.set(n,{y:"0%"})}}},{key:"destroy",value:function(){this.form.removeEventListener("submit",this.onSubmit);for(var e=0;e<this.inputs.length;e++)this.inputs[e].removeEventListener("focus",this.onFocus),this.inputs[e].removeEventListener("blur",this.onBlur),this.inputs[e].value="";this.state={inputs:[]}}},{key:"init",value:function(){this.setup()}}])&&Do(t.prototype,i),n&&Do(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Eo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Co=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(this,"onDropClick",(function(e){if(!t.isAnimatingDrop){var i=e.target.classList.contains("contact-selector__drop-option");if(e.target.classList.contains("js-contact-selector-open")||Fr(t.dropOpener,e.target))t.isDropOpen?t.closeDrop():t.openDrop();else if(i||Fr(t.drop,e.target)){var n=(i?e.target:function(e,t){for(;e.parentNode;)if((e=e.parentNode).classList.contains("".concat(t)))return e;return null}(e.target,"contact-selector__drop-option")).dataset.value;t.appendOption(n),t.switchOptions(),t.formInstance.updateSubject(n),t.isDropOpen&&t.closeDrop()}else t.isDropOpen&&t.closeDrop()}})),void 0!==document.querySelector('[data-barba-namespace="contact"]')&&(this.contentContainer=document.querySelector(".contact-container"),this.formsContainer=document.querySelector(".js-contact-form-container"),this.formElement=document.querySelector(".js-form"),this.formInstance=null,this.selectorIcon=document.querySelector(".contact-selector__icon"),this.selectorTitle=document.querySelector(".contact-selector__title"),this.dropOpener=document.querySelector(".js-contact-selector-open"),this.drop=document.querySelector(".js-contact-selector-drop"),this.dropBorder=document.querySelector(".contact-selector__drop-border"),this.dropOptionsLines=document.querySelectorAll(".contact-selector__drop-title .line-child"),this.contactLoader=document.querySelector(".contact-loader"),this.mainContent=document.querySelectorAll(".js-contact-main"),this.isAnimatingDrop=!1,this.isSubmitting=!1,this.isDropOpen=!1,this.init())}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){this.hasListener||(document.addEventListener("click",this.onDropClick,!1),this.hasListener=!0)}},{key:"removeListeners",value:function(){this.hasListener&&(document.removeEventListener("click",this.onDropClick,!1),this.hasListener=!1)}},{key:"isAnimateDrop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isAnimatingDrop=e,e?this.contentContainer.classList.add("is-animate"):this.contentContainer.classList.remove("is-animate")}},{key:"initForm",value:function(){this.formInstance=new _o(this.formElement,this),this.formInstance.init()}},{key:"destroyForm",value:function(){this.formInstance.destroy(),this.formInstance=null}},{key:"setup",value:function(){this.drop&&kn.set(this.drop,{height:0}),this.dropOptionsLines&&kn.set(this.dropOptionsLines,{yPercent:100}),this.dropBorder&&kn.set(this.dropBorder,{scaleX:0}),this.initForm(),this.addListeners()}},{key:"appendOption",value:function(e){var t=document.createDocumentFragment(),i=document.createElement("div"),n=document.createElement("p");n.className="h3",n.textContent=e,i.appendChild(n),i.className="contact-selector__title-active",i.style.opacity="0",t.appendChild(i),this.selectorTitle.appendChild(t)}},{key:"switchOptions",value:function(){var e=this.selectorTitle.querySelectorAll(".contact-selector__title-active");kn.set(e[1],{yPercent:100,opacity:1}),kn.timeline().to(e[0],{duration:.5,yPercent:-100,ease:"circ.inOut"}).to(e[1],{duration:.5,yPercent:0,ease:"circ.inOut",onComplete:function(){kr(e[0]),e[1].removeAttribute("style")}},"-=0.4")}},{key:"openDrop",value:function(){var e=this;if(!this.isAnimatingDrop){this.isAnimateDrop(!0);var t=kn.timeline();kn.set(this.drop,{height:"auto"}),t.to(this.selectorIcon,{duration:.3,rotation:180}).from(this.drop,{duration:.5,height:0,ease:"expo.out"},"-=0.3").to(this.dropOptionsLines,{duration:.7,yPercent:0,stagger:.11,ease:"circ.inOut"},"-=0.55").to(this.dropBorder,{duration:.8,scaleX:1,ease:"circ.inOut",onComplete:function(){kn.set(e.dropBorder,{transformOrigin:"right center"}),e.isAnimateDrop(!1),e.isDropOpen=!0}},"-=0.65")}}},{key:"closeDrop",value:function(){var e=this;this.isAnimatingDrop||(this.isAnimateDrop(!0),kn.timeline().to(this.selectorIcon,{duration:.3,rotation:"360deg",onComplete:function(){kn.set(e.selectorIcon,{rotation:0})}}).to(this.dropBorder,{duration:.55,scaleX:0,ease:"circ.inOut",onComplete:function(){kn.set(e.dropBorder,{transformOrigin:"left center"})}},0).to(this.dropOptionsLines,{duration:.7,yPercent:-100,stagger:.125,ease:"circ.inOut"},"-=0.45").to(this.drop,{duration:.5,height:0,ease:"expo.out",onComplete:function(){kn.set(e.dropOptionsLines,{yPercent:100}),e.isAnimateDrop(!1),e.isDropOpen=!1}},"-=0.5"))}},{key:"isSubmit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isSubmitting=e,e?document.body.classList.add("is-loading"):document.body.classList.remove("is-loading")}},{key:"startLoad",value:function(){this.isSubmit(!0),document.body.classList.add("is-animating"),Dr.device>=2&&uo.trigger("loadOn"),vr.call("scrollManager","disableScroll"),no.prepareChange(),no.show(),kn.timeline().set(this.contactLoader,{zIndex:421,visibility:"visible"}).call(no.moveMain,[{duration:1,value:Dr.window.height,type:"form-load-start",onComplete:function(){document.body.classList.add("is-animating-contact-success")}}])}},{key:"manageError",value:function(e){console.log("managerError",e),document.body.classList.remove("is-animating"),document.body.classList.remove("is-animating-contact-success")}},{key:"completeLoad",value:function(){document.body.classList.remove("is-animating"),vr.call("scrollManager","enableScroll"),this.isSubmit(!1),vr.call("router","goTo","".concat(mainUrl,"/contact/success"))}},{key:"resize",value:function(){this.dropOptionsLines=document.querySelectorAll(".contact-selector__drop-title .line-child"),this.dropOptionsLines.length&&(this.isDropOpen?kn.set(this.dropOptionsLines,{yPercent:0}):kn.set(this.dropOptionsLines,{yPercent:100}))}},{key:"destroy",value:function(){this.formInstance&&(this.removeListeners(),this.destroyForm())}},{key:"init",value:function(){this.contentContainer=(wr.nextContainer||document).querySelector(".contact-container"),this.formsContainer=(wr.nextContainer||document).querySelector(".js-contact-form-container"),this.formElements=(wr.nextContainer||document).querySelectorAll(".js-form"),this.selectorIcon=(wr.nextContainer||document).querySelector(".contact-selector__icon"),this.selectorTitle=(wr.nextContainer||document).querySelector(".contact-selector__title"),this.dropOpener=(wr.nextContainer||document).querySelector(".js-contact-selector-open"),this.drop=(wr.nextContainer||document).querySelector(".js-contact-selector-drop"),this.dropBorder=(wr.nextContainer||document).querySelector(".contact-selector__drop-border"),this.dropOptionsLines=(wr.nextContainer||document).querySelectorAll(".contact-selector__drop-title .line-child"),this.contentContainer&&this.formsContainer&&this.setup()}}])&&Eo(t.prototype,i),n&&Eo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ko=i(30),To=i.n(ko);function Ao(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Oo=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t)}var t,i,n;return t=e,(i=[{key:"init",value:function(e){sessionStorage.fontsLoadedFoutWithClassPolyfill?(document.body.classList.add("is-font-loaded"),e&&e()):(this.fontBase=new To.a("NB Akademie Std"),this.fontBaseMedium=new To.a("NB Akademie Std",{weight:500}),this.fontMono=new To.a("NB Akademie Mono Std",{weight:500}),Promise.all([this.fontBase.load(null,1e4),this.fontBaseMedium.load(null,1e4),this.fontMono.load(null,1e4)]).then((function(){document.body.classList.add("is-font-loaded"),sessionStorage.fontsLoadedFoutWithClassPolyfill=!0,e&&e()})))}}])&&Ao(t.prototype,i),n&&Ao(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Io(e,t,i){return t&&Lo(e.prototype,t),i&&Lo(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var Fo=function(){function e(){Po(this,e),this.instances=[],this.init()}return Io(e,[{key:"init",value:function(){var e=this;(wr.nextContainer||document).querySelectorAll("[data-hover-link]").forEach((function(t){e.instances.push(new Mo(t))}))}},{key:"addInstances",value:function(e){var t=this;e.forEach((function(e){t.instances.push(new Mo(e))}))}},{key:"reinit",value:function(){this.instances=[],this.init()}},{key:"destroy",value:function(){this.instances=[]}}]),e}(),Mo=function(){function e(t){Po(this,e),void 0!==t&&(this.el=t,this.label=this.el.querySelector(".link-label"),this.wrap=null,this.firstLetters=[],this.lastLetters=[],this.isActive=!1,this.timeout=50,this.init())}return Io(e,[{key:"initListeners",value:function(){var e=this;this.mouseenterFn=function(t){return e.mouseTimeout=setTimeout((function(){e.isActive=!0,e.tl.play()}),50)},this.mouseLeaveFn=function(t){clearTimeout(e.mouseTimeout),e.isActive&&(e.isActive=!1,e.tl.reverse())},this.el.addEventListener("mouseenter",this.mouseenterFn),this.el.addEventListener("mouseleave",this.mouseLeaveFn)}},{key:"removeListeners",value:function(){}},{key:"prepareText",value:function(){var e=vr.get("textSplit"),t=document.createDocumentFragment(),i=document.createElement("div");i.className="link-wrap",i.textContent=this.label.textContent,this.label.textContent="",t.appendChild(i),this.label.appendChild(t),this.wrap=this.label.querySelector(".link-wrap"),e.create(this.wrap,{type:"chars",charsClass:"char"}),this.firstLetters=this.wrap.querySelectorAll(".char");var n=document.createElement("div"),r=document.createDocumentFragment();n.className="link-copy",n.textContent=this.label.textContent,r.appendChild(n),this.wrap.appendChild(r),this.copy=this.label.querySelector(".link-copy"),e.create(this.copy,{type:"chars",charsClass:"char"}),this.lastLetters=this.copy.querySelectorAll(".char"),kn.set(this.lastLetters,{yPercent:100,skewY:"10deg",opacity:0})}},{key:"init",value:function(){Dr.device>1&&!wr.isIos&&(this.prepareText(),this.firstDelay=.2/this.firstLetters.length,this.lastDelay=.2/this.lastLetters.length,this.tl=kn.timeline({paused:!0}),this.tl.to(this.firstLetters,{duration:.2,skewY:"-10deg",yPercent:-100,opacity:0,stagger:this.firstDelay,ease:yi.easeIn}).to(this.lastLetters,{duration:.2,yPercent:0,skewY:"0deg",opacity:1,stagger:this.lastDelay,ease:yi.easeOut},"-=0.2"),this.initListeners())}}]),e}();function jo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.els=[],this.init()}var t,i,n;return t=e,(i=[{key:"resize",value:function(){this.init()}},{key:"init",value:function(){this.els=(wr.nextContainer||document).querySelectorAll(".js-fixed-h"),this.els.forEach((function(e){Dr.device>1||1024==Dr.window.width?e.style.height="".concat(Dr.window.height,"px"):e.classList.contains("js-no-fixed-h-mob")?e.style.height="".concat(.39*Dr.window.height,"px"):e.style.height="".concat(Dr.window.height,"px")}))}}])&&jo(t.prototype,i),n&&jo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ro(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Bo=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget||e.target.closest("a");if(t){var i=document.querySelector(t.getAttribute("href"));r.jumpTo(i)}},(i="onClick")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.init()}var t,i,n;return t=e,(i=[{key:"jumpTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var i=vr.get("scrollManager");if(e&&i&&i.scroll){var n=i.scroll.y+e.getBoundingClientRect().top;this.duration=t.duration||Ur(Math.abs(i.scroll.y-n)/(2*Dr.window.height)*1e3,1500,6e3),this.offset=t.offset||0,this.callback=t.callback||Yr,i.instance.scrollTo(0,n-this.offset,this.duration,{easing:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},callback:this.callback})}}}},{key:"removeListeners",value:function(){var e=this;this.hasListeners&&(this.els.forEach((function(t){return t.removeEventListener("click",e.onClick)})),this.hasListeners=!1)}},{key:"addListeners",value:function(){var e=this;this.hasListeners||(this.els.forEach((function(t){return t.addEventListener("click",e.onClick)})),this.hasListeners=!0)}},{key:"setInitialScroll",value:function(){if(""!==location.hash){var e=document.querySelector(location.hash);e&&this.jumpTo(e,{duration:0})}}},{key:"init",value:function(){this.els=(wr.nextContainer||document).querySelectorAll("[data-anchor]"),this.addListeners()}},{key:"destroy",value:function(){this.removeListeners(),this.els=[]}}])&&Ro(t.prototype,i),n&&Ro(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var No=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.splitCharsInstance=null,this.splitCharsWordsInstance=null,this.firstDoubleLinesInstance=null,this.secondDoubleLinesInstance=null,this.init()}var t,i,n;return t=e,(i=[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"chars"};new cr(e,t)}},{key:"revert",value:function(){this.splitCharsInstance&&this.splitCharsInstance.revert(),this.splitCharsWordsInstance&&this.splitCharsWordsInstance.revert(),this.firstDoubleLinesInstance&&this.firstDoubleLinesInstance.revert(),this.secondDoubleLinesInstance&&this.secondDoubleLinesInstance.revert()}},{key:"resize",value:function(){this.revert(),this.init()}},{key:"init",value:function(){var e=wr.nextContainer||document,t=e.querySelectorAll('[data-splitting="chars"]'),i=e.querySelectorAll('[data-splitting="chars,words"]'),n=e.querySelectorAll('[data-splitting="double-lines"]');if(t.length&&(this.splitCharsInstance=new cr(t,{type:"chars",charsClass:"char"})),i.length&&(this.splitCharsWordsInstance=new cr(i,{type:"chars,words",charsClass:"char",wordsClass:"word"})),n.length){this.firstDoubleLinesInstance=new cr(n,{type:"lines",linesClass:"line-parent"});var r=e.querySelectorAll('[data-splitting="double-lines"] .line-parent');this.secondDoubleLinesInstance=new cr(r,{type:"lines",linesClass:"line-child"})}}}])&&zo(t.prototype,i),n&&zo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ho={page:yr.get("page"),$intro:document.querySelector(".intro-loader"),$introContent:document.querySelectorAll(".js-intro-loader-anim"),$introBg:document.querySelector(".intro-loader__bg"),$introPath:document.querySelector(".intro-loader__transition-path"),$mobileInitialLoader:document.querySelector(".js-intro-loader-mloading"),$mobileInitialLoaderText:document.querySelector(".js-intro-loader-mloading-text"),$mobileInitialLoaderPath:document.querySelector(".js-intro-loader-mloading-path"),menuHide:function(){this.$navLogo=document.querySelector(".nav__logo"),this.$navToggle=document.querySelector(".nav__toggle"),kn.set(this.$navLogo,{opacity:0,yPercent:-60}),kn.set(this.$navToggle,{opacity:0,yPercent:-60})},menuReveal:function(){var e=this,t=kn.timeline({onComplete:function(){e.$navLogo.removeAttribute("style"),e.$navToggle.removeAttribute("style")}});return t.to(this.$navLogo,.4,{opacity:1,yPercent:-50}).to(this.$navToggle,.4,{opacity:1,yPercent:-50},"-=0.35"),t},revealPage:function(){switch(yr.options.page){case"home":return this.homeEnter();case"single-case":return this.caseEnter();case"about":return this.aboutEnter();case"journal":return this.journalEnter();case"single-article":return this.singleArticleEnter();case"contact":return this.contactEnter();default:return kn.timeline()}},homeHide:function(){this.$homeCategoriesAll=document.querySelector(".categories__all"),this.$homeCategoriesBorder=document.querySelector(".categories__border"),this.$homeCategoriesLabel=document.querySelector(".categories__filter-label"),this.$homeCategoriesSelect=document.querySelector(".categories__select"),this.$homeCategoriesArrows=document.querySelectorAll(".categories__arrow"),this.$homeBottomLogo=document.querySelector(".grid__bottom-logo"),this.$homeGridMobileCategory=document.querySelector(".grid-mobile__category"),kn.set(this.$homeCategoriesAll,{opacity:0}),kn.set(this.$homeCategoriesBorder,{scaleX:0}),kn.set([this.$homeCategoriesLabel,this.$homeCategoriesSelect],{opacity:0}),kn.set(this.$homeCategoriesArrows[0],{opacity:0,x:-12}),kn.set(this.$homeCategoriesArrows[1],{opacity:0,x:12}),kn.set([this.$homeBottomLogo,this.$homeGridMobileCategory],{opacity:0})},homeEnter:function(){var e=this;this.$homeBottomText=document.querySelector(".grid__bottom-text"),this.$homeBottomTextLines=this.$homeBottomText.querySelectorAll(".line-child"),kn.set(this.$homeBottomTextLines,{yPercent:120});var t=kn.timeline({delay:.3,onComplete:function(){e.$homeCategoriesBorder.removeAttribute("style"),e.$homeCategoriesAll.removeAttribute("style"),e.$homeCategoriesLabel.removeAttribute("style"),e.$homeCategoriesSelect.removeAttribute("style"),e.$homeBottomTextLines.forEach((function(e){return e.removeAttribute("style")})),e.$homeCategoriesArrows.forEach((function(e){return e.removeAttribute("style")})),e.$homeBottomLogo.removeAttribute("style")}});return t.to(this.$homeCategoriesAll,{duration:.4,opacity:1}).to(this.$homeCategoriesBorder,{duration:.7,scaleX:1,ease:yi.easeInOut},"-=0.4").to([this.$homeCategoriesLabel,this.$homeCategoriesSelect],{duration:.4,opacity:1,stagger:.1,ease:gi.easeInOut},"-=0.7").to(this.$homeBottomTextLines,{duration:.8,yPercent:0,stagger:.07,ease:gi.easeInOut},"-=0.6").to(this.$homeCategoriesArrows,{duration:.6,opacity:1,x:0,stagger:.1,ease:gi.easeInOut},"-=0.8").to(this.$homeBottomLogo,{duration:.6,opacity:1},"-=0.5").to(this.$homeGridMobileCategory,{duration:.6,opacity:1},"-=0.6"),t},caseHide:function(){var e=this;new cr(document.querySelector(".case-hero__title"),{type:"lines",linesClass:"line-parent"}),new cr(document.querySelectorAll(".case-hero__title .line-parent"),{type:"lines",linesClass:"line-child"}),this.$caseLines=document.querySelectorAll(".case-hero__title .line-child"),this.$caseImgDesc=document.querySelector(".case-hero__main-img-desc"),this.$caseHeroScroll=document.querySelector(".case-hero__scroll"),this.$caseHeroIconInner=document.querySelector(".case-hero__scroll-icon-inner"),this.$caseMainImg=document.querySelector(".case-hero__main-img"),kn.set(this.$caseLines,{yPercent:140,skewY:"-6deg"}),kn.set(this.$caseImgDesc,{y:30,opacity:0}),kn.set(this.$caseHeroScroll,{y:30,opacity:0}),(Dr.device<2||Dr.isFakeMobile)&&(this.$caseHeroMobileTitle=document.querySelector(".case-hero__mobile-title"),kn.set(this.$caseHeroMobileTitle,{opacity:0,y:30})),setTimeout((function(){kn.set(e.$caseMainImg,{opacity:0,y:Dr.device>=2?200:50})}),400)},caseEnter:function(){var e=this,t=kn.timeline({onComplete:function(){for(var t=0;t<e.$caseLines.length;t++)e.$caseLines[t].removeAttribute("style");e.$caseImgDesc.removeAttribute("style"),e.$caseHeroScroll.removeAttribute("style")}});return t.to(this.$caseLines,{duration:1,yPercent:0,skewY:"0deg",stagger:.1,ease:gi.easeInOut},.1).to(this.$caseImgDesc,{duration:.4,y:0,opacity:1},"-=0.4").to(this.$caseHeroScroll,{duration:.4,y:0,opacity:1,onComplete:function(){setTimeout((function(){return e.$caseHeroIconInner.classList.add("arrow-anim")}),400)}},"-=0.4").to(this.$caseMainImg,{duration:1.1,opacity:1,y:0,ease:gi.easeInOut},"-=1.4"),(Dr.device<2||Dr.isFakeMobile)&&t.to(this.$caseHeroMobileTitle,{duration:.7,y:0,opacity:1,ease:gi.easeInOut},"-=0.8"),t},aboutHide:function(){new cr(document.querySelector(".header__title h1"),{type:"lines",linesClass:"line-parent"}),new cr(document.querySelectorAll(".header__title .line-parent"),{type:"lines",linesClass:"line-child"}),this.$aboutLines=document.querySelectorAll(".header__title .line-child"),this.$aboutArrowPath=document.querySelectorAll(".about-scroll-down path"),this.$aboutScrollInner=document.querySelector(".about-scroll-down__inner"),this.$squareFix=document.querySelector(".square-fix"),this.$mfirstImg=document.querySelector(".about-first-image"),this.$msecondImg=document.querySelector(".about-second-image"),kn.set(this.$aboutLines,{yPercent:160,skewY:"-6deg"}),kn.set(this.$aboutArrowPath,{drawSVG:0}),kn.set(this.$squareFix,{opacity:0}),kn.set([this.$mfirstImg,this.$msecondImg],{opacity:0,y:50})},aboutEnter:function(){var e=this,t=kn.timeline();return t.to(this.$aboutLines,{duration:1.4,yPercent:0,skewY:"0deg",stagger:.1,ease:gi.easeInOut}).to(this.$aboutArrowPath,{duration:.7,drawSVG:"100%",ease:fi.easeInOut,onComplete:function(){setTimeout((function(){return e.$aboutScrollInner.classList.add("arrow-anim")}),400)}},"-=0.4").to(this.$squareFix,{duration:.5,opacity:1},"-=0.7"),Dr.device<=1||wr.isIos||Dr.isFakeMobile||Dr.device>=3?(t.to(this.$mfirstImg,{duration:1,opacity:1,y:0,ease:gi.easeInOut},"-=1.2").to(this.$msecondImg,{duration:1,opacity:1,y:0,ease:gi.easeInOut},"-=1.1"),t):t},journalHide:function(){this.$jHeadZone=document.querySelector(".articles-slider__head"),this.$jContentZone=document.querySelector(".articles-slider__content"),this.$relativeSimpleSlider=document.querySelector(".articles-slider__container .simple-slider"),this.$squareFix=document.querySelector(".square-fix"),kn.set([this.$jHeadZone,this.$jContentZone],{opacity:0,y:70}),kn.set(this.$relativeSimpleSlider,{y:60,opacity:0}),kn.set(this.$squareFix,{opacity:0})},journalEnter:function(){var e=kn.timeline({delay:.3});return e.to([this.$jHeadZone,this.$jContentZone],{duration:.9,opacity:1,stagger:.05,y:0}).to(this.$relativeSimpleSlider,{y:0,duration:.7,opacity:1,ease:gi.easeInOut},"-=0.75").to(this.$squareFix,{duration:.5,opacity:1},"-=0.5"),e},singleArticleHide:function(){for(var e=document.querySelectorAll(".sa-hero__title"),t=0;t<e.length;t++){var i=e[t],n=i.querySelector("h1");new cr(n,{type:"lines",linesClass:"line-parent"}),new cr(i.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"})}this.$saLines=document.querySelectorAll(".sa-hero__title .line-child"),this.$saArrowPaths=document.querySelectorAll(".sa-hero__cta path"),this.$saScrollsInner=document.querySelectorAll(".sa-scroll-down__inner"),this.$squareFix=document.querySelector(".square-fix"),kn.set(this.$saLines,{yPercent:140,skewY:"-6deg"}),kn.set(this.$saArrowPaths,{drawSVG:0}),kn.set(this.$squareFix,{opacity:0})},singleArticleEnter:function(){var e=this,t=kn.timeline();return t.to(this.$saLines,{duration:1.4,yPercent:0,skewY:"0deg",stagger:.1,ease:gi.easeInOut}).to(this.$saArrowPaths,{duration:.7,drawSVG:"100%",ease:fi.easeInOut,onComplete:function(){setTimeout((function(){return e.$saScrollsInner.forEach((function(e){return e.classList.add("arrow-anim")}))}),400)}},"-=0.4").to(this.$squareFix,{duration:.5,opacity:1},"-=0.7"),t},contactHide:function(){new cr(document.querySelector(".header__title h1"),{type:"lines",linesClass:"line-parent"}),new cr(document.querySelectorAll(".header__title .line-parent"),{type:"lines",linesClass:"line-child"}),this.$contactLines=document.querySelectorAll(".header__title .line-child"),this.$contactCols=document.querySelectorAll(".contact__col"),kn.set(this.$contactLines,{yPercent:140,skewY:"-6deg"}),kn.set(this.$contactCols,{opacity:0,y:80})},contactEnter:function(){var e=this,t=kn.timeline({onComplete:function(){for(var t=0;t<e.$contactCols.length;t++)e.$contactCols[t].removeAttribute("style");for(var i=0;i<e.$contactLines.length;i++)e.$contactLines[i].removeAttribute("style")}});return t.to(this.$contactLines,{duration:1.2,yPercent:0,skewY:"0deg",stagger:.1,ease:gi.easeInOut}).to(this.$contactCols,{duration:.9,opacity:1,y:0,stagger:.05,onComplete:function(){e.$contactCols.forEach((function(e){return e.removeAttribute("style")}))}},"-=0.8"),t},introMiddle:function(){kn.to(this.$introContent,{duration:1.4,opacity:1,ease:gi.easeOut})},intro:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.scrollTo(0,0),e&&uo.appearFirstTime(!0)},setMobileProgress:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];kn.set(this.$mobileInitialLoaderPath,{drawSVG:"".concat(e)}),t&&(this.$mobileInitialLoaderText.innerText="".concat(e))},hideMobileProgress:function(){return kn.to(this.$mobileInitialLoader,{duration:.2,opacity:0})},showMobileProgress:function(){kn.to(this.$mobileInitialLoader,{duration:.2,opacity:1})},updateMobileProgress:function(e){this.$mobileInitialLoaderText.innerText="".concat(parseInt(e,10),"%"),kn.to(this.$mobileInitialLoaderPath,{duration:.2,drawSVG:"".concat(e,"%")})}};function Uo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Wo=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loader=null,this.imagesLoadedCount=0,this.hasLoaded=!1}var t,i,n;return t=e,(i=[{key:"closePageElements",value:function(){var e,t=this;switch(yr.get("page")){case"home":return this.categoriesSelect=document.querySelector(".categories__select"),this.categoriesFilterLabel=document.querySelector(".categories__filter-label"),this.categoriesAll=document.querySelector(".categories__all"),this.categoriesBorderContainer=document.querySelector(".js-categories-progress-container"),this.categoriesArrows=document.querySelector(".categories__arrows"),this.canvas=document.querySelector(".js-canvas"),this.gridBottomLogo=document.querySelector(".grid__bottom-logo"),this.gridBottomLines=document.querySelectorAll(".grid__bottom-text .line-child"),this.gridCategories=document.querySelector(".grid-mobile__category"),(e=kn.timeline()).set(this.categoriesBorderContainer,{transformOrigin:"right center"}).to(this.categoriesBorderContainer,.8,{scaleX:0,ease:yi.easeInOut,onComplete:function(){kn.set(t.categoriesBorderContainer,{transformOrigin:"left center"})}},0).to(this.canvas,.5,{opacity:0},0).to(this.categoriesAll,.5,{opacity:0},0).to(this.categoriesSelect,.5,{opacity:0},.2).to(this.categoriesFilterLabel,.5,{opacity:0},.2).to(this.categoriesArrows,.5,{opacity:0},.3).to(this.gridBottomLogo,.5,{opacity:0},.3).to(this.gridCategories,.5,{opacity:0},.3).to(this.gridBottomLines,{duration:.7,y:"-120%",skewY:"-4deg",stagger:.1,onComplete:function(){kn.set(t.gridBottomLines,{y:"120%",skewY:"0deg"})},ease:gi.easeInOut},0),e;case"single-case":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.caseHeroDesc=document.querySelector(".case-hero__main-img-desc"),this.caseHeroTitle=document.querySelector(".case-hero__title"),this.caseHeroScroll=document.querySelector(".case-hero__scroll"),this.caseMain=document.querySelector(".case-main"),this.caseNext=document.querySelector(".case-next"),this.caseSide=document.querySelector(".case-side"),this.caseMobileNav=document.querySelector(".nav-case-categories"),this.isSideHidden=this.caseSide.hasAttribute("data-hide"),(e=kn.timeline({onStart:function(){t.isSideHidden||t.caseSide.setAttribute("data-hide","")}})).to(this.caseNext,.2,{opacity:0},0).to(this.noise,.4,{opacity:0},.2).to(this.canvas,.4,{opacity:0},.2).to(this.caseHeroDesc,.4,{opacity:0},.2).to(this.caseHeroScroll,.4,{opacity:0},.2).to(this.caseHeroTitle,.4,{opacity:0},.2).to(this.caseMain,.4,{opacity:0},.2).to(this.caseMobileNav,.2,{opacity:0},.2),e;case"about":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.headerTitle=document.querySelector(".header__title"),this.aboutMain=document.querySelector(".js-about-main"),this.squareFix=document.querySelector(".square-fix"),this.caseNext=document.querySelector(".case-next"),(e=kn.timeline({dafaults:{duration:.4}})).to(this.caseNext,{opacity:0}).to(this.noise,{opacity:0}).to(this.canvas,{opacity:0},"<").to(this.headerTitle,{opacity:0},"<").to(this.aboutMain,{opacity:0},"<").to(this.squareFix,{opacity:0},"<"),e;case"journal":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.sliderRow=document.querySelector(".articles-slider__row"),this.journalMain=document.querySelector(".journal-main"),this.squareFix=document.querySelector(".square-fix"),(e=kn.timeline()).to([this.noise,this.canvas,this.sliderRow,this.journalMain,this.squareFix],.4,{opacity:0},0),e;case"single-article":return this.noise=document.querySelector(".noise"),this.canvas=document.querySelector(".js-canvas"),this.heroTitle=document.querySelector(".sa-hero__title"),this.saMain=document.querySelector(".sa-main"),this.scrollCta=document.querySelector(".sa-hero__cta"),this.squareFix=document.querySelector(".square-fix"),(e=kn.timeline()).to([this.noise,this.canvas,this.heroTitle,this.saMain,this.squareFix,this.scrollCta],.4,{opacity:0},0),e;case"contact":return this.noise=document.querySelector(".noise"),this.headerTitle=document.querySelector(".header__title"),this.contactsCol=document.querySelectorAll(".contact__col"),(e=kn.timeline()).to(this.noise,.4,{opacity:0},0).to(this.headerTitle,.4,{opacity:0,y:30,ease:gi.easeInOut},0).to(this.contactsCol,{duration:.4,opacity:0,y:30,stagger:.125,ease:gi.easeInOut},.1),e;default:return kn.timeline()}}},{key:"openPageElements",value:function(){var e,t=this;switch(yr.get("page")){case"home":return this.gridBottomLines=document.querySelectorAll(".grid__bottom-text .line-child"),(e=kn.timeline()).to(this.categoriesBorderContainer,.6,{scaleX:1,ease:yi.easeInOut}).to(this.categoriesAll,.5,{opacity:1},0).to(this.canvas,.5,{opacity:1},.2).to(this.categoriesSelect,.5,{opacity:1},.2).to(this.categoriesFilterLabel,.5,{opacity:1},.2).to(this.categoriesArrows,.5,{opacity:1},.3).to(this.gridBottomLogo,.5,{opacity:1},.3).to(this.gridCategories,.5,{opacity:1},.3).to(this.gridBottomLines,{duration:.7,y:"0%",skewY:"0deg",stagger:.1,ease:gi.easeInOut},0),e;case"single-case":return(e=kn.timeline({onStart:function(){setTimeout((function(){t.isSideHidden||t.caseSide.removeAttribute("data-hide")}),2e3)}})).to(this.noise,.4,{opacity:.04},0).to(this.canvas,.4,{opacity:1},2).to(this.caseHeroScroll,.4,{opacity:1},2).to(this.caseHeroDesc,.4,{opacity:1},2).to(this.caseHeroTitle,.4,{opacity:1},2).to(this.caseMain,.4,{opacity:1},2).to(this.caseNext,.2,{opacity:1},2.4).to(this.caseMobileNav,.2,{opacity:1},1.7),e;case"about":return(e=kn.timeline()).to(this.noise,.4,{opacity:.06},0).to(this.canvas,.4,{opacity:1},0).to(this.headerTitle,.4,{opacity:1},0).to(this.aboutMain,.4,{opacity:1},0).to(this.caseNext,.4,{opacity:1},0).to(this.squareFix,.4,{opacity:1},0),e;case"journal":return(e=kn.timeline()).to(this.noise,.4,{opacity:.06},0).to(this.canvas,.4,{opacity:1},0).to(this.sliderRow,.4,{opacity:1},0).to(this.journalMain,.4,{opacity:1},0).to(this.squareFix,.4,{opacity:1},0),e;case"single-article":return(e=kn.timeline()).to(this.noise,.4,{opacity:.06},0).to(this.canvas,.4,{opacity:1},0).to(this.heroTitle,.4,{opacity:1},0).to(this.saMain,.4,{opacity:1},0).to(this.scrollCta,.4,{opacity:1},0).to(this.squareFix,.4,{opacity:1},0),e;case"contact":return(e=kn.timeline()).to(this.noise,.4,{opacity:.04},0).to(this.headerTitle,.8,{opacity:1,y:0,ease:gi.easeInOut},0).to(this.contactsCol,{duration:.8,opacity:1,y:0,stagger:.1,ease:gi.easeInOut},.2),e;default:return kn.timeline()}}},{key:"hideInitial",value:function(){var e=yr.get("page");switch(Ho.menuHide(),e){case"home":Ho.homeHide();break;case"single-case":Ho.caseHide();break;case"about":Ho.aboutHide();break;case"journal":Ho.journalHide();break;case"single-article":Ho.singleArticleHide();break;case"contact":Ho.contactHide()}}},{key:"initialRatio",value:function(){this.introImages=document.querySelectorAll(".intro-loader__image");for(var e=0;e<this.introImages.length;e++){var t=this.introImages[e],i=t.getBoundingClientRect().height/t.dataset.initialRatio;t.style.width="".concat(i,"px")}}},{key:"resize",value:function(){this.initialRatio()}},{key:"init",value:function(){this.hideInitial(),this.initialRatio()}},{key:"change",value:function(){this.hideInitial()}}])&&Uo(t.prototype,i),n&&Uo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Yo(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Xo=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vo(this,"onCategoryClick",(function(e){if(!t.isLoading){var i=e.currentTarget?e.currentTarget.hasAttribute("data-category")?e.currentTarget:null:e.target.hasAttribute("data-category")?e.target:e.target.closest("[data-category]");if(i){var n=i.getAttribute("data-category");t.isLoad(!0),t.sendRequest({category:n}),t.categoryFilters.forEach((function(e){e.classList.toggle("is-active",e.isSameNode(i))}))}}})),Vo(this,"onPaginationClick",(function(e){if(!t.isLoading){var i=e.currentTarget?e.currentTarget.hasAttribute("data-page")?e.currentTarget:null:e.target.hasAttribute("data-page")?e.target:e.target.closest("[data-page]");if(i){var n=parseInt(i.getAttribute("data-page"));t.isLoad(!0),t.sendRequest({page:n})}}})),this.data={category:"",page:0},this.categoryFilters=[],this.pageFilters=[],this.init()}var t,i,n;return t=e,(i=[{key:"isLoad",value:function(e){this.isLoading=e,document.body.classList.toggle("is-loading",this.isLoading),document.body.classList.toggle("is-posts-loading",this.isLoading),this.isLoading?uo.trigger("loadOn"):uo.trigger("loadOff")}},{key:"appendContent",value:function(e){this.appendContainer&&(this.appendContainer.innerHTML="",this.appendContainer.appendChild(e),vr.call("ratio","resize"),this.updatePagination(),vr.call("scrollManager","resize"))}},{key:"toggleTitleLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.title.classList.add("is-loading"):this.title.classList.remove("is-loading")}},{key:"sendRequest",value:function(e){var t=this;this.toggleTitleLoad(!0),function(e,t,i,n){var r=new XMLHttpRequest,o="string"==typeof t?t:Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");r.open("POST",e),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(o),r.onload=function(){200==r.status?i&&(console.log("Done, got ".concat(r.response.length," bytes")),i(r.response)):n&&n(r)},r.onerror=function(){console.log("Request failed")}}("".concat(templateUrl,"/journal/posts.php"),Object.assign(this.data,e),(function(e){t.isLoad(!1);var i,n=(i=e,(new DOMParser).parseFromString(i,"text/html"));if(n){var r=n.querySelector(".js-journal-content");r&&(t.destroyPagination(),t.articlesContainer?(document.body.classList.add("is-posts-success-loading"),vr.call("anchorScroll","jumpTo",t.articlesContainer,{callback:function(){t.onRequestSuccess(r)}})):(document.body.classList.add("is-posts-success-loading"),t.onRequestSuccess(r)))}}),(function(e){return console.log("request error",e)}))}},{key:"hideNewPosts",value:function(){this.newPosts=document.querySelectorAll(".post-card");for(var e=0;e<this.newPosts.length;e++){var t=this.newPosts[e],i=t.querySelector(".post-card__overtitle"),n=t.querySelector(".post-card__media"),r=t.querySelector(".post-card__title"),o=t.querySelector(".post-card__cta"),a=t.querySelector(".post-card__border");kn.set([i,n,r,o],{opacity:0,y:30}),kn.set(a,{scaleX:0})}}},{key:"revealNewPosts",value:function(){for(var e=0;e<this.newPosts.length;e++){var t=this.newPosts[e],i=t.querySelector(".post-card__overtitle"),n=t.querySelector(".post-card__media"),r=t.querySelector(".post-card__title"),o=t.querySelector(".post-card__cta"),a=t.querySelector(".post-card__border");kn.timeline({delay:.3+e/10}).to(i,{y:0,opacity:.5,duration:1,ease:gi.easeInOut}).to([n,r,o],{y:0,opacity:1,stagger:.08,duration:1,ease:gi.easeInOut},"-=0.9").to(a,{scaleX:1,duration:.5,ease:yi.easeInOut},"-=0.8")}}},{key:"onRequestSuccess",value:function(e){var t=this;this.appendContent(e);var i=e.querySelectorAll("[data-img]"),n=vr.call("loaderManager","addImages",i),r=0,o=vr.get("linkHover"),a=this.appendContainer.querySelectorAll(".post-card__link");o.addInstances(a),n.forEach((function(e){vr.call("imageLoader","load",e,(function(e){r++,vr.call("imageLoader","onLazyLoad",e),r===n.length&&vr.call("scrollGL","refresh",n)}))})),setTimeout((function(){t.hideNewPosts(),t.toggleTitleLoad(!1),document.body.classList.remove("is-posts-success-loading"),t.revealNewPosts()}),200)}},{key:"addListeners",value:function(){if(!this.hasListeners){for(var e=0;e<this.categoryFilters.length;e++)this.categoryFilters[e].addEventListener("click",this.onCategoryClick);this.hasListeners=!0}}},{key:"removeListeners",value:function(){if(this.hasListeners){for(var e=0;e<this.categoryFilters.length;e++)this.categoryFilters[e].removeEventListener("click",this.onCategoryClick);this.hasListeners=!1}}},{key:"updatePagination",value:function(){var e=this;this.pageFilters=this.container.querySelectorAll("[data-page]"),this.pageFilters.forEach((function(t){return t.addEventListener("click",e.onPaginationClick)}))}},{key:"destroyPagination",value:function(){var e=this;this.pageFilters.forEach((function(t){return t.removeEventListener("click",e.onPaginationClick)}))}},{key:"init",value:function(){"journal"===yr.get("page")&&(this.container=wr.nextContainer||document.querySelector("[data-barba-namespace]"),this.articlesContainer=(wr.nextContainer||document).querySelector("#articles"),this.appendContainer=this.container.querySelector(".js-journal-posts"),this.title=(wr.nextContainer||document).querySelector(".journal-content__title"),this.categoryFilters=this.container.querySelectorAll("[data-category]"),this.updatePagination(),this.isLoading=!1,this.addListeners())}},{key:"resize",value:function(){yr.get("page")}},{key:"destroy",value:function(){"journal"==yr.get("page")&&(this.destroyPagination(),this.removeListeners())}}])&&Yo(t.prototype,i),n&&Yo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Go(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;Dr.device>1&&t.changed&&(t.y>=this.top?(kn.set(this.el,{y:t.y-this.top}),this.isFixed=!0):this.isFixed&&(kn.set(this.el,{y:0}),this.isFixed=!1))}},{key:"init",value:function(){if(this.el=(wr.nextContainer||document).querySelector(".js-journal-side"),this.el){var e=vr.get("scrollManager"),t=e&&e.scroll?e.scroll.y:0,i=this.el.getBoundingClientRect();this.top=t+i.top-Dr.nav.height*Dr.window.height-wr.oldContainerHeight}}}])&&Go(t.prototype,i),n&&Go(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zo=function(e,t){return(Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ko(e,t){function i(){this.constructor=e}Zo(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var Jo=function(){return(Jo=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Qo(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}function ea(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}i(92),i(119),i(122),i(130),i(134);var ta=function(e,t,i){return e==e&&(void 0!==i&&(e=e<=i?e:i),void 0!==t&&(e=e>=t?e:t)),e},ia=/\s/;var na=function(e){for(var t=e.length;t--&&ia.test(e.charAt(t)););return t},ra=/^\s+/;var oa=function(e){return e?e.slice(0,na(e)+1).replace(ra,""):e};var aa=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},sa=i(89),la="object"==typeof self&&self&&self.Object===Object&&self,ua=sa.a||la||Function("return this")(),ca=ua.Symbol,ha=Object.prototype,da=ha.hasOwnProperty,fa=ha.toString,pa=ca?ca.toStringTag:void 0;var ga=function(e){var t=da.call(e,pa),i=e[pa];try{e[pa]=void 0;var n=!0}catch(e){}var r=fa.call(e);return n&&(t?e[pa]=i:delete e[pa]),r},va=Object.prototype.toString;var ma=function(e){return va.call(e)},ya=ca?ca.toStringTag:void 0;var ba=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ya&&ya in Object(e)?ga(e):ma(e)};var wa=function(e){return null!=e&&"object"==typeof e};var xa=function(e){return"symbol"==typeof e||wa(e)&&"[object Symbol]"==ba(e)},Da=/^[-+]0x[0-9a-f]+$/i,Sa=/^0b[01]+$/i,_a=/^0o[0-7]+$/i,Ea=parseInt;var Ca=function(e){if("number"==typeof e)return e;if(xa(e))return NaN;if(aa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=aa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=oa(e);var i=Sa.test(e);return i||_a.test(e)?Ea(e.slice(2),i?2:8):Da.test(e)?NaN:+e};var ka=function(e,t,i){return void 0===i&&(i=t,t=void 0),void 0!==i&&(i=(i=Ca(i))==i?i:0),void 0!==t&&(t=(t=Ca(t))==t?t:0),ta(Ca(e),t,i)};function Ta(e,t){return void 0===e&&(e=-1/0),void 0===t&&(t=1/0),function(i,n){var r="_"+n;Object.defineProperty(i,n,{get:function(){return this[r]},set:function(i){Object.defineProperty(this,r,{value:ka(i,e,t),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function Aa(e,t){var i="_"+t;Object.defineProperty(e,t,{get:function(){return this[i]},set:function(e){Object.defineProperty(this,i,{value:!!e,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}var Oa=function(){return ua.Date.now()},Pa=Math.max,La=Math.min;var Ia=function(e,t,i){var n,r,o,a,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var i=n,o=r;return n=r=void 0,u=t,a=e.apply(o,i)}function p(e){return u=e,s=setTimeout(v,t),c?f(e):a}function g(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-u>=o}function v(){var e=Oa();if(g(e))return m(e);s=setTimeout(v,function(e){var i=t-(e-l);return h?La(i,o-(e-u)):i}(e))}function m(e){return s=void 0,d&&n?f(e):(n=r=void 0,a)}function y(){var e=Oa(),i=g(e);if(n=arguments,r=this,l=e,i){if(void 0===s)return p(l);if(h)return clearTimeout(s),s=setTimeout(v,t),f(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=Ca(t)||0,aa(i)&&(c=!!i.leading,o=(h="maxWait"in i)?Pa(Ca(i.maxWait)||0,t):o,d="trailing"in i?!!i.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=r=s=void 0},y.flush=function(){return void 0===s?a:m(Oa())},y};function Fa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,i,n){var r=n.value;return{get:function(){return this.hasOwnProperty(i)||Object.defineProperty(this,i,{value:Ia.apply(void 0,ea([r],e))}),this[i]}}}}var Ma,ja=function(){function e(e){var t=this;void 0===e&&(e={}),this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(e).forEach((function(i){t[i]=e[i]}))}return Object.defineProperty(e.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(e){console.warn("[smooth-scrollbar]: `options.wheelEventTarget` is deprecated and will be removed in the future, use `options.delegateTo` instead."),this.delegateTo=e},enumerable:!0,configurable:!0}),Qo([Ta(0,1)],e.prototype,"damping",void 0),Qo([Ta(0,1/0)],e.prototype,"thumbMinSize",void 0),Qo([Aa],e.prototype,"renderByPixels",void 0),Qo([Aa],e.prototype,"alwaysShowTracks",void 0),Qo([Aa],e.prototype,"continuousScrolling",void 0),e}(),qa=new WeakMap;function Ra(){if(void 0!==Ma)return Ma;var e=!1;try{var t=function(){},i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",t,i),window.removeEventListener("testPassive",t,i)}catch(e){}return Ma=!!e&&{passive:!1}}function Ba(e){var t=qa.get(e)||[];return qa.set(e,t),function(e,i,n){function r(e){e.defaultPrevented||n(e)}i.split(/\s+/g).forEach((function(i){t.push({elem:e,eventName:i,handler:r}),e.addEventListener(i,r,Ra())}))}}function za(e){var t=function(e){return e.touches?e.touches[e.touches.length-1]:e}(e);return{x:t.clientX,y:t.clientY}}function Na(e,t){return void 0===t&&(t=[]),t.some((function(t){return e===t}))}var Ha=["webkit","moz","ms","o"],Ua=new RegExp("^-(?!(?:"+Ha.join("|")+")-)");function Wa(e,t){t=function(e){var t={};return Object.keys(e).forEach((function(i){if(Ua.test(i)){var n=e[i];i=i.replace(/^-/,""),t[i]=n,Ha.forEach((function(e){t["-"+e+"-"+i]=n}))}else t[i]=e[i]})),t}(t),Object.keys(t).forEach((function(i){var n=i.replace(/^-/,"").replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));e.style[n]=t[i]}))}var Ya,Va=function(){function e(e){this.velocityMultiplier=/Android/.test(navigator.userAgent)?window.devicePixelRatio:1,this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=za(e)}return e.prototype.update=function(e){var t=this.velocity,i=this.updateTime,n=this.lastPosition,r=Date.now(),o=za(e),a={x:-(o.x-n.x),y:-(o.y-n.y)},s=r-i||16.7,l=a.x/s*16.7,u=a.y/s*16.7;t.x=l*this.velocityMultiplier,t.y=u*this.velocityMultiplier,this.delta=a,this.updateTime=r,this.lastPosition=o},e}(),Xa=function(){function e(){this._touchList={}}return Object.defineProperty(e.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){return void 0!==this._activeTouchID},e.prototype.getDelta=function(){var e=this._getActiveTracker();return e?Jo({},e.delta):this._primitiveValue},e.prototype.getVelocity=function(){var e=this._getActiveTracker();return e?Jo({},e.velocity):this._primitiveValue},e.prototype.getEasingDistance=function(e){var t=1-e,i={x:0,y:0},n=this.getVelocity();return Object.keys(n).forEach((function(e){for(var r=Math.abs(n[e])<=10?0:n[e];0!==r;)i[e]+=r,r=r*t|0})),i},e.prototype.track=function(e){var t=this,i=e.targetTouches;return Array.from(i).forEach((function(e){t._add(e)})),this._touchList},e.prototype.update=function(e){var t=this,i=e.touches,n=e.changedTouches;return Array.from(i).forEach((function(e){t._renew(e)})),this._setActiveID(n),this._touchList},e.prototype.release=function(e){var t=this;delete this._activeTouchID,Array.from(e.changedTouches).forEach((function(e){t._delete(e)}))},e.prototype._add=function(e){this._has(e)&&this._delete(e);var t=new Va(e);this._touchList[e.identifier]=t},e.prototype._renew=function(e){this._has(e)&&this._touchList[e.identifier].update(e)},e.prototype._delete=function(e){delete this._touchList[e.identifier]},e.prototype._has=function(e){return this._touchList.hasOwnProperty(e.identifier)},e.prototype._setActiveID=function(e){this._activeTouchID=e[e.length-1].identifier},e.prototype._getActiveTracker=function(){return this._touchList[this._activeTouchID]},e}();!function(e){e.X="x",e.Y="y"}(Ya||(Ya={}));var Ga=function(){function e(e,t){void 0===t&&(t=0),this._direction=e,this._minSize=t,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+e}return e.prototype.attachTo=function(e){e.appendChild(this.element)},e.prototype.update=function(e,t,i){this.realSize=Math.min(t/i,1)*t,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=e/i*(t+(this.realSize-this.displaySize)),Wa(this.element,this._getStyle())},e.prototype._getStyle=function(){switch(this._direction){case Ya.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case Ya.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},e}(),$a=function(){function e(e,t){void 0===t&&(t=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+e,this.thumb=new Ga(e,t),this.thumb.attachTo(this.element)}return e.prototype.attachTo=function(e){e.appendChild(this.element)},e.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},e.prototype.hide=function(){this._isShown&&(this._isShown=!1,this.element.classList.remove("show"))},e.prototype.update=function(e,t,i){Wa(this.element,{display:i<=t?"none":"block"}),this.thumb.update(e,t,i)},e}(),Za=function(){function e(e){this._scrollbar=e;var t=e.options.thumbMinSize;this.xAxis=new $a(Ya.X,t),this.yAxis=new $a(Ya.Y,t),this.xAxis.attachTo(e.containerEl),this.yAxis.attachTo(e.containerEl),e.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}return e.prototype.update=function(){var e=this._scrollbar,t=e.size,i=e.offset;this.xAxis.update(i.x,t.container.width,t.content.width),this.yAxis.update(i.y,t.container.height,t.content.height)},e.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},Qo([Fa(300)],e.prototype,"autoHideOnIdle",null),e}();var Ka=new WeakMap;function Ja(e){return Math.pow(e-1,3)+1}var Qa,es,ts,is=function(){function e(e,t){var i=this.constructor;this.scrollbar=e,this.name=i.pluginName,this.options=Jo(Jo({},i.defaultOptions),t)}return e.prototype.onInit=function(){},e.prototype.onDestroy=function(){},e.prototype.onUpdate=function(){},e.prototype.onRender=function(e){},e.prototype.transformDelta=function(e,t){return Jo({},e)},e.pluginName="",e.defaultOptions={},e}(),ns={order:new Set,constructors:{}};function rs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){var t=e.pluginName;if(!t)throw new TypeError("plugin name is required");ns.order.add(t),ns.constructors[t]=e}))}function os(e){var t=Ba(e),i=e.containerEl;t(i,"keydown",(function(t){var n=document.activeElement;if((n===i||i.contains(n))&&!function(e){if("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!e.disabled;return!1}(n)){var r=function(e,t){var i=e.size,n=e.limit,r=e.offset;switch(t){case Qa.TAB:return function(e){requestAnimationFrame((function(){e.scrollIntoView(document.activeElement,{offsetTop:e.size.container.height/2,onlyScrollIfNeeded:!0})}))}(e);case Qa.SPACE:return[0,200];case Qa.PAGE_UP:return[0,40-i.container.height];case Qa.PAGE_DOWN:return[0,i.container.height-40];case Qa.END:return[0,n.y-r.y];case Qa.HOME:return[0,-r.y];case Qa.LEFT:return[-40,0];case Qa.UP:return[0,-40];case Qa.RIGHT:return[40,0];case Qa.DOWN:return[0,40];default:return null}}(e,t.keyCode||t.which);if(r){var o=r[0],a=r[1];e.addTransformableMomentum(o,a,t,(function(i){i?t.preventDefault():(e.containerEl.blur(),e.parent&&e.parent.containerEl.focus())}))}}}))}function as(e){var t,i,n,r,o,a=Ba(e),s=e.containerEl,l=e.track,u=l.xAxis,c=l.yAxis;function h(t,i){var n=e.size,r=e.limit,o=e.offset;if(t===es.X){var a=n.container.width+(u.thumb.realSize-u.thumb.displaySize);return ka(i/a*n.content.width,0,r.x)-o.x}if(t===es.Y){var s=n.container.height+(c.thumb.realSize-c.thumb.displaySize);return ka(i/s*n.content.height,0,r.y)-o.y}return 0}function d(e){return Na(e,[u.element,u.thumb.element])?es.X:Na(e,[c.element,c.thumb.element])?es.Y:void 0}a(s,"click",(function(t){if(!i&&Na(t.target,[u.element,c.element])){var n=t.target,r=d(n),o=n.getBoundingClientRect(),a=za(t);if(r===es.X){var s=a.x-o.left-u.thumb.displaySize/2;e.setMomentum(h(r,s),0)}if(r===es.Y){s=a.y-o.top-c.thumb.displaySize/2;e.setMomentum(0,h(r,s))}}})),a(s,"mousedown",(function(i){if(Na(i.target,[u.thumb.element,c.thumb.element])){t=!0;var a=i.target,l=za(i),h=a.getBoundingClientRect();r=d(a),n={x:l.x-h.left,y:l.y-h.top},o=s.getBoundingClientRect(),Wa(e.containerEl,{"-user-select":"none"})}})),a(window,"mousemove",(function(a){if(t){i=!0;var s=za(a);if(r===es.X){var l=s.x-n.x-o.left;e.setMomentum(h(r,l),0)}if(r===es.Y){l=s.y-n.y-o.top;e.setMomentum(0,h(r,l))}}})),a(window,"mouseup blur",(function(){t=i=!1,Wa(e.containerEl,{"-user-select":""})}))}function ss(e){Ba(e)(window,"resize",Ia(e.update.bind(e),300))}function ls(e){var t,i=Ba(e),n=e.containerEl,r=e.contentEl,o=!1,a=!1;i(window,"mousemove",(function(i){o&&(cancelAnimationFrame(t),function i(n){var r=n.x,o=n.y;if(r||o){var a=e.offset,s=e.limit;e.setMomentum(ka(a.x+r,0,s.x)-a.x,ka(a.y+o,0,s.y)-a.y),t=requestAnimationFrame((function(){i({x:r,y:o})}))}}(function(e,t){var i=e.bounding,n=i.top,r=i.right,o=i.bottom,a=i.left,s=za(t),l=s.x,u=s.y,c={x:0,y:0};if(0===l&&0===u)return c;l>r-20?c.x=l-r+20:l<a+20&&(c.x=l-a-20);u>o-20?c.y=u-o+20:u<n+20&&(c.y=u-n-20);return c.x*=2,c.y*=2,c}(e,i)))})),i(r,"contextmenu",(function(){a=!0,cancelAnimationFrame(t),o=!1})),i(r,"mousedown",(function(){a=!1})),i(r,"selectstart",(function(){a||(cancelAnimationFrame(t),o=!0)})),i(window,"mouseup blur",(function(){cancelAnimationFrame(t),o=!1,a=!1})),i(n,"scroll",(function(e){e.preventDefault(),n.scrollTop=n.scrollLeft=0}))}function us(e){var t,i=e.options.delegateTo||e.containerEl,n=new Xa,r=Ba(e),o=0;r(i,"touchstart",(function(i){n.track(i),e.setMomentum(0,0),0===o&&(t=e.options.damping,e.options.damping=Math.max(t,.5)),o++})),r(i,"touchmove",(function(t){if(!ts||ts===e){n.update(t);var i=n.getDelta(),r=i.x,o=i.y;e.addTransformableMomentum(r,o,t,(function(i){i&&t.cancelable&&(t.preventDefault(),ts=e)}))}})),r(i,"touchcancel touchend",(function(i){var r=n.getEasingDistance(t);e.addTransformableMomentum(r.x,r.y,i),0===--o&&(e.options.damping=t),n.release(i),ts=null}))}function cs(e){Ba(e)(e.options.delegateTo||e.containerEl,"onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel",(function(t){var i=function(e){if("deltaX"in e){var t=function(e){return fs[e]||fs[0]}(e.deltaMode);return{x:e.deltaX/hs*t,y:e.deltaY/hs*t}}if("wheelDeltaX"in e)return{x:e.wheelDeltaX/ds,y:e.wheelDeltaY/ds};return{x:0,y:e.wheelDelta/ds}}(t),n=i.x,r=i.y;e.addTransformableMomentum(n,r,t,(function(e){e&&t.preventDefault()}))}))}!function(e){e[e.TAB=9]="TAB",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN"}(Qa||(Qa={})),function(e){e[e.X=0]="X",e[e.Y=1]="Y"}(es||(es={}));var hs=1,ds=-3,fs=[1,28,500];var ps=new Map,gs=function(){function e(e,t){var i=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=e;var n=this.contentEl=document.createElement("div");this.options=new ja(t),e.setAttribute("data-scrollbar","true"),e.setAttribute("tabindex","-1"),Wa(e,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(e.style.msTouchAction="none"),n.className="scroll-content",Array.from(e.childNodes).forEach((function(e){n.appendChild(e)})),e.appendChild(n),this.track=new Za(this),this.size=this.getSize(),this._plugins=function(e,t){return Array.from(ns.order).filter((function(e){return!1!==t[e]})).map((function(i){var n=new(0,ns.constructors[i])(e,t[i]);return t[i]=n.options,n}))}(this,this.options.plugins);var r=e.scrollLeft,o=e.scrollTop;e.scrollLeft=e.scrollTop=0,this.setPosition(r,o,{withoutCallbacks:!0});var a=window.ResizeObserver;"function"==typeof a&&(this._observer=new a((function(){i.update()})),this._observer.observe(n)),ps.set(e,this),requestAnimationFrame((function(){i._init()}))}return Object.defineProperty(e.prototype,"parent",{get:function(){for(var e=this.containerEl.parentElement;e;){var t=ps.get(e);if(t)return t;e=e.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(e){this.setPosition(this.scrollLeft,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(e){this.setPosition(e,this.scrollTop)},enumerable:!0,configurable:!0}),e.prototype.getSize=function(){return t=(e=this).containerEl,i=e.contentEl,n=getComputedStyle(t),r=["paddingTop","paddingBottom","paddingLeft","paddingRight"].map((function(e){return n[e]?parseFloat(n[e]):0})),o=r[0]+r[1],a=r[2]+r[3],{container:{width:t.clientWidth,height:t.clientHeight},content:{width:i.offsetWidth-i.clientWidth+i.scrollWidth+a,height:i.offsetHeight-i.clientHeight+i.scrollHeight+o}};var e,t,i,n,r,o,a},e.prototype.update=function(){var e,t,i,n,r;t=(e=this).getSize(),i={x:Math.max(t.content.width-t.container.width,0),y:Math.max(t.content.height-t.container.height,0)},n=e.containerEl.getBoundingClientRect(),r={top:Math.max(n.top,0),right:Math.min(n.right,window.innerWidth),bottom:Math.min(n.bottom,window.innerHeight),left:Math.max(n.left,0)},e.size=t,e.limit=i,e.bounding=r,e.track.update(),e.setPosition(),this._plugins.forEach((function(e){e.onUpdate()}))},e.prototype.isVisible=function(e){return function(e,t){var i=e.bounding,n=t.getBoundingClientRect(),r=Math.max(i.top,n.top),o=Math.max(i.left,n.left),a=Math.min(i.right,n.right);return r<Math.min(i.bottom,n.bottom)&&o<a}(this,e)},e.prototype.setPosition=function(e,t,i){var n=this;void 0===e&&(e=this.offset.x),void 0===t&&(t=this.offset.y),void 0===i&&(i={});var r=function(e,t,i){var n=e.options,r=e.offset,o=e.limit,a=e.track,s=e.contentEl;return n.renderByPixels&&(t=Math.round(t),i=Math.round(i)),t=ka(t,0,o.x),i=ka(i,0,o.y),t!==r.x&&a.xAxis.show(),i!==r.y&&a.yAxis.show(),n.alwaysShowTracks||a.autoHideOnIdle(),t===r.x&&i===r.y?null:(r.x=t,r.y=i,Wa(s,{"-transform":"translate3d("+-t+"px, "+-i+"px, 0)"}),a.update(),{offset:Jo({},r),limit:Jo({},o)})}(this,e,t);r&&!i.withoutCallbacks&&this._listeners.forEach((function(e){e.call(n,r)}))},e.prototype.scrollTo=function(e,t,i,n){void 0===e&&(e=this.offset.x),void 0===t&&(t=this.offset.y),void 0===i&&(i=0),void 0===n&&(n={}),function(e,t,i,n,r){void 0===n&&(n=0);var o=void 0===r?{}:r,a=o.easing,s=void 0===a?Ja:a,l=o.callback,u=e.options,c=e.offset,h=e.limit;u.renderByPixels&&(t=Math.round(t),i=Math.round(i));var d=c.x,f=c.y,p=ka(t,0,h.x)-d,g=ka(i,0,h.y)-f,v=Date.now();cancelAnimationFrame(Ka.get(e)),function t(){var i=Date.now()-v,r=n?s(Math.min(i/n,1)):1;if(e.setPosition(d+p*r,f+g*r),i>=n)"function"==typeof l&&l.call(e);else{var o=requestAnimationFrame(t);Ka.set(e,o)}}()}(this,e,t,i,n)},e.prototype.scrollIntoView=function(e,t){void 0===t&&(t={}),function(e,t,i){var n=void 0===i?{}:i,r=n.alignToTop,o=void 0===r||r,a=n.onlyScrollIfNeeded,s=void 0!==a&&a,l=n.offsetTop,u=void 0===l?0:l,c=n.offsetLeft,h=void 0===c?0:c,d=n.offsetBottom,f=void 0===d?0:d,p=e.containerEl,g=e.bounding,v=e.offset,m=e.limit;if(t&&p.contains(t)){var y=t.getBoundingClientRect();if(!s||!e.isVisible(t)){var b=o?y.top-g.top-u:y.bottom-g.bottom+f;e.setMomentum(y.left-g.left-h,ka(b,-v.y,m.y-v.y))}}}(this,e,t)},e.prototype.addListener=function(e){if("function"!=typeof e)throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(e)},e.prototype.removeListener=function(e){this._listeners.delete(e)},e.prototype.addTransformableMomentum=function(e,t,i,n){this._updateDebounced();var r=this._plugins.reduce((function(e,t){return t.transformDelta(e,i)||e}),{x:e,y:t}),o=!this._shouldPropagateMomentum(r.x,r.y);o&&this.addMomentum(r.x,r.y),n&&n.call(this,o)},e.prototype.addMomentum=function(e,t){this.setMomentum(this._momentum.x+e,this._momentum.y+t)},e.prototype.setMomentum=function(e,t){0===this.limit.x&&(e=0),0===this.limit.y&&(t=0),this.options.renderByPixels&&(e=Math.round(e),t=Math.round(t)),this._momentum.x=e,this._momentum.y=t},e.prototype.updatePluginOptions=function(e,t){this._plugins.forEach((function(i){i.name===e&&Object.assign(i.options,t)}))},e.prototype.destroy=function(){var e,t,i=this.containerEl,n=this.contentEl;e=this,(t=qa.get(e))&&(t.forEach((function(e){var t=e.elem,i=e.eventName,n=e.handler;t.removeEventListener(i,n,Ra())})),qa.delete(e)),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),ps.delete(this.containerEl);for(var r=Array.from(n.childNodes);i.firstChild;)i.removeChild(i.firstChild);r.forEach((function(e){i.appendChild(e)})),Wa(i,{overflow:""}),i.scrollTop=this.scrollTop,i.scrollLeft=this.scrollLeft,this._plugins.forEach((function(e){e.onDestroy()})),this._plugins.length=0},e.prototype._init=function(){var e=this;this.update(),Object.keys(n).forEach((function(t){n[t](e)})),this._plugins.forEach((function(e){e.onInit()})),this._render()},e.prototype._updateDebounced=function(){this.update()},e.prototype._shouldPropagateMomentum=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var i=this.options,n=this.offset,r=this.limit;if(!i.continuousScrolling)return!1;0===r.x&&0===r.y&&this._updateDebounced();var o=ka(e+n.x,0,r.x),a=ka(t+n.y,0,r.y),s=!0;return s=(s=(s=s&&o===n.x)&&a===n.y)&&(n.x===r.x||0===n.x||n.y===r.y||0===n.y)},e.prototype._render=function(){var e=this._momentum;if(e.x||e.y){var t=this._nextTick("x"),i=this._nextTick("y");e.x=t.momentum,e.y=i.momentum,this.setPosition(t.position,i.position)}var n=Jo({},this._momentum);this._plugins.forEach((function(e){e.onRender(n)})),this._renderID=requestAnimationFrame(this._render.bind(this))},e.prototype._nextTick=function(e){var t=this.options,i=this.offset,n=this._momentum,r=i[e],o=n[e];if(Math.abs(o)<=.1)return{momentum:0,position:r+o};var a=o*(1-t.damping);return t.renderByPixels&&(a|=0),{momentum:a,position:r+o-a}},Qo([Fa(100,{leading:!0})],e.prototype,"_updateDebounced",null),e}(),vs=!1;function ms(){if(!vs&&"undefined"!=typeof window){var e=document.createElement("style");e.id="smooth-scrollbar-style",e.textContent="\n[data-scrollbar] {\n  display: block;\n  position: relative;\n}\n\n.scroll-content {\n  display: flow-root;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n\n.scrollbar-track {\n  position: absolute;\n  opacity: 0;\n  z-index: 1;\n  background: rgba(222, 222, 222, .75);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-transition: opacity 0.5s 0.5s ease-out;\n          transition: opacity 0.5s 0.5s ease-out;\n}\n.scrollbar-track.show,\n.scrollbar-track:hover {\n  opacity: 1;\n  -webkit-transition-delay: 0s;\n          transition-delay: 0s;\n}\n\n.scrollbar-track-x {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n}\n.scrollbar-track-y {\n  top: 0;\n  right: 0;\n  width: 8px;\n  height: 100%;\n}\n.scrollbar-thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 8px;\n  height: 8px;\n  background: rgba(0, 0, 0, .5);\n  border-radius: 4px;\n}\n",document.head&&document.head.appendChild(e),vs=!0}}var ys,bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ko(t,e),t.init=function(e,t){if(!e||1!==e.nodeType)throw new TypeError("expect element to be DOM Element, but got "+e);return ms(),ps.has(e)?ps.get(e):new gs(e,t)},t.initAll=function(e){return Array.from(document.querySelectorAll("[data-scrollbar]"),(function(i){return t.init(i,e)}))},t.has=function(e){return ps.has(e)},t.get=function(e){return ps.get(e)},t.getAll=function(){return Array.from(ps.values())},t.destroy=function(e){var t=ps.get(e);t&&t.destroy()},t.destroyAll=function(){ps.forEach((function(e){e.destroy()}))},t.use=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rs.apply(void 0,e)},t.attachStyle=function(){return ms()},t.detachStyle=function(){return function(){if(vs&&"undefined"!=typeof window){var e=document.getElementById("smooth-scrollbar-style");e&&e.parentNode&&(e.parentNode.removeChild(e),vs=!1)}}()},t.version="8.7.5",t.ScrollbarPlugin=is,t}(gs),ws=function(){function e(e){this._scrollbar=e}return e.prototype.render=function(e){var t=e.x,i=void 0===t?0:t,n=e.y,r=void 0===n?0:n,o=this._scrollbar,a=o.size,s=o.track,l=o.offset;if(Wa(o.contentEl,{"-transform":"translate3d("+-(l.x+i)+"px, "+-(l.y+r)+"px, 0)"}),i){s.xAxis.show();var u=a.container.width/(a.container.width+Math.abs(i));Wa(s.xAxis.thumb.element,{"-transform":"translate3d("+s.xAxis.thumb.offset+"px, 0, 0) scale3d("+u+", 1, 1)","-transform-origin":i<0?"left":"right"})}if(r){s.yAxis.show();u=a.container.height/(a.container.height+Math.abs(r));Wa(s.yAxis.thumb.element,{"-transform":"translate3d(0, "+s.yAxis.thumb.offset+"px, 0) scale3d(1, "+u+", 1)","-transform-origin":r<0?"top":"bottom"})}s.autoHideOnIdle()},e}(),xs=function(){function e(e){this._scrollbar=e,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),Wa(this._canvas,{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none"})}return e.prototype.mount=function(){this._scrollbar.containerEl.appendChild(this._canvas)},e.prototype.unmount=function(){this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},e.prototype.adjust=function(){var e=this._scrollbar.size,t=window.devicePixelRatio||1,i=e.container.width*t,n=e.container.height*t;i===this._canvas.width&&n===this._canvas.height||(this._canvas.width=i,this._canvas.height=n,this._ctx.scale(t,t))},e.prototype.recordTouch=function(e){var t=e.touches[e.touches.length-1];this._touchX=t.clientX,this._touchY=t.clientY},e.prototype.render=function(e,t){var i=e.x,n=void 0===i?0:i,r=e.y,o=void 0===r?0:r;if(n||o){Wa(this._canvas,{display:"block"});var a=this._scrollbar.size;this._ctx.clearRect(0,0,a.container.width,a.container.height),this._ctx.fillStyle=t,this._renderX(n),this._renderY(o)}else Wa(this._canvas,{display:"none"})},e.prototype._getMaxOverscroll=function(){var e=this._scrollbar.options.plugins.overscroll;return e&&e.maxOverscroll?e.maxOverscroll:150},e.prototype._renderX=function(e){var t=this._scrollbar.size,i=this._getMaxOverscroll(),n=t.container,r=n.width,o=n.height,a=this._ctx;a.save(),e>0&&a.transform(-1,0,0,1,r,0);var s=ka(Math.abs(e)/i,0,.75),l=ka(s,0,.25)*r,u=Math.abs(e),c=this._touchY||o/2;a.globalAlpha=s,a.beginPath(),a.moveTo(0,-l),a.quadraticCurveTo(u,c,0,o+l),a.fill(),a.closePath(),a.restore()},e.prototype._renderY=function(e){var t=this._scrollbar.size,i=this._getMaxOverscroll(),n=t.container,r=n.width,o=n.height,a=this._ctx;a.save(),e>0&&a.transform(1,0,0,-1,0,o);var s=ka(Math.abs(e)/i,0,.75),l=ka(s,0,.25)*r,u=this._touchX||r/2,c=Math.abs(e);a.globalAlpha=s,a.beginPath(),a.moveTo(-l,0),a.quadraticCurveTo(u,c,r+l,0),a.fill(),a.closePath(),a.restore()},e}();!function(e){e.BOUNCE="bounce",e.GLOW="glow"}(ys||(ys={}));var Ds=/wheel|touch/,Ss=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._glow=new xs(t.scrollbar),t._bounce=new ws(t.scrollbar),t._wheelScrollBack={x:!1,y:!1},t._lockWheel={x:!1,y:!1},t._touching=!1,t._amplitude={x:0,y:0},t._position={x:0,y:0},t._releaseWheel=Ia((function(){t._lockWheel.x=!1,t._lockWheel.y=!1}),30),t}return Ko(t,e),Object.defineProperty(t.prototype,"_isWheelLocked",{get:function(){return this._lockWheel.x||this._lockWheel.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_enabled",{get:function(){return!!this.options.effect},enumerable:!0,configurable:!0}),t.prototype.onInit=function(){var e=this._glow,t=this.options,i=this.scrollbar,n=t.effect;Object.defineProperty(t,"effect",{get:function(){return n},set:function(t){if(t){if(t!==ys.BOUNCE&&t!==ys.GLOW)throw new TypeError("unknow overscroll effect: "+t);n=t,i.options.continuousScrolling=!1,t===ys.GLOW?(e.mount(),e.adjust()):e.unmount()}else n=void 0}}),t.effect=n},t.prototype.onUpdate=function(){this.options.effect===ys.GLOW&&this._glow.adjust()},t.prototype.onRender=function(e){if(this._enabled){this.scrollbar.options.continuousScrolling&&(this.scrollbar.options.continuousScrolling=!1);var t=e.x,i=e.y;!this._amplitude.x&&this._willOverscroll("x",e.x)&&(t=0,this._absorbMomentum("x",e.x)),!this._amplitude.y&&this._willOverscroll("y",e.y)&&(i=0,this._absorbMomentum("y",e.y)),this.scrollbar.setMomentum(t,i),this._render()}},t.prototype.transformDelta=function(e,t){if(this._lastEventType=t.type,!this._enabled||!Ds.test(t.type))return e;this._isWheelLocked&&/wheel/.test(t.type)&&(this._releaseWheel(),this._willOverscroll("x",e.x)&&(e.x=0),this._willOverscroll("y",e.y)&&(e.y=0));var i=e.x,n=e.y;switch(this._willOverscroll("x",e.x)&&(i=0,this._addAmplitude("x",e.x)),this._willOverscroll("y",e.y)&&(n=0,this._addAmplitude("y",e.y)),t.type){case"touchstart":case"touchmove":this._touching=!0,this._glow.recordTouch(t);break;case"touchcancel":case"touchend":this._touching=!1}return{x:i,y:n}},t.prototype._willOverscroll=function(e,t){if(!t)return!1;if(this._position[e])return!0;var i=this.scrollbar.offset[e],n=this.scrollbar.limit[e];return 0!==n&&(ka(i+t,0,n)===i&&(0===i||i===n))},t.prototype._absorbMomentum=function(e,t){var i=this.options,n=this._lastEventType,r=this._amplitude;Ds.test(n)&&(r[e]=ka(t,-i.maxOverscroll,i.maxOverscroll))},t.prototype._addAmplitude=function(e,t){var i=this.options,n=this.scrollbar,r=this._amplitude,o=this._position,a=r[e],s=t*a<0,l=a+t*(1-(s?0:this._wheelScrollBack[e]?1:Math.abs(a/i.maxOverscroll)));r[e]=0===n.offset[e]?ka(l,-i.maxOverscroll,0):ka(l,0,i.maxOverscroll),s&&(o[e]=r[e])},t.prototype._render=function(){var e=this.options,t=this._amplitude,i=this._position;if(this._enabled&&(t.x||t.y||i.x||i.y)){var n=this._nextAmp("x"),r=this._nextAmp("y");switch(t.x=n.amplitude,i.x=n.position,t.y=r.amplitude,i.y=r.position,e.effect){case ys.BOUNCE:this._bounce.render(i);break;case ys.GLOW:this._glow.render(i,this.options.glowColor)}"function"==typeof e.onScroll&&e.onScroll.call(this,Jo({},i))}},t.prototype._nextAmp=function(e){var t=this.options,i=this._amplitude,n=this._position,r=1-t.damping,o=i[e],a=n[e],s=this._touching?o:o*r|0,l=s-a,u=a+l-(l*r|0);return!this._touching&&Math.abs(u)<Math.abs(a)&&(this._wheelScrollBack[e]=!0),this._wheelScrollBack[e]&&Math.abs(u)<=1&&(this._wheelScrollBack[e]=!1,this._lockWheel[e]=!0),{amplitude:s,position:u}},t.pluginName="overscroll",t.defaultOptions={effect:ys.BOUNCE,onScroll:void 0,damping:.2,maxOverscroll:150,glowColor:"#87ceeb"},t}(is);function _s(e){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cs(e,t)}function Cs(e,t){return(Cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=As(e);if(t){var r=As(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ts(this,i)}}function Ts(e,t){if(t&&("object"===_s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function As(e){return(As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ps(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ls(e,t,i){return t&&Ps(e.prototype,t),i&&Ps(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Is(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Fs=function(){function e(){var t=this;Os(this,e),Is(this,"onScroll",(function(e){var i=e.offset.y>0?e.offset.y-t.prevY:0;t.speed={value:i,changed:e.changedSpeed||t.prevSpeed!==i},t.scroll={y:e.offset.y,changed:e.changedScroll||e.offset.y!==t.prevY},t.runCallbacks(),t.prevY=e.offset.y,t.prevSpeed=i})),this.instances=[],this.hasListener=!1,this.scroll={y:0,changed:!1},this.speed={value:0,changed:!1},this.prevSpeed=0,this.prevY=0,this.init()}return Ls(e,[{key:"runCallbacks",value:function(){var e=this;this.instances.forEach((function(t){return t.onScroll&&t.onScroll({scroll:e.scroll,speed:e.speed})}))}},{key:"add",value:function(e){this.instances.push(e)}},{key:"disableScroll",value:function(){this.instance&&this.instance.updatePluginOptions("scrollEnabler",{paused:!0})}},{key:"enableScroll",value:function(){this.instance&&this.instance.updatePluginOptions("scrollEnabler",{paused:!1})}},{key:"addListener",value:function(){this.instance&&!this.hasListener&&(this.instance.addListener(this.onScroll),this.hasListener=!0)}},{key:"removeListener",value:function(){this.instance&&this.hasListener&&(this.instance.removeListener(this.onScroll),this.hasListener=!1)}},{key:"init",value:function(){this.container=(wr.nextContainer||document).querySelector("[data-scroll-container]"),this.container&&(bs.use(Ms,js,Ss),this.instance=bs.init(this.container,{plugins:{overscroll:{effect:"glow",glowColor:"#464344"}}}),this.addListener(),this.scroll.y=this.instance.offset.y,this.runCallbacks())}},{key:"resize",value:function(){var e=this;this.instance&&(this.instance.update(),this.scroll={y:this.instance.offset.y,changed:!0},this.speed.changed=!0,setTimeout((function(){return e.runCallbacks()}),50))}},{key:"destroy",value:function(){this.instance&&(this.removeListener(),this.instance.destroy(),this.instance=null),this.instances=[]}}]),e}(),Ms=function(e){Es(i,e);var t=ks(i);function i(){return Os(this,i),t.apply(this,arguments)}return Ls(i,[{key:"transformDelta",value:function(e){return this.options.paused?{x:0,y:0}:e}}]),i}(is);Is(Ms,"pluginName","scrollEnabler"),Is(Ms,"defaultOptions",{paused:!1});var js=function(e){Es(i,e);var t=ks(i);function i(){return Os(this,i),t.apply(this,arguments)}return Ls(i,[{key:"transformDelta",value:function(e){return{x:e.x,y:Dr.device>1?Ur(e.y,-60,60):e.y}}}]),i}(is);function qs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Is(js,"pluginName","speedLimiter");var Rs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=[],this.sections=[],this.shouldCheck=!0,this.init()}var t,i,n;return t=e,(i=[{key:"disableCheck",value:function(){this.shouldCheck=!1}},{key:"enableCheck",value:function(){this.shouldCheck=!0}},{key:"hideAll",value:function(){this.elements.forEach((function(e){return e.el.setAttribute("data-hide","fast")}))}},{key:"showAll",value:function(){var e=this;this.elements.forEach((function(t){for(var i=!0,n=0;n<e.sections.length;n++)t.isEntered[n]&&(i=!1);i&&t.el.removeAttribute("data-hide")}))}},{key:"onScroll",value:function(e){var t=this,i=e.scroll;this.elements.forEach((function(e){return t.watchElement(e,{scroll:i})}))}},{key:"watchElement",value:function(e,t,i,n){var r=t.scroll;if(this.shouldCheck&&r.changed){var o=!1;if(e.isEntered&&e.isEntered.length===this.sections.length||(e.isEntered=new Array(this.sections.length).fill(!1)),this.sections.forEach((function(t,n){!t.ignore&&t.top-r.y<=(e.topOffset||e.offset)&&t.bottom-r.y>=(e.bottomOffset||e.offset)&&(o=!0,i?i(t):e.isEntered[n]||(e.isEntered[n]=!0,e.el.setAttribute("data-hide","")))})),!o)for(var a=0;a<e.isEntered.length;a++)e.isEntered[a]&&(n?n():(e.isEntered[a]=!1,e.el.removeAttribute("data-hide")));return o}}},{key:"init",value:function(){var e=this,t=document.querySelectorAll("[data-switch-element]");(wr.nextContainer||document).querySelectorAll('[data-switch="hide"]').forEach((function(t){var i=vr.get("scrollManager"),n=i&&i.scroll?i.scroll.y:0,r=t.getBoundingClientRect();e.sections.push({el:t,top:n+r.top-wr.oldContainerHeight,bottom:n+r.top+r.height-wr.oldContainerHeight,ignore:t.hasAttribute("data-switch-ignore")})})),t.forEach((function(t){var i=t.getBoundingClientRect();e.elements.push({el:t,top:i.top-wr.oldContainerHeight,height:i.height,offset:i.top+i.height/2,isEntered:new Array(e.sections.length).fill(!1)})}))}},{key:"resize",value:function(){this.elements=[],this.sections=[],this.init()}},{key:"destroy",value:function(){this.elements.forEach((function(e){e.el.removeAttribute("data-hide")}))}}])&&qs(t.prototype,i),n&&qs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var zs=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"identity",value:function(e){return(e=e||new Float32Array(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"setTranslation",value:function(e,t,i){return e!==(i=i||this.identity())&&(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11]),i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}},{key:"frustum",value:function(e,t,i,n,r,o,a){var s=t-e,l=n-i,u=r-o;return(a=a||new Float32Array(16))[0]=2*r/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*r/l,a[6]=0,a[7]=0,a[8]=(e+t)/s,a[9]=(n+i)/l,a[10]=o/u,a[11]=-1,a[12]=0,a[13]=0,a[14]=r*o/u,a[15]=0,a}},{key:"scale",value:function(e,t,i){i=i||new Float32Array(16);var n=t[0],r=t[1],o=t[2];return i[0]=n*e[0],i[1]=n*e[1],i[2]=n*e[2],i[3]=n*e[3],i[4]=r*e[4],i[5]=r*e[5],i[6]=r*e[6],i[7]=r*e[7],i[8]=o*e[8],i[9]=o*e[9],i[10]=o*e[10],i[11]=o*e[11],e!==i&&(i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i}}])&&Bs(t.prototype,i),n&&Bs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Ns(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Hs=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){if(e.preventDefault(),!r.isLoadingNext){r.isLoadingNext=!0;var t=e.currentTarget.dataset.url;"about"===yr.get("page")&&wr.getActives(),wr.activeProject="single-case"===yr.get("page")?Nr(wr.activeCategory.projects.findIndex((function(e){return e.id===wr.activeProject.id}))+1,wr.activeCategory.projects):Nr(wr.activeCategory.projects.findIndex((function(e){return e.id===wr.activeProject.id})),wr.activeCategory.projects),vr.call("scrollManager","disableScroll"),document.body.classList.add("is-animating"),Dr.device>1&&uo.trigger("loadOn"),vr.call("router","goTo",t)}},(i="onClick")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.target=(wr.nextContainer||document).querySelector(".js-case-next"),this.measureEl=(wr.nextContainer||document).querySelector(".js-case-next-measure"),this.hasChanged=!1,this.isLoadingNext=!1,this.isBlockMoved=!1,this.init()}var t,i,n;return t=e,(i=[{key:"initObserver",value:function(){var e=this;this.image=vr.call("loaderManager","addImage",this.imageEl),this.observer=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(vr.call("imageLoader","load",e.image,(function(e){vr.call("imageLoader","onLazyLoad",e),vr.call("scrollGL","onImageLoad",e),vr.call("scrollGL","onImageAppear",e)})),e.observer.unobserve(e.measureEl))}))}),{root:wr.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(3*Dr.window.height,"px 0px")}),this.observer.observe(this.measureEl)}},{key:"setup",value:function(){this.measureEl.style.height="".concat(2===Dr.device?2.5*Dr.window.height:Dr.window.height,"px");var e=this.measureEl.getBoundingClientRect(),t=this.imageEl.getBoundingClientRect(),i=vr.get("scrollManager"),n=i&&i.scroll?i.scroll.y:0;this.top=n+e.top-wr.oldContainerHeight,this.height=e.height,this.translate=Dr.window.height-t.top,kn.set(this.imageEl,{y:this.translate}),kn.set(this.percentage,{y:this.translate}),Dr.device>=3?(this.nextHead.forEach((function(e){return e.setAttribute("data-hover","scale")})),this.nextImgInner.forEach((function(e){return e.setAttribute("data-hover","scale")})),uo.reinit()):(this.nextHead.forEach((function(e){return e.removeAttribute("data-hover")})),this.nextImgInner.forEach((function(e){return e.removeAttribute("data-hover")})))}},{key:"addClickListeners",value:function(){this.nextTogglers=(wr.nextContainer||document).querySelectorAll(".js-case-next-toggler");for(var e=0;e<this.nextTogglers.length;e++)this.nextTogglers[e].addEventListener("click",this.onClick)}},{key:"onScroll",value:function(e){var t=e.scroll;if(this.target&&2===Dr.device&&!wr.isIos&&!Dr.isFakeMobile)if(t.y>=this.top){this.hasEntered||(this.hasEntered=!0);var i=Ur(Math.round((t.y-this.top)/(this.height-Dr.window.height)*100)/100,0,1);if(this.progress.innerText="".concat(parseInt(100*i),"%"),kn.timeline().set(this.percentage,{y:Pr(i,0,1,this.translate,0)}).to(this.icon,{duration:.25,opacity:1-i},0).to(this.lineBar,{duration:.25,scaleX:i},0).to(this.letters,0,{duration:0,opacity:function(e){return 1-i*(.7*e+1)}},0),1===i&&!this.hasChanged){this.hasChanged=!0;var n=this.target.dataset.url;"about"===yr.get("page")&&wr.getActives(),wr.activeProject="single-case"===yr.get("page")?Nr(wr.activeCategory.projects.findIndex((function(e){return e.id===wr.activeProject.id}))+1,wr.activeCategory.projects):Nr(wr.activeCategory.projects.findIndex((function(e){return e.id===wr.activeProject.id})),wr.activeCategory.projects),vr.call("scrollManager","disableScroll"),document.body.classList.add("is-animating"),Dr.device>1&&uo.trigger("loadOn"),vr.call("router","goTo",n)}}else this.hasEntered&&(this.hasEntered=!1,this.progress.innerText="0%",kn.timeline().set(this.percentage,{y:this.translate}).to(this.icon,{duration:.25,opacity:1},0).to(this.lineBar,{duration:.25,scaleX:0},0).set(this.letters,{opacity:1},0));if(this.target&&Dr.device>=3&&t.y>=this.scrollDelimeter){var r=Math.ceil(Pr(t.y+Dr.window.height,this.scrollDelimeter,this.scrollDocHeight,900,0));kn.set(this.nextImgContainer,{y:r})}}},{key:"resize",value:function(){this.target&&this.measureEl&&(kn.set(this.imageEl,{y:0}),kn.set(this.percentage,{clearProps:"all"}),this.setup(),this.scrollDelimeter=this.scrollManager.container.scrollHeight-(1.5*Dr.window.height+wr.oldContainerHeight),this.scrollDocHeight=this.scrollManager.container.scrollHeight)}},{key:"init",value:function(){this.target&&this.measureEl&&(this.icon=this.target.querySelectorAll(".case-next__head-icon svg"),this.lineBar=this.target.querySelector("[data-line]"),this.nextHead=(wr.nextContainer||document).querySelectorAll(".case-next__head"),this.nextImgContainer=(wr.nextContainer||document).querySelector(".case-next__img"),this.nextImgInner=(wr.nextContainer||document).querySelectorAll(".case-next__img-inner"),this.letters=this.target.querySelectorAll(".case-next__head-text:not(.case-next__head-text-mobile):not(.case-next__head-text-hd) .char"),this.progress=this.target.querySelector("[data-progress]"),this.imageEl=2!==Dr.device||wr.isIos?this.measureEl.querySelector("[data-next-img]"):this.target.querySelector("[data-next-img]"),this.percentage=this.target.querySelector(".case-next__img-percentage"),this.setup(),this.initObserver(),this.scrollManager=vr.get("scrollManager"),this.scrollDelimeter=this.scrollManager.container.scrollHeight-(1.5*Dr.window.height+wr.oldContainerHeight),this.scrollDocHeight=this.scrollManager.container.scrollHeight,Dr.device>=3&&kn.set(this.nextImgContainer,{y:300}),(Dr.device>=3||wr.isIos||Dr.isFakeMobile||Dr.device<2)&&this.addClickListeners())}},{key:"destroy",value:function(){this.observer.disconnect(),this.hasChanged=!1}}])&&Ns(t.prototype,i),n&&Ns(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Us(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ws=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.images=[],this.slides=[],this.activeIndex=0,this.isAnimating=!1,this.init()}var t,i,n;return t=e,(i=[{key:"setupDimensions",value:function(){var e=this.titleWrap.querySelector("h1");kn.set(this.titleWrap,{height:"".concat(e.getBoundingClientRect().height,"px")})}},{key:"setupIndex",value:function(){this.indexNum&&(this.indexNum.textContent=this.slides.length<10?"0".concat(this.activeIndex+1):this.activeIndex+1)}},{key:"goPrev",value:function(){this.isAnimating||(this.activeIndex=0===this.activeIndex?this.slides.length-1:this.activeIndex-1,this.isAnimating=!0,this.onSlideChange())}},{key:"goNext",value:function(){this.isAnimating||(this.activeIndex=this.activeIndex+1===this.slides.length?0:this.activeIndex+1,this.isAnimating=!0,this.onSlideChange())}},{key:"appendItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"articles-slider__wrap-el",o=document.createDocumentFragment(),a=document.createElement("div"),s=document.createElement(t);s.innerHTML=e,""!==i&&(s.className=i),a.appendChild(s),a.className=r,kn.set(a,{opacity:0,position:"absolute",top:0,left:0}),o.appendChild(a),n.appendChild(o)}},{key:"animateTitle",value:function(){var e=vr.get("textSplit"),t=this.titleWrap.querySelectorAll(".articles-slider__wrap-el"),i=t[0].querySelectorAll(".line-child"),n=t[1].querySelector("h1"),r=kn.timeline();return r.to(i,{duration:.65,y:"-100%",stagger:.125,ease:pi.easeInOut}).set(t[0],{opacity:0,onComplete:function(){e.create(n,{type:"lines",linesClass:"line-parent"}),e.create(n.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"});var i=t[1].querySelectorAll(".line-child");kn.set(i,{y:"100%"}),kn.set(t[1],{opacity:1}),kr(t[0]),kn.to(i,{duration:.55,y:"0%",stagger:.2})}}),r}},{key:"animateText",value:function(){var e=this.textWrap.querySelectorAll(".articles-slider__wrap-el"),t=kn.timeline();return t.to(e[0],.6,{y:-50,opacity:0,ease:gi.easeInOut,onComplete:function(){kn.set(e[1],{y:50,opacity:0})}}).to(e[1],.6,{y:0,opacity:1,ease:gi.easeInOut,onComplete:function(){kn.set(e[1],{position:"relative",top:"auto",left:"auto"}),kr(e[0])}}),t}},{key:"animateIndex",value:function(){var e=this.indexWrap.querySelectorAll(".articles-slider__wrap-el");kn.set(e[1],{y:"100%",skewY:"8deg",opacity:1});var t=kn.timeline({onComplete:function(){kn.set(e[1],{position:"relative",top:"auto",left:"auto"}),kr(e[0])}});return t.to(e[0],.7,{y:"-100%",skewY:"-8deg",ease:gi.easeInOut}).to(e[1],.7,{y:"0%",skewY:"0deg",ease:gi.easeInOut},"-=0.7"),t}},{key:"onSlideChange",value:function(){var e=this,t=this.slides[this.activeIndex],i=t.dataset.title,n=t.dataset.text,r=t.dataset.url;this.appendItem(i,"h1","",this.titleWrap),this.appendItem(n,"p","h5",this.textWrap),this.appendItem(this.activeIndex+1<10?"0".concat(this.activeIndex+1):this.activeIndex+1,"div","",this.indexWrap),this.mainLink.setAttribute("href",r),kn.timeline({onComplete:function(){e.isAnimating=!1}}).add(this.animateTitle()).add(this.animateText(),"-=0.45").add(this.animateIndex(),"-=0.7")}},{key:"resize",value:function(){this.slides.length&&this.setupDimensions()}},{key:"init",value:function(){this.container&&(this.slider=this.container.querySelector(".js-articles-slider"),this.slides=this.container.querySelectorAll(".js-articles-slider-item"),this.titleWrap=this.container.querySelector(".js-articles-slider-title-wrap"),this.textWrap=this.container.querySelector(".js-articles-slider-text-wrap"),this.mainLink=this.container.querySelector(".js-articles-slider-main-link"),this.indexWrap=this.container.querySelector(".js-articles-slider-index-wrap"),this.indexNum=this.container.querySelector(".js-articles-slider-index"),this.setupDimensions(),this.setupIndex())}}])&&Us(t.prototype,i),n&&Us(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vs(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xs(e,t,i){return t&&Vs(e.prototype,t),i&&Vs(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gs(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $s=function(){function e(t,i,n,r){var o=this;Ys(this,e),Gs(this,"prev",(function(e){o.isAnimating||(e&&(o.direction=[wr.isFirefox?1:-1,0]),o.goTo(o.activeIndex-1),o.articleSlider&&o.articleSlider.goPrev())})),Gs(this,"next",(function(e){o.isAnimating||(e&&(o.direction=[wr.isFirefox?-1:1,0]),o.goTo(o.activeIndex+1),o.articleSlider&&o.articleSlider.goNext())})),Gs(this,"onDragStart",(function(e){var t=e.type.indexOf("touch")>-1;o.dragStart.x=t?e.touches[0].clientX:e.clientX,o.dragStart.y=t?e.touches[0].clientY:e.clientY,setTimeout((function(){o.dragStart.x===o.dragEnd.x&&o.dragStart.y===o.dragEnd.y||(uo.trigger("dragOn"),o.cursorLayer.classList.add("grabbing"))}),300)})),Gs(this,"onDragEnd",(function(e){var t=e.type.indexOf("touch")>-1;o.dragEnd.x=t?e.touches.length?e.touches[0].clientX:e.changedTouches[0].clientX:e.clientX,o.dragEnd.y=t?e.touches.length?e.touches[0].clientY:e.changedTouches[0].clientY:e.clientY,o.dragDelta.x=o.dragEnd.x-o.dragStart.x,o.dragDelta.y=o.dragEnd.y-o.dragStart.y;var i=o.dragDelta.y<-50?wr.isFirefox?-1:1:o.dragDelta.y>50?wr.isFirefox?1:-1:0;o.dragDelta.x>50?(o.direction=[wr.isFirefox?-1:1,i],o.next()):o.dragDelta.x<-50&&(o.direction=[wr.isFirefox?1:-1,i],o.prev()),Dr.device>=2&&setTimeout((function(){uo.trigger("dragOff"),0===o.dragDelta.x&&0===o.dragDelta.y&&uo.trigger("defaultOff"),o.cursorLayer.classList.remove("grabbing")}),400)})),Gs(this,"onKeyUp",(function(e){o.isAnimating||(o.slides.length&&o.slider&&("38"==e.keyCode||"40"==e.keyCode?e.preventDefault():"37"==e.keyCode?o.slider.goPrev():"39"==e.keyCode&&o.slider.goNext()),"27"==e.keyCode&&o.isOpen&&o.close())})),Gs(this,"open",(function(){2!=Dr.device||wr.isIos||o.isAnimating||o.currentSlide.isLoadedFull&&o.loadAll((function(){o.isOpen=!0,o.parentInstance.isZoomOpen=!0,vr.call("scrollManager","disableScroll");var e=vr.get("scrollManager"),t=e?e.speed.value:0;setTimeout((function(){o.toggleCase(),ao.removeListeners(),ao.animateToggleIn(),o.changeDataColor();var e=document.querySelector(".nav__logo");e&&e.setAttribute("data-hide",""),o.isAnimating=!0,kn.to([o.openProgress,o.parentInstance.zoomProgress],{v:1,duration:1,onComplete:function(){o.slider?o.slider.open((function(){o.slider.addListeners(),o.cursorLayer.classList.add("is-active"),o.isAnimating=!1})):(o.cursorLayer.classList.add("is-active"),o.isAnimating=!1),ao.toggler.addEventListener("click",o.close),o.addZoomListeners(),o.slides.length>1&&o.changeDataColor()}})}),Pr(Math.abs(t),0,10,100,800))}))})),Gs(this,"close",(function(){o.isAnimating||(o.isAnimating=!0,o.slider&&o.slider.removeListeners(),ao.toggler.removeEventListener("click",o.close),o.removeZoomListeners(),ao.animateToggleOut(),kn.to([o.openProgress,o.parentInstance.zoomProgress],{v:0,duration:1,onComplete:function(){o.isOpen=!1,o.parentInstance.isZoomOpen=!1,o.toggleCase(),ao.addListeners(),vr.call("scrollManager","enableScroll"),vr.call("hoverSwitch","showAll"),Dr.device>=2&&(uo.trigger("defaultOff"),uo.trigger("dragOff"),o.cursorLayer.classList.remove("is-active","grabbing")),o.slider?o.slider.close((function(){return o.isAnimating=!1})):o.isAnimating=!1,o.mainLogo.removeAttribute("data-color"),o.closeLines.forEach((function(e){return e.removeAttribute("data-color")}))}}))})),this.container=t,this.gl=i,this.id=n,this.parentInstance=r,this.images=[],this.slides=[],this.activeIndex=0,this.currentSlide=null,this.nextSlide=null,this.observer=null,this.slider=null,this.direction=wr.isFirefox?[0,1]:[0,-1],this.progress={v:wr.isFirefox?1:0},this.openProgress={v:0},this.dragStart={x:0,y:0},this.dragEnd={x:0,y:0},this.dragDelta={x:0,y:0},this.isOpen=!1,this.isAnimating=!1,this.hasListeners=!1,this.hasZoomListeners=!1,this.init()}return Xs(e,[{key:"updateCurrent",value:function(){this.current&&(this.current.innerText=this.activeIndex+1)}},{key:"checkArrows",value:function(){this.prevArrow&&(Dr.device<2||wr.isIos)&&(this.activeIndex>=this.slides.length-1?this.prevArrow.classList.add("is-active"):this.prevArrow.classList.remove("is-active")),this.nextArrow&&(Dr.device<2||wr.isIos)&&(this.activeIndex<this.slides.length-1?this.nextArrow.classList.add("is-active"):this.nextArrow.classList.remove("is-active"))}},{key:"goTo",value:function(e){var t=this;if(!this.isAnimating){var i=zr(e,this.slides);if(this.slides[i][this.isOpen?"isLoadedFull":"isLoadedSmall"])if(this.isAnimating=!0,this.activeIndex=i,this.updateCurrent(),this.checkArrows(),this.nextSlide=this.slides[i],this.changeDataColor(),this.slider&&(this.slider.removeActive(),this.slider.assignActive(),this.slider.couldSlide&&this.slider.manageSlideNavigation()),2!=Dr.device||wr.isIos)kn.timeline().to(this.currentSlide.image.el,{duration:.6,opacity:0}).to(this.nextSlide.image.el,{duration:.6,opacity:1,onComplete:function(){t.currentSlide=t.nextSlide,t.isAnimating=!1,t.preload()}},0);else kn.to(this.progress,{duration:.6,v:wr.isFirefox?0:1,onComplete:function(){t.currentSlide=t.nextSlide,t.isAnimating=!1,t.preload(),t.progress.v=wr.isFirefox?1:0}})}}},{key:"changeDataColor",value:function(){if(this.isOpen){var e=this.slides[this.activeIndex];e.image.el&&(2!=Dr.device||wr.isIos||(this.mainLogo.setAttribute("data-color",e.elementsColor),this.closeLines.forEach((function(t){return t.setAttribute("data-color",e.elementsColor)})),this.slider&&(this.slider.prevButton.setAttribute("data-color",e.elementsColor),this.slider.nextButton.setAttribute("data-color",e.elementsColor))))}}},{key:"toggleCase",value:function(){this.caseTitle&&(this.isOpen?this.caseTitle.setAttribute("data-hide",""):this.caseTitle.removeAttribute("data-hide")),this.caseSide&&(this.isOpen?this.caseSide.setAttribute("data-hide",""):this.caseSide.removeAttribute("data-hide"))}},{key:"preload",value:function(){var e=this,t=zr(this.activeIndex+1,this.slides),i=zr(this.activeIndex-1,this.slides);this.slides[t].isLoadedSmall||this.slides[t].isLoadingSmall||this.load(t,(function(){e.load(t,null,Or(e.slides[t].image.ratio,Dr.window.width,Dr.window.height))})),this.slides[i].isLoadedSmall||this.slides[i].isLoadingSmall||this.load(i,(function(){e.load(i,null,Or(e.slides[i].image.ratio,Dr.window.width,Dr.window.height))}))}},{key:"load",value:function(e,t,i){var n=this,r=this.slides[e];r&&((i?!r.isLoadedFull&&!r.isLoadingFull:!r.isLoadedSmall&&!r.isLoadingSmall)&&(r[i?"isLoadingFull":"isLoadingSmall"]=!0,vr.call("imageLoader","load",r.image,(function(o){2!=Dr.device||wr.isIos||(i||(n.slider&&n.slider.slides[e].el.appendChild(o.img),0===e&&vr.call("scrollGL","onImageLoad",o)),Object(eo.setTextureFromElement)(n.gl,r.texture,o.img,{flipY:!0})),i||vr.call("imageLoader","onLazyLoad",o),r[i?"isLoadingFull":"isLoadingSmall"]=!1,r[i?"isLoadedFull":"isLoadedSmall"]=!0,t&&t()}),i||null)))}},{key:"loadAll",value:function(e){var t=this;this.slides.find((function(e){return!e.isLoadedFull||!e.isLoadedSmall}))?(uo.trigger("loadOn"),this.slides.forEach((function(i,n){t.load(n,(function(){t.load(n,(function(){t.slides.find((function(e){return!e.isLoadedFull||!e.isLoadedSmall}))||(uo.trigger("loadOff"),e())}),Or(i.image.ratio,Dr.window.width,Dr.window.height))}))}))):e()}},{key:"addZoomListeners",value:function(){this.hasZoomListeners||(this.slides.length&&this.slider&&(window.addEventListener("mousedown",this.onDragStart),window.addEventListener("touchstart",this.onDragStart),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd)),window.addEventListener("keyup",this.onKeyUp),this.hasZoomListeners=!0)}},{key:"removeZoomListeners",value:function(){this.hasZoomListeners&&(this.slides.length&&this.slider&&(window.removeEventListener("mousedown",this.onDragStart),window.removeEventListener("touchstart",this.onDragStart),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd)),window.removeEventListener("keyup",this.onKeyUp),this.hasZoomListeners=!1)}},{key:"addListeners",value:function(){this.hasListeners||(this.prevArrow&&this.prevArrow.addEventListener("click",this.prev),this.nextArrow&&this.nextArrow.addEventListener("click",this.next),this.articleSlider||this.wrapper.addEventListener("click",this.open),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.prevArrow&&this.prevArrow.removeEventListener("click",this.prev),this.nextArrow&&this.nextArrow.removeEventListener("click",this.next),this.wrapper.removeEventListener("click",this.open),this.hasListeners=!1)}},{key:"initObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.load(0,(function(){e.load(0,null,Or(e.slides[0].image.ratio,Dr.window.width,Dr.window.height)),e.preload()})),e.observer.unobserve(e.container))}))}),{root:wr.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(Dr.window.height,"px 0px")}),this.appearObserver=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.slides[0].image.hasAppeared=!0,vr.call("scrollGL","onImageAppear",e.slides[0].image),e.appearObserver.unobserve(e.container))}))})),this.observer.observe(this.container),this.appearObserver.observe(this.container)}},{key:"createBlockLayer",value:function(){this.cursorLayer=document.createElement("div"),this.cursorLayer.className="image-zoom-slider__cursor-layer",(wr.nextContainer?wr.nextContainer:document.querySelector('[data-barba="container"]')).appendChild(this.cursorLayer)}},{key:"toggleInteractive",value:function(){this.container&&(this.containerSlider=this.container.querySelector(".simple-slider"),this.containerSlider&&(Dr.device>=3?this.containerSlider.removeAttribute("data-hover"):this.containerSlider.setAttribute("data-hover","scale"),uo.reinit()))}},{key:"init",value:function(){var e=this;if(this.container){this.wrapper=this.container.querySelector("[data-wrapper]");var t=this.container.querySelectorAll("[data-slide]");if(this.wrapper&&t.length){this.mainLogo=document.querySelector(".nav__logo"),this.closeLines=document.querySelectorAll(".nav__toggle-close-inner"),this.caseTitle=(wr.nextContainer||document).querySelector(".js-case-title"),this.caseSide=(wr.nextContainer||document).querySelector(".js-case-side"),this.prevArrow=this.container.querySelector("[data-prev]"),this.nextArrow=this.container.querySelector("[data-next]"),this.current=this.container.querySelector("[data-current]"),this.container.hasAttribute("data-article")&&(this.articleSlider=new Ws(this.container)),this.images=vr.call("loaderManager","addImages",t),this.images.forEach((function(t){e.slides.push({image:t,texture:2!=Dr.device||wr.isIos?null:Object(eo.createTexture)(e.gl,{width:1,height:1,color:[.902,.871,.808,1]}),isLoadingSmall:!1,isLoadedSmall:!1,isLoadingFull:!1,isLoadedFull:!1,elementsColor:t.el.getAttribute("data-zoom")})})),this.articleSlider||this.createBlockLayer(),!this.articleSlider&&2==Dr.device&&!wr.isIos&&this.slides.length>1&&(this.slider=new Zs(this)),this.toggleInteractive(),this.currentSlide=this.slides[0],this.nextSlide=this.slides[0];var i=this.slides.filter((function(e,t){return t>0})).map((function(e){return e.image.el}));i.length&&kn.set(i,{opacity:0}),this.initObserver(),this.addListeners()}}}},{key:"resize",value:function(){this.articleSlider&&this.articleSlider.resize(),this.slider&&(this.slider.resize(),this.toggleInteractive())}},{key:"destroy",value:function(){var e=this;this.removeListeners(),this.slides.forEach((function(t){t.texture&&e.gl.deleteTexture(t.texture)})),this.slider&&this.slider.destroy()}}]),e}(),Zs=function(){function e(t){var i=this;Ys(this,e),Gs(this,"goPrev",(function(){var e=0==i.parent.activeIndex?i.slides.length-1:i.parent.activeIndex-1;i.parent.direction=[Math.sign(i.parent.activeIndex-e)*(wr.isFirefox?1:-1),0],i.parent.goTo(e),i.goTo()})),Gs(this,"goNext",(function(){var e=i.parent.activeIndex==i.slides.length-1?0:i.parent.activeIndex+1;i.parent.direction=[Math.sign(i.parent.activeIndex-e)*(wr.isFirefox?1:-1),0],i.parent.goTo(e),i.goTo()})),Gs(this,"onMouseMove",(function(e){e.clientY>=Dr.window.height-i.hoverZone?i.isOpen||i.open():i.isOpen&&i.close()})),this.parent=t,this.container=null,this.slides=[],this.ratio=Dr.window.ratio,this.isOpen=!1,this.hasListeners=!1,this.slideIndex=0,this.init()}return Xs(e,[{key:"goTo",value:function(){this.removeActive(),this.assignActive();var e=this.parent.slides[this.parent.activeIndex];e.image.el&&Dr.device>1&&!wr.isIos&&!Dr.isFakeMobile&&(this.parent.mainLogo.setAttribute("data-color",e.elementsColor),this.parent.closeLines.forEach((function(t){return t.setAttribute("data-color",e.elementsColor)})),this.prevButton.setAttribute("data-color",e.elementsColor),this.nextButton.setAttribute("data-color",e.elementsColor)),this.couldSlide&&this.manageSlideNavigation()}},{key:"manageSlideNavigation",value:function(){var e=this.slides[this.parent.activeIndex].left+this.width/2+this.margin/2;kn.to(this.wrapper,{duration:.4,x:e<this.sliderCenter?0:this.sliderCenter-e})}},{key:"open",value:function(e){this.isOpen=!0,this.container.classList.add("is-hover-active"),this.navigation.classList.add("is-hover-active"),e&&e()}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpen=!1,this.container.classList.remove("is-hover-active"),this.navigation.classList.remove("is-hover-active"),e&&e()}},{key:"setSizes",value:function(){var e=this,t=this.width=.15*Dr.window.width,i=this.height=t/this.ratio;this.margin=Dr.navPadding.desk*Dr.window.width,this.totalSlidesW=(t+this.margin)*this.slides.length,this.sliderCenter=Dr.window.width/2;var n=this.margin;kn.set(this.wrapper,{width:"".concat(this.totalSlidesW,"px"),height:i}),this.slides.forEach((function(r){r.left=n,kn.set(r.el,{width:t,height:i,left:n}),n+=t+e.margin})),this.hoverZone=i+Dr.navPadding.desk*Dr.window.width*2,this.couldSlide=this.totalSlidesW>Dr.window.width}},{key:"assignActive",value:function(){for(var e=0;e<this.slides.length;e++)e==this.parent.activeIndex&&this.slides[e].el.classList.add("is-active")}},{key:"removeActive",value:function(){for(var e=0;e<this.slides.length;e++)this.slides[e].el.classList.remove("is-active")}},{key:"addListeners",value:function(){this.assignActive(),this.hasListeners||(window.addEventListener("mousemove",this.onMouseMove),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.removeActive(),this.hasListeners&&(window.removeEventListener("mousemove",this.onMouseMove),this.hasListeners=!1)}},{key:"createNavigation",value:function(){this.navigation=document.createElement("div"),this.navigation.className="image-zoom-slider__nav",this.prevButton=document.createElement("div"),this.prevButton.className="circle-button js-image-zoom-slider-nav-prev",this.prevButton.dataset.hover="stick",this.nextButton=document.createElement("div"),this.nextButton.className="circle-button js-image-zoom-slider-nav-next",this.nextButton.dataset.hover="stick",this.prevButtonTemplate='\n      <div class="circle-button__icon">\n        <svg xmlns="http://www.w3.org/2000/svg" width="9" height="14" viewBox="0 0 9 14">\n          <path d="M-.244 3.102 4.652 7.987 9.548 3.102 11.052 4.606 4.652 11.006 -1.748 4.606z" transform="matrix(0 -1 -1 0 11.706 11.598)"/>\n        </svg>\n      </div>\n    ',this.nextButtonTemplate='\n      <div class="circle-button__icon">\n        <svg xmlns="http://www.w3.org/2000/svg" width="7" height="12" viewBox="0 0 7 12">\n          <path d="M74.253 17.297 78.333 21.368 82.413 17.297 83.667 18.55 78.333 23.883 73 18.55z" transform="matrix(0 1 1 0 -17.207 -72.477)"/>\n        </svg>    \n      </div>\n    ',this.prevButton.innerHTML=this.prevButtonTemplate,this.nextButton.innerHTML=this.nextButtonTemplate,this.navigation.appendChild(this.prevButton),this.navigation.appendChild(this.nextButton),this.container.appendChild(this.navigation)}},{key:"initNavigationEvents",value:function(){this.prevButton&&this.prevButton.addEventListener("click",this.goPrev),this.nextButton&&this.nextButton.addEventListener("click",this.goNext)}},{key:"init",value:function(){var e=this;if(this.parent&&(wr.nextContainer||document).querySelector("main")){this.container=document.createElement("div"),this.container.className="image-zoom-slider";var t="";this.parent.slides.forEach((function(){return t+='<div class="case-image lazy-img image-zoom-slider__item" data-slider-item data-hover="scale"></div>'})),this.container.innerHTML='\n          <div class="image-zoom-slider__wrap-container">\n            <div class="image-zoom-slider__wrapper" data-slider-wrapper>'.concat(t,"</div>\n          </div>\n        "),document.body.appendChild(this.container),this.createNavigation(),this.wrapper=this.container.querySelector("[data-slider-wrapper]");var i=this.container.querySelectorAll("[data-slider-item]");this.initNavigationEvents(),this.wrapper&&i.length&&(i.forEach((function(t){return e.slides.push({el:t})})),this.setSizes(),this.slides.forEach((function(t,i){t.el.addEventListener("click",(function(){i!==e.parent.activeIndex&&(e.parent.direction=[Math.sign(e.parent.activeIndex-i)*(wr.isFirefox?1:-1),0],e.parent.goTo(i),e.goTo(i))}))})))}}},{key:"destroy",value:function(){this.container&&this.container.remove(),this.removeListeners()}},{key:"resize",value:function(){this.ratio=Dr.window.ratio,this.setSizes(),this.couldSlide&&this.manageSlideNavigation()}}]),e}();function Ks(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Js(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Qs=function(){function e(t,i,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Js(this,"prev",(function(){if(!r.isMoving&&r.translate.v<-.01)if(0==r.activeIndex){var e=-r.translate.v;r.updateDragSpeed({v:20,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(e/6),Dr.window.width):Math.abs(e/2),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(e/6),Dr.window.width):Math.abs(e/2)})}}),r.updateTranslate({v:2!==Dr.device||wr.isIos?e:e/2*Dr.window.width,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(e/3),Dr.window.width):Math.abs(e)})}else{var t=(2!==Dr.device||wr.isIos?r.initialMargin:jr({x:r.initialMargin,c:Dr.window}).x)-((2!==Dr.device||wr.isIos?r.slides[r.activeIndex-1].left:r.slides[r.activeIndex-1].glSizes.left)+r.translate.v);r.updateDragSpeed({v:20,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(.2*t),Dr.window.width):Math.abs(.33*t),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(.2*t),Dr.window.width):Math.abs(.33*t)})}}),r.updateTranslate({v:2!==Dr.device||wr.isIos?t:t/2*Dr.window.width,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(.4*t),Dr.window.width):Math.abs(.66*t)})}})),Js(this,"next",(function(){if(!r.isMoving&&r.translate.v>-r.maxTranslate)if(r.activeIndex==r.slides.length-1){var e=-r.maxTranslate-r.translate.v;r.updateDragSpeed({v:-20,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(e/6),Dr.window.width):Math.abs(e/2),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(e/6),Dr.window.width):Math.abs(e/2)})}}),r.updateTranslate({v:2!==Dr.device||wr.isIos?e:e/2*Dr.window.width,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(e/3),Dr.window.width):Math.abs(e)})}else{var t=(2!==Dr.device||wr.isIos?r.initialMargin:jr({x:r.initialMargin,c:Dr.window}).x)-((2!==Dr.device||wr.isIos?r.slides[r.activeIndex+1].left:r.slides[r.activeIndex+1].glSizes.left)+r.translate.v);r.updateDragSpeed({v:-20,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(.2*t),Dr.window.width):Math.abs(.33*t),onComplete:function(){r.updateDragSpeed({v:0,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(.2*t),Dr.window.width):Math.abs(.33*t)})}}),r.updateTranslate({v:2!==Dr.device||wr.isIos?t:t/2*Dr.window.width,duration:2!==Dr.device||wr.isIos?Rr(Math.abs(.4*t),Dr.window.width):Math.abs(.66*t)})}})),Js(this,"onWheel",(function(e){if(2==Dr.device&&!wr.isIos&&Math.abs(e.deltaX)>Math.abs(e.deltaY)){var t=-e.deltaX;e.preventDefault(),2!==Dr.device||wr.isIos?r.translate.v+=t:r.translate.v+=Rr(t,Dr.window.width),r.translate.v=Ur(r.translate.v,-r.maxTranslate,0),kn.set(r.sliderEl,{x:Br(r.translate.v,Dr.window.width)}),r.dragSpeed.v=Ur(t,-20,20),r.getActiveIndex(),r.checkArrows(),r.wheelTimeout&&clearTimeout(r.wheelTimeout),r.wheelTimeout=setTimeout((function(){r.updateDragSpeed({v:0,duration:.4})}),100)}})),Js(this,"onDragStart",(function(e){r.isDragging=!0,r.previousDragPosition.x=e.type.indexOf("touch")>-1?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX,r.previousDragPosition.y=e.type.indexOf("touch")>-1?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY,r.wrapper.classList.add("is-dragging"),(2===Dr.device&&!wr.isIos||Dr.device>=3)&&(uo.trigger("dragOn"),r.wrapper.classList.add("grabbing"))})),Js(this,"onDragMove",(function(e){var t=e.type.indexOf("touch")>-1;r.dragDelta.x=(t?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX)-r.previousDragPosition.x,r.dragDelta.y=(t?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY)-r.previousDragPosition.y,Math.abs(r.dragDelta.x)>=Math.abs(r.dragDelta.y)&&(e.preventDefault(),r.isDragging&&(r.previousDragPosition.x=t?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX,r.previousDragPosition.y=t?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY,r.updateDragSpeed({v:1.2*r.dragDelta.x,duration:.4}),r.updateTranslate({v:1.6*r.dragDelta.x,duration:.6})))})),Js(this,"onDragEnd",(function(){if(r.isDragging){r.isDragging=!1,r.wrapper.classList.remove("is-dragging"),r.updateDragSpeed({v:0,duration:.8});var e=r.dragDelta/30;r.updateTranslate({v:Dr.window.width*Ur(e,-1,1),duration:Ur(Math.abs(e),.8,1.5)}),r.dragDelta.x=0,r.dragDelta.y=0,(2===Dr.device&&!wr.isIos||Dr.device>=3)&&(uo.trigger("dragOff"),r.wrapper.classList.remove("grabbing"))}})),this.container=t,this.gl=i,this.id=n,this.images=[],this.slides=[],this.isDragging=!1,this.activeIndex=0,this.previousDragPosition={x:0,y:0},this.dragDelta={x:0,y:0},this.dragSpeed={v:0},this.translate={v:0},this.init()}var t,i,n;return t=e,(i=[{key:"bindSlides",value:function(){var e=this;this.slides.forEach((function(t){t.slider=e}))}},{key:"positionSlides",value:function(){var e=this;this.sideMargin=Dr.navPadding[Dr.device>1?"desk":"mobile"]*Dr.window.width,this.initialMargin=this.isTeam?(Dr.device>1?.1:Dr.navPadding.mobile)*Dr.window.width:this.sideMargin;var t=this.sideMargin;this.slides.forEach((function(i,n){var r=i.image.el.getBoundingClientRect();i.ratio=parseFloat(i.image.el.getAttribute("data-ratio-inv")),i.height=r.height,i.width=r.width,i.left=t,kn.set(i.image.el,{left:t}),t+=i.width+(n<e.slides.length-1?e.initialMargin:e.sideMargin)})),kn.set(this.sliderEl,{width:t}),this.sliderWidth=t-this.sideMargin,this.maxTranslate=2!==Dr.device||wr.isIos?t-Dr.window.width:Rr(t-Dr.window.width,Dr.window.width)}},{key:"getGLSizes",value:function(){this.slides.forEach((function(e){e.glSizes={width:Rr(e.width,Dr.window.width),left:jr({x:e.left,c:Dr.window}).x}}))}},{key:"getActiveIndex",value:function(){var e=this,t=this.maxTranslate,i=this.activeIndex,n=2!==Dr.device||wr.isIos?this.initialMargin:jr({x:this.initialMargin,c:Dr.window}).x;this.slides.forEach((function(r,o){var a=(2!==Dr.device||wr.isIos?r.left:r.glSizes.left)+e.translate.v,s=a+(2!==Dr.device||wr.isIos?r.width:r.glSizes.width),l={left:Math.abs(n-a),right:Math.abs(n-s)},u=Math.min(l.left,l.right);s>n&&u<t&&(t=u,i=o)})),i!==this.activeIndex&&(this.activeIndex=i,this.updateCurrent())}},{key:"updateCurrent",value:function(){var e=this;this.current.length&&this.current.forEach((function(t){t.innerHTML=e.activeIndex+1<10?"0"+(e.activeIndex+1):e.activeIndex+1}))}},{key:"checkArrows",value:function(){this.prevArrow&&(this.prevArrow.classList.toggle("is-disabled",0===this.translate.v),(Dr.device<2||wr.isIos)&&(this.activeIndex>=this.slides.length-1?this.prevArrow.classList.add("is-active"):this.prevArrow.classList.remove("is-active"))),this.nextArrow&&(this.nextArrow.classList.toggle("is-disabled",this.translate.v===-this.maxTranslate),(Dr.device<2||wr.isIos)&&(this.activeIndex<this.slides.length-1?this.nextArrow.classList.add("is-active"):this.nextArrow.classList.remove("is-active")))}},{key:"updateDragSpeed",value:function(e){var t=e.v,i=e.duration,n=e.onComplete;kn.to(this.dragSpeed,{duration:i||.5,v:Ur(t||0,-20,20),onComplete:function(){n&&n()}})}},{key:"updateTranslate",value:function(e){var t=this,i=e.v,n=e.duration,r=e.onStart,o=e.onComplete,a={v:0},s=0;kn.to(a,{duration:n||.5,v:i||0,onStart:function(){t.isMoving=!0,r&&r()},onUpdate:function(){2!==Dr.device||wr.isIos?(t.translate.v+=a.v-s,s=a.v):(t.translate.v+=Rr(a.v,Dr.window.width)-s,s=Rr(a.v,Dr.window.width)),t.translate.v=Ur(t.translate.v,-t.maxTranslate,0),kn.set(t.sliderEl,{x:2!==Dr.device||wr.isIos?t.translate.v:Br(t.translate.v,Dr.window.width)}),t.getActiveIndex(),t.checkArrows()},onComplete:function(){t.isMoving=!1,o&&o()}})}},{key:"addListeners",value:function(){this.hasListeners||(this.prevArrow&&this.prevArrow.addEventListener("click",this.prev),this.nextArrow&&this.nextArrow.addEventListener("click",this.next),this.wrapper.addEventListener("mousedown",this.onDragStart),this.wrapper.addEventListener("touchstart",this.onDragStart,{passive:!1}),this.wrapper.addEventListener("mousemove",this.onDragMove),this.wrapper.addEventListener("touchmove",this.onDragMove,{passive:!1}),this.wrapper.addEventListener("mouseup",this.onDragEnd),this.wrapper.addEventListener("touchend",this.onDragEnd),this.wrapper.addEventListener("mouseleave",this.onDragEnd),this.wrapper.addEventListener("wheel",this.onWheel,{passive:!1}),this.slides.forEach((function(e){e.isTeam&&e.isVideo&&e.video})),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.prevArrow&&this.prevArrow.removeEventListener("click",this.prev),this.nextArrow&&this.nextArrow.removeEventListener("click",this.next),this.wrapper.removeEventListener("mousedown",this.onDragStart),this.wrapper.removeEventListener("touchstart",this.onDragStart,{passive:!1}),this.wrapper.removeEventListener("mousemove",this.onDragMove),this.wrapper.removeEventListener("touchmove",this.onDragMove,{passive:!1}),this.wrapper.removeEventListener("mouseup",this.onDragEnd),this.wrapper.removeEventListener("touchend",this.onDragEnd),this.wrapper.removeEventListener("mouseleave",this.onDragEnd),this.wrapper.removeEventListener("wheel",this.onWheel,{passive:!1}),this.hasListeners=!1)}},{key:"initObserver",value:function(){var e=this;this.loadObserver=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.slides.forEach((function(e){vr.call("imageLoader","load",e.image,(function(e){vr.call("imageLoader","onLazyLoad",e),2!==Dr.device||wr.isIos||vr.call("scrollGL","onImageLoad",e)}))})),e.loadObserver.unobserve(e.container))}))}),{root:wr.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(Dr.window.height,"px 0px")}),this.loadObserver.observe(this.container),this.appearObserver=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&(e.slides.forEach((function(e){e.image.hasAppeared=!0,2!==Dr.device||wr.isIos||vr.call("scrollGL","onImageAppear",e.image)})),e.appearObserver.unobserve(e.container))}))})),this.appearObserver.observe(this.container)}},{key:"init",value:function(){var e=this;if(this.container){this.wrapper=this.container.querySelector("[data-wrapper]");var t=this.container.querySelectorAll("[data-slide]");this.wrapper&&t.length&&(this.sliderEl=this.wrapper.querySelector("div"),this.prevArrow=this.container.querySelector("[data-prev]"),this.nextArrow=this.container.querySelector("[data-next]"),this.current=this.container.querySelectorAll("[data-current]"),this.sliderEl&&(this.images=vr.call("loaderManager","addImages",t),this.images.forEach((function(t){var i=t.el.hasAttribute("data-video"),n=t.el.hasAttribute("data-team");n&&(e.isTeam=!0),e.slides.push({image:t,isTeam:n,isVideo:i,video:i?vr.call("videoLoader","get",t.el):null})})),this.positionSlides(),this.getGLSizes(),this.initObserver(),this.addListeners()))}}},{key:"resize",value:function(){this.container&&(this.positionSlides(),this.getGLSizes())}},{key:"destroy",value:function(){this.loadObserver.disconnect(),this.loadObserver=null,this.appearObserver.disconnect(),this.appearObserver=null}}])&&Ks(t.prototype,i),n&&Ks(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var il=function(){function e(t){var i,n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){o.gl.useProgram(o.programInfo.program),o.gl.clear(o.gl.COLOR_BUFFER_BIT|o.gl.DEPTH_BUFFER_BIT),Object(eo.setUniforms)(o.programInfo,{mD:4.5,m:o.matrix,vS:o.verticalSpeed.v,wR:Dr.window.width/Dr.window.height}),o.getVisiblePlanes(),o.planes.forEach((function(e){e.isVisible&&(Object(eo.setUniforms)(o.programInfo,{direction:e.element.simpleSlider?e.element.simpleSlider.direction:wr.isFirefox?[0,1]:[0,-1],imageRatio:e.element.simpleSlider?e.element.simpleSlider.currentSlide.image.ratio:e.element.video&&e.element.video.loaded&&e.element.video.hasPlayed?e.element.video.ratio:e.element.image.ratio,ratio:e.ratio,z:e.element.simpleSlider?e.element.simpleSlider.isOpen?e.z+.005*o.zoomProgress.v:e.z:o.isZoomOpen?(1-o.zoomProgress.v)*e.z:e.z,vD:e.distortionFactor,hT:e.element.dragSlider&&e.element.dragSlider.translate?e.element.dragSlider.translate.v:0,hS:e.element.dragSlider&&e.element.dragSlider.dragSpeed?e.element.dragSlider.dragSpeed.v:0,p:e.element.simpleSlider?e.element.isAppearing?e.element.loadedProgress.v:e.element.simpleSlider.progress.v:e.element.loadedProgress.v,zP:e.element.simpleSlider?e.element.simpleSlider.openProgress.v:0,next:e.isNext,vT:e.isNext?e.element.vT:o.translate.y,scale:e.z>.1?.8:1}),e.element.simpleSlider?(o.gl.activeTexture(o.gl.TEXTURE0),o.gl.bindTexture(o.gl.TEXTURE_2D,e.element.isAppearing?o.placeholders[e.element.placeholder]:e.element.simpleSlider.currentSlide.texture),o.gl.activeTexture(o.gl.TEXTURE1),o.gl.bindTexture(o.gl.TEXTURE_2D,e.element.isAppearing?e.element.simpleSlider.currentSlide.texture:e.element.simpleSlider.nextSlide.texture)):(o.gl.activeTexture(o.gl.TEXTURE0),o.gl.bindTexture(o.gl.TEXTURE_2D,o.placeholders[e.element.placeholder]),o.gl.activeTexture(o.gl.TEXTURE1),o.gl.bindTexture(o.gl.TEXTURE_2D,e.element.texture),e.element.video&&e.element.video.loaded&&e.element.video.hasPlayed&&(o.gl.pixelStorei(o.gl.UNPACK_FLIP_Y_WEBGL,!0),o.gl.texImage2D(o.gl.TEXTURE_2D,0,o.gl.RGBA,o.gl.RGBA,o.gl.UNSIGNED_BYTE,e.element.video.el))),Object(eo.setBuffersAndAttributes)(o.gl,o.programInfo,e.bufferInfo),Object(eo.drawBufferInfo)(o.gl,e.bufferInfo,o.gl.TRIANGLES))})),o.renderId=requestAnimationFrame(o.render)},(n="render")in(i=this)?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,this.canvas=null,this.gl=null,this.programInfo=null,this.images=t instanceof Array?t.filter((function(e){return e.isWebgl})):[],this.elements=[],this.sliders=[],this.planes=[],this.zoomProgress={v:0},this.translate={x:0,y:0},this.verticalSpeed={v:0},this.matrix=null,this.hasStoppedScrolling=!0,this.isScrolling=!1,this.isReady=!1,this.init()}var t,i,n;return t=e,(i=[{key:"getElements",value:function(){var e=this,t=yr.get("page"),i=!!wr.nextContainer;Dr.device>1&&this.images.forEach((function(n){e.elements.push({image:n,texture:null,sizes:Wr(n.el,wr.oldContainerHeight),loadedProgress:{v:wr.isFirefox?wr.isWin?"single-case"===t&&i&&n.isInitial?1:0:"single-case"===t&&i&&n.isInitial?0:1:"single-case"===t&&i&&n.isInitial?1:0},placeholder:n.el.hasAttribute("data-placeholder")?n.el.getAttribute("data-placeholder"):"page",video:n.el.hasAttribute("data-video")?vr.call("videoLoader","get",n.el):null})})),(wr.nextContainer||document).querySelectorAll("[data-slider]").forEach((function(t,i){var n=null;switch(t.getAttribute("data-slider")){case"simple":n=new $s(t,e.gl,i,e),vr.call("sliderManager","add",n),n.images.length&&e.elements.push({image:n.images[0],texture:null,sizes:Wr(n.images[0].el,wr.oldContainerHeight),loadedProgress:{v:wr.isFirefox?wr.isWin?0:1:0},isAppearing:!0,simpleSlider:n,placeholder:n.images[0].el.hasAttribute("data-placeholder")?n.images[0].el.getAttribute("data-placeholder"):"page"});break;case"drag":n=new Qs(t,e.gl,i),vr.call("sliderManager","add",n),n.images.length&&n.images.forEach((function(t){e.elements.push({image:t,texture:null,sizes:Wr(t.el,wr.oldContainerHeight),dragSlider:n,loadedProgress:{v:wr.isFirefox?wr.isWin?0:1:0},placeholder:t.el.hasAttribute("data-placeholder")?t.el.getAttribute("data-placeholder"):"page",video:t.el.hasAttribute("data-video")?vr.call("videoLoader","get",t.el):null})}))}})),this.next=new Hs,this.next.image&&this.elements.push({image:this.next.image,texture:null,sizes:Wr(this.next.image.el,this.next.image.el.hasAttribute("data-next-img")?0:wr.oldContainerHeight),loadedProgress:{v:wr.isFirefox?wr.isWin?0:1:0},placeholder:this.next.image.el.hasAttribute("data-placeholder")?this.next.image.el.getAttribute("data-placeholder"):"page",vT:0})}},{key:"getSizes",value:function(){this.elements.forEach((function(e){e.sizes=Wr(e.image.el,0,e.image.isNext)}))}},{key:"createTextures",value:function(){var e=this,t=yr.get("page");this.placeholderColors={grey:new Uint8Array([161,162,166,255]),page:new Uint8Array("single-case"===t||"journal"===t||"single-article"===t?[157,152,147,50]:[32,29,30,255]),transparent:new Uint8Array([0,0,0,0])},this.placeholders={grey:Object(eo.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array([161,162,166,255])}),page:Object(eo.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array("single-case"===t||"journal"===t||"single-article"===t?[157,152,147,50]:[32,29,30,255])}),transparent:Object(eo.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array([0,0,0,0])})},this.elements.forEach((function(t){t.texture=Object(eo.createTexture)(e.gl,{width:1,height:1,src:e.placeholderColors[t.placeholder]})}))}},{key:"setLoadedTextures",value:function(e,t){var i=this;e.forEach((function(e){i.setLoadedTexture(e,t)}))}},{key:"setLoadedTexture",value:function(e,t){var i=this.elements.find((function(t){return t.image.id===e.id}));i&&(i.image=e,Object(eo.setTextureFromElement)(this.gl,i.texture,e.img,{flipY:!0}),t&&this.appearTransition(i))}},{key:"onImageLoad",value:function(e){if(this.canvas&&this.gl&&e.isWebgl&&(2!==Dr.device||wr.isIos||(e.el.classList.add("is-hidden"),this.setLoadedTexture(e)),e.hasAppeared)){var t=this.elements.find((function(t){return t.image.id===e.id}));t&&this.appearTransition(t)}}},{key:"onImageAppear",value:function(e){if(e.isLoaded){var t=this.elements.find((function(t){return t.image.id===e.id}));t&&this.appearTransition(t)}}},{key:"appearTransition",value:function(e){kn.to(e.loadedProgress,{duration:1,v:wr.isFirefox?wr.isWin?1:0:1,onComplete:function(){return e.isAppearing=!1}})}},{key:"updateMatrix",value:function(e){e&&(this.matrix=zs.identity());var t=zs.frustum(-1,1,-1,1,1,10);zs.setTranslation(t,[this.translate.x,this.translate.y,0],this.matrix)}},{key:"createPlanes",value:function(e){var t=this;(e||this.elements).forEach((function(e){for(var i=Mr(e.sizes.width/Dr.window.width*2),n=Mr(e.sizes.height/Dr.window.height*2),r=Mr(1-e.sizes.top/Dr.window.height*2),o=Mr(e.sizes.left/Dr.window.width*2-1),a=Mr(r-n),s=Mr(o+i),l=[],u=[],c=[],h=0;h<10;h++)for(var d=h/10,f=r-d*n,p=-2*(d-.5),g=0;g<10;g++){var v=g/10,m=o+v*i,y=2*(v-.5);l.push(m),l.push(f),u.push(v),u.push(1-d),c.push(y),c.push(p),l.push(m+i/10),l.push(f),u.push(v+.1),u.push(1-d),c.push(y+.2),c.push(p),l.push(m),l.push(f-n/10),u.push(v),u.push(1-(d+.1)),c.push(y),c.push(p-.2),l.push(m),l.push(f-n/10),u.push(v),u.push(1-(d+.1)),c.push(y),c.push(p-.2),l.push(m+i/10),l.push(f-n/10),u.push(v+.1),u.push(1-(d+.1)),c.push(y+.2),c.push(p-.2),l.push(m+i/10),l.push(f),u.push(v+.1),u.push(1-d),c.push(y+.2),c.push(p)}t.planes.push({width:i,height:n,ratio:e.sizes.width/e.sizes.height,top:r,right:s,bottom:a,left:o,vertices:l,uvs:u,zoomVertices:c,element:e,z:e.image.el.getAttribute("data-z")?parseFloat(e.image.el.getAttribute("data-z")):0,actualPosition:{top:0,right:0,bottom:0,left:0},xVertices:10,yVertices:10,distortionFactor:e.image.el.hasAttribute("data-flat")?0:1,slider:e.slider,isNext:e.image.el.hasAttribute("data-next-img")})})),this.lastPlane=this.planes[this.planes.length-1]}},{key:"bindPlanesBuffers",value:function(e){var t=this;(e||this.planes).forEach((function(e){var i={position:{numComponents:2,data:e.vertices},uv:{numComponents:2,data:e.uvs},fP:{numComponents:2,data:e.zoomVertices}};e.bufferInfo=Object(eo.createBufferInfoFromArrays)(t.gl,i)}))}},{key:"resetPlanes",value:function(){var e=this;this.planes.forEach((function(t){if(t.bufferInfo)for(var i in t.bufferInfo.attribs)"object"===el(t.bufferInfo.attribs[i])&&e.gl.deleteBuffer(t.bufferInfo.attribs[i].buffer)})),this.planes=[]}},{key:"deleteTextures",value:function(){var e=this;for(var t in this.elements.forEach((function(t){e.gl.deleteTexture(t.texture)})),this.placeholders)this.gl.deleteTexture(this.placeholders[t])}},{key:"getActualPosition",value:function(e){e.actualPosition={top:e.top+this.translate.y,right:e.right+(e.element.dragSlider&&e.element.dragSlider.translate.v||0),bottom:e.bottom+this.translate.y,left:e.left+(e.element.dragSlider&&e.element.dragSlider.translate.v||0)}}},{key:"isVisible",value:function(e){var t=e.actualPosition,i=t.top,n=t.right,r=t.bottom,o=t.left;return(o<=-1.2&&n>=-1.2||o<=1.2&&n>=1.2||o>=-1.2&&n<=1.2)&&(i>=-1.2&&r<=-1.2||i>=1.2&&r<=1.2||i<=1.2&&r>=-1.2)}},{key:"getVisiblePlanes",value:function(){var e=this;this.planes.forEach((function(t){t.isNext||(e.getActualPosition(t),e.isVisible(t)?t.isVisible=!0:t.isVisible=!1)}))}},{key:"killScroll",value:function(){if(this.scrollTween){var e=this.verticalSpeed.v;this.scrollTween.kill(),this.scrollTween=null,this.verticalSpeed.v=e}}},{key:"onScroll",value:function(e){var t=e.scroll,i=e.speed;this.hasStoppedScrolling=!1,this.isScrolling=!0,t.changed&&(this.translate.y=t.y/Dr.window.height*2),i.changed&&(this.killScroll(),this.scrollTween=kn.to(this.verticalSpeed,{duration:1.5,v:Ur(Math.abs(.005*i.value),0,.2),ease:gi.easeOut})),this.updateMatrix(),this.next&&(this.next.onScroll({scroll:t}),this.updateNext({scroll:t})),this.isScrolling=!1}},{key:"updateNext",value:function(e){var t=e.scroll;if(this.lastPlane&&this.lastPlane.isNext)if(t.y>=this.next.top){this.lastPlane.isVisible=!0;var i=Ur((t.y-this.next.top)/(this.next.height-Dr.window.height),0,1),n=Rr(this.next.translate,Dr.window.height);this.lastPlane.element.vT=Pr(i,0,1,0,n)}else this.lastPlane.isVisible=!1}},{key:"onNext",value:function(e){var t=this;if(this.lastPlane.isNext){var i=Rr(Dr.window.height-Dr.window.height*Dr.caseImageTop,Dr.window.height),n={v:this.lastPlane.element.vT};kn.to(n,{duration:1,v:i,ease:gi.easeInOut,onUpdate:function(){t.lastPlane.element.vT=n.v},onComplete:function(){e&&e()}})}}},{key:"requestRender",value:function(){this.renderId=requestAnimationFrame(this.render)}},{key:"cancelRender",value:function(){cancelAnimationFrame(this.renderId)}},{key:"resize",value:function(){var e=this;this.gl&&(this.cancelRender(),2!==Dr.device||wr.isIos?(_r.resetState(),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.elements.forEach((function(e){e.image.isLoaded&&!e.image.el.querySelector("img")&&e.image.el.appendChild(e.image.img),e.image.el.classList.remove("is-hidden")}))):(this.elements.forEach((function(t){t.image.el.classList.add("is-hidden"),t.image.isLoaded&&t.hasAppeared&&(e.setLoadedTexture(t.image),e.appearTransition(t))})),this.next&&this.next.resize(),this.getSizes(),Object(eo.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.resetPlanes(),this.createPlanes(),this.bindPlanesBuffers(),this.requestRender()))}},{key:"start",value:function(e,t){var i=this;this.canvas&&this.gl&&(_r.setCSS(),e&&e.length&&this.setLoadedTextures(e,!0),this.gl.useProgram(this.programInfo.program),Object(eo.setUniforms)(this.programInfo,{hD:Dr.device<2?Dr.device<1?.5:.3:.1}),this.isReady=!0,setTimeout((function(){return i.requestRender()}),t?200:0))}},{key:"init",value:function(){var e=yr.get("page");"home"!==e&&"contact"!==e&&"contact-thanks"!==e&&(2!==Dr.device||wr.isIos?(this.getElements(),setTimeout((function(){return _r.setCSS()}),Dr.device>2||wr.isIos?100:0)):(this.canvas=_r.el,this.gl=_r.gl,this.canvas&&this.gl&&this.gl&&(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.programInfo=Object(eo.createProgramInfo)(this.gl,["#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 position;\nattribute vec2 uv;\nattribute vec2 fP;\n\nuniform float vD; // distortion factor\nuniform float vS; // vertical speed\nuniform float hT; // horizontal translate\nuniform float hD; // horizontal distortion factor\nuniform float hS; // horizontal speed\nuniform float z; // z position\nuniform float imageRatio;\nuniform float ratio;\nuniform bool next;\nuniform mat4 m;\n\nuniform float vT; // vertical translate\nuniform float zP; // zoom progress\nuniform float wR; // window ratio\nuniform float mD; // max distance\nuniform float scale;\n\nvarying vec2 v_uv;\n\nvoid main () {\n  vec3 p = vec3(position, z);\n  float d = 1.-length((m*vec4(p,1.)).y);\n\n  p.x += hT;\n  p.x += sin(uv.y * 3.1415) * sin(hS / 90.) * hD;\n  p.z += d / mD * vS * vD;\n\n  float sP = smoothstep(distance(uv, vec2(0.5)) * 0.3, 1., zP);\n\n  vec4 iP = vec4(p.x, p.y, p.z, 1.);\n  vec4 FP = vec4(fP.x, fP.y-vT, p.z, 1.);\n  vec2 aP = (iP.xy + (FP.xy - iP.xy) * sP);\n\n  float r = ratio + (wR - ratio) * sP;\n  gl_Position = m * vec4(aP, p.z, 1.);\n  if (next) {\n    gl_Position = vec4(position.x,position.y+vT,0.,1.);\n  }\n  v_uv = .5+(uv-.5)*vec2(min(r/imageRatio,1.),(min(imageRatio/r,1.)));\n}","#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D texture;\nuniform sampler2D nextTexture;\nuniform float p;\nuniform vec2 direction;\n\nvarying vec2 v_uv;\n\nvoid main () {\n  vec2 center = vec2(0.5,0.5);\n  vec2 v = normalize(direction);\n  v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float m = (1.0-step(p, 0.0)) * (1.0 - smoothstep(-.5, 0.0, v.x * v_uv.x + v.y * v_uv.y - (d-0.5+p*(1.+.5))));\n  gl_FragColor = mix(texture2D(texture, v_uv), texture2D(nextTexture,v_uv), m);\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n"],["position","uv","fP"]),this.gl.useProgram(this.programInfo.program),Object(eo.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.getElements(),this.createTextures(),this.createPlanes(),this.updateMatrix(!0),Object(eo.setUniforms)(this.programInfo,{direction:[1,1],texture:this.planes[0]?this.planes[0].texture:null,nextTexture:this.planes[1]?this.planes[1].texture:this.planes[0]?this.planes[0].texture:null}),this.bindPlanesBuffers())))}},{key:"checkPlanes",value:function(){this.planes.forEach(plane)}},{key:"deleteElements",value:function(){var e=[];this.elements.forEach((function(t,i){(t.simpleSlider||t.dragSlider)&&e.push(t)})),this.elements=e}},{key:"deletePlanes",value:function(){var e=this,t=[];this.deletedImagesIds=[],this.planes.forEach((function(i,n){if(i.element.simpleSlider||i.element.dragSlider)t.push(i);else{if(i.bufferInfo)for(var r in i.bufferInfo.attribs)"object"===el(i.bufferInfo.attribs[r])&&e.gl.deleteBuffer(i.bufferInfo.attribs[r].buffer);e.gl.deleteTexture(i.element.texture),e.deletedImagesIds.push(i.element.image.id)}})),this.planes=t}},{key:"addElementsFromImages",value:function(e){var t=this,i=this.elements.length;e.forEach((function(e){t.elements.push({image:e,texture:null,sizes:Wr(e.el,0),loadedProgress:{v:wr.isFirefox?0:1},placeholder:e.el.hasAttribute("data-placeholder")?e.el.getAttribute("data-placeholder"):"page"})})),this.createTexturesFromIndex(i),this.createPlanes(this.elements.filter((function(e,t){return t>=i}))),e.forEach((function(e){e.el.classList.add("is-hidden"),e.hasAppeared=!0,t.setLoadedTexture(e)}))}},{key:"createTexturesFromIndex",value:function(e){for(var t=e;t<this.elements.length;t++)this.elements[t].texture=Object(eo.createTexture)(this.gl,{width:1,height:1,src:this.placeholderColors[this.elements[t].placeholder]})}},{key:"refresh",value:function(e){this.gl&&(this.cancelRender(),this.deletePlanes(),this.deleteElements(),this.addElementsFromImages(e),this.bindPlanesBuffers(),this.requestRender())}},{key:"destroy",value:function(){this.gl&&(this.cancelRender(),this.isReady=!1,this.resetPlanes(),this.deleteTextures(),this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.BLEND),_r.resetState(),this.elements=[],this.planes=[],this.sliders=[],this.programInfo=null,this.canvas=null,this.gl=null)}}])&&tl(t.prototype,i),n&&tl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),nl={hideAll:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i)switch(i.dataset.scroll){case"text-col":var n=i.querySelector(".title-hold__side"),r=i.querySelector("[data-scroll-anim-title]"),o=i.querySelector("[data-scroll-anim-text]"),a=n?n.querySelectorAll(".line-child"):[],s=r?r.querySelectorAll(".line-child"):[];a.length>0&&kn.set(a,{y:100,skewY:"3deg"}),s.length>0?kn.set(s,{y:100,skewY:"3deg"}):kn.set(r,{y:30,opacity:0}),o&&kn.set(o,{opacity:0,skewY:"2deg",y:35});break;case"big-sup":var l=i.querySelector(".overtitle"),u=i.querySelector("[data-scroll-anim-title]"),c=l?l.querySelectorAll(".line-child"):[],h=u.querySelectorAll(".line-child");c.length&&kn.set(c,{y:100,skewY:"3deg"}),h.length&&kn.set(h,{y:100,skewY:"5deg"});break;case"image":Dr.device>=3&&kn.set(i,{y:70,opacity:0});break;case"main-drag":var d=i.querySelector(".main-drag-slider__title"),f=i.querySelector(".main-drag-slider__index"),p=i.querySelectorAll(".main-drag-slider__slide"),g=i.querySelector(".main-drag-slider__sub"),v=i.querySelectorAll(".main-drag-slider__nav-button");d&&kn.set(d,{opacity:0,y:"30px"}),f&&kn.set(f,{opacity:0,y:"30px"}),p.length&&Dr.device>=3&&kn.set(p,{opacity:0,y:"60px"}),g&&kn.set(g,{opacity:0,y:"30px"}),v.length&&kn.set(v,{opacity:0,y:"30px"});break;case"post-card":var m=i.querySelector(".post-card__overtitle"),y=i.querySelector(".post-card__media"),b=i.querySelector(".post-card__title"),w=i.querySelector(".post-card__cta"),x=i.querySelector(".post-card__border");kn.set([m,y,b,w],{opacity:0,y:30}),kn.set(x,{scaleX:0});break;default:kn.set(i,{y:50,opacity:0})}}},reveal:function(e){if(e)switch(e.dataset.scroll){case"text-col":var t=e.querySelector(".title-hold__side"),i=e.querySelector("[data-scroll-anim-title]"),n=e.querySelector("[data-scroll-anim-text]"),r=t?t.querySelectorAll(".line-child"):[],o=i?i.querySelectorAll(".line-child"):[],a=kn.timeline();o.length>0?a.to(o,{y:0,skewY:"0deg",duration:1.5,ease:gi.easeInOut,stagger:.15}):a.to(i,{y:0,opacity:1,duration:1.5,ease:gi.easeInOut}),n&&a.to(n,{y:0,skewY:"0deg",opacity:1,duration:1,ease:gi.easeInOut},"-=1.1"),a.to(r,{y:0,skewY:"0deg",duration:1.5,ease:gi.easeInOut,stagger:.1},"-=1.2");break;case"big-sup":var s=e.querySelector(".overtitle"),l=e.querySelector("[data-scroll-anim-title]"),u=s?s.querySelectorAll(".line-child"):[],c=l.querySelectorAll(".line-child"),h=kn.timeline(),d=u.length>0;d&&h.to(u,{y:0,skewY:"0deg",duration:1.5,ease:gi.easeInOut,stagger:.15}),h.to(c,{y:0,skewY:"0deg",ease:gi.easeInOut,duration:1.8,stagger:.15},d?"-=1.2":0);break;case"image":Dr.device>=3&&kn.to(e,{y:0,opacity:1,duration:.8,ease:gi.easeInOut});break;case"post-card":var f=e.querySelector(".post-card__overtitle"),p=e.querySelector(".post-card__media"),g=e.querySelector(".post-card__title"),v=e.querySelector(".post-card__cta"),m=e.querySelector(".post-card__border");kn.timeline({delay:.6}).to(f,{y:0,opacity:.5,duration:1,ease:gi.easeInOut}).to([p,g,v],{y:0,opacity:1,stagger:.08,duration:1,ease:gi.easeInOut},"-=1").to(m,{scaleX:1,duration:.5,ease:yi.easeInOut},"-=0.6");break;case"main-drag":var y=e.querySelector(".main-drag-slider__title"),b=e.querySelector(".main-drag-slider__index"),w=e.querySelectorAll(".main-drag-slider__slide"),x=e.querySelector(".main-drag-slider__sub"),D=e.querySelectorAll(".main-drag-slider__nav-button"),S=kn.timeline();b&&S.to(b,{duration:.7,y:0,opacity:1,ease:gi.easeInOut}),y&&S.to(y,{duration:.7,y:0,opacity:1,ease:gi.easeInOut},"-=0.7"),Dr.device>=3&&S.to(w,{duration:1,stagger:.15,y:0,opacity:1,ease:gi.easeInOut},"-=0.4"),x&&S.to(x,{duration:.7,y:0,opacity:1,ease:gi.easeInOut},"-=0.7"),D.length&&S.to(D,{duration:.8,y:0,opacity:1,stagger:.1,ease:gi.easeInOut});break;default:kn.to(e,{y:0,opacity:1,duration:1,delay:Math.random()*(.3-.1)+.1,ease:gi.easeInOut})}}};function rl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ol=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollElements=document.querySelectorAll("[data-scroll]"),this.scrollObserver=null,this.observerOptions={root:wr.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:"".concat(Dr.window.height/3,"px 0px")},this.init()}var t,i,n;return t=e,(i=[{key:"hide",value:function(){nl.hideAll(this.scrollElements)}},{key:"initScrollObserver",value:function(){this.scrollObserver=new IntersectionObserver((function(e,t){for(var i=0;i<e.length;i++){var n=e[i];n.intersectionRatio>0&&(nl.reveal(n.target),t.unobserve(n.target))}}),this.observerOptions);for(var e=0;e<this.scrollElements.length;e++){var t=this.scrollElements[e];this.scrollObserver.observe(t)}}},{key:"destroy",value:function(){this.scrollObserver&&(this.scrollObserver.disconnect(),this.scrollObserver=null)}},{key:"init",value:function(){this.scrollElements.length&&(this.hide(),this.initScrollObserver())}}])&&rl(t.prototype,i),n&&rl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function al(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var sl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.checkWebpSupport()}var t,i,n;return t=e,(i=[{key:"checkWebpSupport",value:function(){var e=this,t=new Image;t.addEventListener("load",(function(){return e.hasWebpSupport=!0})),t.addEventListener("error",(function(){return e.hasWebpSupport=!1})),t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}},{key:"onLazyLoad",value:function(e){(e.isHtml||2!==Dr.device||wr.isIos)&&e.el&&(e.el.querySelector("img")||e.el.appendChild(e.img));var t=e.el?e.el.querySelector("[data-placeholder]"):null,i=e.el?e.el.querySelector("[data-placeholder-blend]"):null;if(t&&i){var n=1;2!==Dr.device||wr.isIos||(e.isWebgl||e.isSlide)&&(n=0),kn.to(t,{duration:n,opacity:0,onComplete:function(){kn.set(t,{zIndex:-1})}}),Dr.device<3&&kn.to(i,{duration:n,opacity:0,delay:n?.9:0,onComplete:function(){kn.set(i,{zIndex:-1})}})}}},{key:"load",value:function(e,t,i){var n=e.src.ratio||e.cR,r=i||Or(n,e.cW,e.cH),o=new Image;o.alt="Mandhari",o.addEventListener("load",(function(){return t&&t(Object.assign(e,{img:o,ratio:n,isLoaded:!0},e.loaderId?{loaderId:e.loaderId}:null))})),o.src=e.src[r]}}])&&al(t.prototype,i),n&&al(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ll(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ul=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.images=t,this.loadObserver=null,this.appearObserver=null,this.init()}var t,i,n;return t=e,(i=[{key:"initObserver",value:function(){var e=this;this.loadObserver=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting||t.intersectionRatio>0){var i=e.images.find((function(e){return e.el.isEqualNode(t.target)}));vr.call("imageLoader","load",i,(function(e){e.isLoaded=!0,vr.call("imageLoader","onLazyLoad",e),vr.call("scrollGL","onImageLoad",e)})),e.loadObserver.unobserve(i.el)}}))}),{root:wr.nextScrollContainer||document.querySelector("[data-scroll-container]")||document.body,rootMargin:2!==Dr.device||wr.isIos?"".concat(Dr.window.height/2,"px 0px"):"".concat(Dr.window.height,"px 0px")}),this.appearObserver=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting||t.intersectionRatio>0){var i=e.images.find((function(e){return e.el.isEqualNode(t.target)}));i.hasAppeared=!0,vr.call("scrollGL","onImageAppear",i),e.appearObserver.unobserve(i.el)}}))})),this.images.forEach((function(t){e.loadObserver.observe(t.el),e.appearObserver.observe(t.el)}))}},{key:"destroy",value:function(){this.loadObserver.disconnect(),this.loadObserver=null,this.appearObserver.disconnect(),this.appearObserver=null,this.images=[]}},{key:"init",value:function(){this.initObserver()}}])&&ll(t.prototype,i),n&&ll(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function cl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var hl=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(){r.showNextLetter()},(i="render")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.init()}var t,i,n;return t=e,(i=[{key:"activate",value:function(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isOpen=!0,this.letterPosition=0,this.letters.forEach((function(e){return e.classList.remove("is-active")})),this.layer.classList.add("is-egg-open"),this.navLogo.classList.add("is-egg-open"),this.navToggle.classList.add("is-egg-open"),this.square.classList.add("is-egg-open"),this.bottomText&&this.bottomText.classList.add("is-egg-open"),this.sequenceInterval=setInterval(this.render,300)}},{key:"deactivate",value:function(){var e=this;this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){e.layer.classList.remove("is-egg-open"),e.navLogo.classList.remove("is-egg-open"),e.navToggle.classList.remove("is-egg-open"),e.square.classList.remove("is-egg-open"),e.bottomText&&e.bottomText.classList.remove("is-egg-open"),e.isOpen=!1,e.letters.forEach((function(e){return e.classList.remove("is-active")})),e.sequenceInterval&&clearInterval(e.sequenceInterval)}),400)}},{key:"showNextLetter",value:function(){var e=this.letters[this.letterPosition];(0===this.letterPosition?this.letters[this.letters.length-1]:this.letters[this.letterPosition-1]).classList.remove("is-active"),e.classList.add("is-active"),this.letterPosition=this.letterPosition===this.letters.length-1?0:this.letterPosition+1}},{key:"reinit",value:function(){this.init()}},{key:"destroy",value:function(){this.deactivate()}},{key:"init",value:function(){var e=document.querySelector(".is-home");null==e||(this.scrollTimeout=null,this.sequenceInterval=null,this.letterPosition=0,this.isOpen=!1,this.layer=document.querySelector(".js-egg-layer"),this.navLogo=document.querySelector(".nav__logo"),this.navToggle=document.querySelector(".nav__toggle"),this.bottomText=document.querySelector(".grid__bottom-text"),this.square=document.querySelector(".grid__bottom-logo"),this.letters=document.querySelectorAll(".egg__letter"))}}])&&cl(t.prototype,i),n&&cl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gl(e,t,i){return t&&pl(e.prototype,t),i&&pl(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function vl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ml=function(){function e(t){var i=this;fl(this,e),vl(this,"onMouseDown",(function(e){i.shouldCheckHover=!1,i.resetHover(),i.updateMouse(e);var t=qr({y:i.sliderTop,c:Dr.window}).y,n=qr({y:i.sliderBottom,c:Dr.window}).y;(!i.isSlider||e.clientY>t&&e.clientY<n)&&(i.hasClicked=!0,i.previousDragPosition.x=e.clientX,i.previousDragPosition.y=e.clientY,i.hoverInstance&&(i.hoverInstance.isAnimating||i.hoverInstance.isActive||!i.hoverInstance.isHidden)&&(i.hoverInstance.activePlane=null,i.hoverInstance.disappear(!0)),i.killTranslate(),i.isSlider?(i.clickTimeout&&clearTimeout(i.clickTimeout),i.clickTimeout=setTimeout((function(){Dr.device>=2&&uo.trigger("dragOn"),i.clickTimeout=null}),250)):(i.setPlanesSaturation(0,.3,!0),i.clickTimeout&&clearTimeout(i.clickTimeout),i.clickTimeout=setTimeout((function(){Dr.device>=2&&uo.trigger("gridOn"),i.updateZ(1,{duration:.5,ease:pi.easeOut}),i.clickTimeout=null}),250)))})),vl(this,"onTouchStart",(function(e){i.updateMouse(e);var t=qr({y:i.sliderTop,c:Dr.window}).y,n=qr({y:i.sliderBottom,c:Dr.window}).y;(!i.isSlider||e.touches[0].clientY>t&&e.touches[0].clientY<n)&&(i.hasClicked=!0,i.previousDragPosition.x=e.touches[0].clientX,i.previousDragPosition.y=e.touches[0].clientY,i.killTranslate(),i.isSlider?i.clickTimeout=setTimeout((function(){i.clickTimeout=null}),300):i.clickTimeout=setTimeout((function(){i.updateZ(1,{duration:.5,ease:pi.easeOut}),i.clickTimeout=null}),300))})),vl(this,"onMouseMove",(function(e){i.updateMouse(e),i.hasClicked?(i.dragCount++,i.isDragging=!0,i.shouldCheckHover=!1,i.onDrag(e),i.hasDragged=!0):(i.isDragging=!1,i.isOnMouseMove=!0,i.isUpdatingZ||i.isMoving||(i.shouldCheckHover=!0,i.checkHover()),i.isSlider||i.isMoving||uo.trigger("gridOff"),i.hoverTimeout&&clearTimeout(i.hoverTimeout),i.hoverTimeout=setTimeout((function(){i.isOnMouseMove=!1}),20))})),vl(this,"onTouchMove",(function(e){e.preventDefault(),i.updateMouse(e),i.hasClicked&&(i.dragCount++,i.onDrag(e),i.hasDragged=!0)})),vl(this,"onMouseUp",(function(e){if(i.updateMouse(e),i.isDragging=!1,Dr.device>=2&&uo.trigger(i.isSlider?"dragOff":"gridOff"),i.hasClicked&&(!i.hasDragged||i.dragCount<5)&&i.hasClicked&&i.clickTimeout&&(clearTimeout(i.clickTimeout),i.clickTimeout=null,i.onClick(e)),i.hasClicked=!1,i.initialTranslate.x=i.translate.x,i.initialTranslate.y=i.translate.y,i.hasDragged&&i.dragCount>=5){var t=i.dragSpeed.x,n=i.dragSpeed.y;i.translateGrid({x:.04*t,y:i.isSlider?0:.04*n,duration:1,ease:gi.easeOut}),i.isSlider?(i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.isUpdatingDragSpeed=!1),i.updateDragSpeed({x:0,duration:1,onStart:function(){i.isSliding=!0},onComplete:function(){i.isSliding=!1,Dr.device>=2&&uo.trigger("dragOff"),i.isOnMouseMove||i.checkHover()}})):(Dr.device>=2&&uo.trigger("gridOff"),setTimeout((function(){Dr.device>=2&&uo.trigger("gridOff")}),500))}else i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.dragSpeedTween=null,i.isUpdatingDragSpeed=!1,i.isSliding=!1),i.updateDragSpeed({x:0,y:0,duration:0});i.isSlider||(uo.trigger("gridOff"),setTimeout((function(){uo.trigger("gridOff"),i.updateZ(0,{duration:i.hasDragged?1:.5,ease:gi.easeInOut})}),300)),i.hasDragged=!1,i.dragCount=0})),vl(this,"onTouchEnd",(function(e){if(i.updateMouse(e),i.isDragging=!1,i.hasClicked&&(!i.hasDragged||i.dragCount<3)&&i.clickTimeout&&(i.clickTimeout=clearTimeout(i.clickTimeout),i.onClick(e)),i.hasClicked=!1,i.initialTranslate.x=i.translate.x,i.initialTranslate.y=i.translate.y,i.hasDragged&&i.dragCount>=3){var t=i.dragSpeed.x,n=i.dragSpeed.y;i.translateGrid({x:.2*t,y:i.isSlider?0:.04*n,duration:1,ease:gi.easeOut}),i.isSlider&&(i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.dragSpeedTween=null,i.isUpdatingDragSpeed=!1),i.updateDragSpeed({x:0,duration:1,onStart:function(){i.isSliding=!0},onUpdate:function(){i.isSliding=!0},onComplete:function(){i.isSliding=!1}}))}else i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.dragSpeedTween=null,i.isUpdatingDragSpeed=!1,i.isSliding=!1),i.isSliding=!1,i.updateDragSpeed({x:0,y:0,duration:0});i.isSlider||setTimeout((function(){i.updateZ(0,{duration:i.hasDragged?1:.5,ease:gi.easeInOut})}),300),i.hasDragged=!1,i.dragCount=0})),vl(this,"onWindowLeave",(function(e){if(i.hasDragged){if(i.isDragging=!1,i.hasClicked=!1,i.initialTranslate.x=i.translate.x,i.initialTranslate.y=i.translate.y,Dr.device>=2&&uo.trigger(i.isSlider?"dragOff":"gridOff"),i.hasDragged&&i.dragCount>=5){var t=i.dragSpeed.x,n=i.dragSpeed.y;i.translateGrid({x:.04*t,y:i.isSlider?0:.04*n,duration:1,ease:gi.easeOut}),i.isSlider?(i.dragSpeedTween&&(i.dragSpeedTween.kill(),i.isUpdatingDragSpeed=!1),i.updateDragSpeed({x:0,duration:1,onStart:function(){i.isSliding=!0},onComplete:function(){i.isSliding=!1}})):setTimeout((function(){i.updateZ(0,{duration:i.hasDragged?1:.5,ease:gi.easeInOut})}),300)}i.hasDragged=!1,i.dragCount=0}})),vl(this,"onWheel",(function(e){i.updateMouse(e),e.preventDefault(),i.isSlider||(i.hasWheeled||(i.hasWheeled=!0,i.setPlanesSaturation(0,.3,!0)),i.isScrolling||(i.isScrolling=!0,i.updateZ(1,{duration:1-i.z,ease:pi.easeOut}))),i.hoverInstance&&(i.hoverInstance.isAnimating||i.hoverInstance.isActive)&&(i.hoverInstance.activePlane=null,i.hoverInstance.disappear(!0)),i.killTranslate(),i.onDrag(e),i.scrollTimeout&&clearTimeout(i.scrollTimeout),i.scrollTimeout=setTimeout((function(){i.isDragging=!1,i.isScrolling=!1,i.hasWheeled=!1,i.isSlider?i.updateDragSpeed({x:0,duration:.5,onComplete:function(){i.isOnMouseMove||i.checkHover(e)}}):i.updateZ(0,{duration:.5,ease:gi.easeOut,onComplete:function(){i.isOnMouseMove||i.checkHover(e)}})}),50)})),vl(this,"render",(function(){i.gl.useProgram(i.programInfo.program),i.gl.clear(i.gl.COLOR_BUFFER_BIT),Object(eo.setUniforms)(i.programInfo,{m:i.matrix,hT:i.translate.x,vT:i.translate.y,s:i.scale.v}),i.gl.activeTexture(i.gl.TEXTURE0),i.getPlanesStatus(),i.sliderInstance&&i.sliderInstance.shouldUpdate&&i.sliderInstance.updateProgress(),i.renderPlanes(),i.renderId=requestAnimationFrame(i.render)})),this.canvas=null,this.gl=null,this.matrix=null,this.translateOffsets={x:0,y:0},this.xVertices=10,this.yVertices=10,this.sizes={h:0,vo:0,ho:0,imageRatios:[.67,.92],imageWidths:[],rowWidth:0,gridHeight:0,invertedTranslate:0},this.windowRatio=0,this.mouse={clientX:0,clientY:0,x:0,y:0},this.dragSpeed={x:0,y:0},this.dragCount=0,this.initialTranslate={x:0,y:0},this.previousDragPosition={x:0,y:0},this.translate={x:0,y:0},this.translateTween=null,this.firstCategory=0,this.categories=[],this.totalRows=5,this.totalCols=0,this.rows=[],this.isInverted=!1,this.shouldCheckHover=!0,this.shouldUpdate=!0,this.isDragging=!1,this.hasDragged=!1,this.hasWheeled=!1,this.isMoving=!1,this.isUpdatingZ=!1,this.isReady=!1,this.isLoaded=!1,this.isScrolling=!1,this.scrollTimeout=null,this.z={v:0},this.zDuration=.5,this.isSlider=!0,this.isSliding=!1,this.opacity={v:0},this.scale={v:1},this.saturation={v:1},this.isTickingHover=!1,this.isOnMouseMove=!1,this.hoverTimeout=null,this.onReady=t,this.init()}return gl(e,[{key:"calculateSizes",value:function(){this.windowWidth=Dr.window.width,this.windowHeight=Dr.window.height,this.windowRatio=Dr.window.ratio,this.leftMargin=jr({x:Dr.window.width*Dr.navPadding[Dr.device>1?"desk":"mobile"],c:Dr.window}).x,this.sizes.h=.8,this.sizes.vo=.16*this.sizes.h,this.sizes.ho=Mr(this.sizes.vo/this.windowRatio),this.sizes.imageRatios=[.67,.92],this.sizes.imageWidths=[Mr(this.sizes.imageRatios[0]*this.sizes.h/this.windowRatio),Mr(this.sizes.imageRatios[1]*this.sizes.h/this.windowRatio)],this.sizes.invertedTranslate=this.sizes.imageWidths[0]+this.sizes.ho,this.translateOffsets.x=this.sizes.imageWidths[0]+this.sizes.imageWidths[1]+2*this.sizes.ho,this.translateOffsets.y=this.sizes.h+this.sizes.vo,this.totalCols=2*Math.ceil((2+2*this.translateOffsets.x+this.sizes.invertedTranslate)/this.translateOffsets.x),this.sizes.rowWidth=Mr(Math.floor(this.totalCols/2)*this.sizes.imageWidths[0]+Math.ceil(this.totalCols/2)*this.sizes.imageWidths[1]+(this.totalCols-1)*this.sizes.ho),this.sizes.gridHeight=Mr(this.totalRows*this.sizes.h+(this.totalRows-1)*this.sizes.vo),this.sliderScale=(2-2*(Dr.nav.heightHome+Dr.footer.heightHome))/this.sizes.h,this.sliderCenter=1-Dr.nav.heightHome+(-1+Dr.footer.heightHome),this.sliderTop=this.sliderCenter+this.sizes.h*this.sliderScale/2,this.sliderBottom=this.sliderTop-this.sizes.h*this.sliderScale,this.sliderOffsetLeft=Dr.window.width*Dr.navPadding[Dr.window.width>1024?"desk":"mobile"]/Dr.window.width*.5,this.maxPlaneHeight=this.sizes.h*this.sliderScale,this.maxPlaneWidth=this.maxPlaneHeight*this.sizes.imageRatios[1]}},{key:"getCategories",value:function(){var e=this,t=[];for(var i in wr.categories)t.push(wr.categories[i]);this.categories=t,this.totalProjects=0,this.categories.forEach((function(t){t.projects.forEach((function(i){i.categoryIndex=t.index,e.totalProjects++}))})),this.firstCategory=zr(-2,this.categories,!0)}},{key:"createTextures",value:function(){var e=this;this.categories.forEach((function(t){t.projects.forEach((function(t){t.texture=Object(eo.createTexture)(e.gl,{width:1,height:1,src:new Uint8Array([157,152,147,50])})}))}))}},{key:"setLoadedTextures",value:function(e,t){var i=this;e.forEach((function(e){var n=i.categories[t].projects.find((function(t){return t.id===e.id}));i.setLoadedTexture(n,e)}))}},{key:"setLoadedTexture",value:function(e,t){Object(eo.setTextureFromElement)(this.gl,e.texture,t.img,{flipY:!0})}},{key:"loadAll",value:function(e){var t=this;this.categories.forEach((function(i){i.projects.forEach((function(n){vr.call("router","prefetch",n.url),vr.call("imageLoader","load",n.image,(function(n){var r=i.projects.find((function(e){return e.id===n.id}));t.setLoadedTexture(r,n),t.loadedProjects++,t.loadedProjects===t.totalProjects&&(t.isLoaded=!0,e&&e())}))}))}))}},{key:"setupRows",value:function(){for(var e=0;e<this.totalRows;e++)this.rows.push(new yl(this,Nr(this.firstCategory+e,this.categories,!0),e))}},{key:"resetRows",value:function(){this.rows.forEach((function(e){e.planes.forEach((function(e){e.reset()})),e.planes=[]})),this.rows=[]}},{key:"deleteTextures",value:function(){var e=this;this.categories.forEach((function(t){t.projects.forEach((function(t){e.gl.deleteTexture(t.texture)}))}))}},{key:"setPlanesSaturation",value:function(e,t,i){this.rows.forEach((function(n){n.planes.forEach((function(n){n.saturation.v!==e&&n.updateSaturation(e,t,i)}))}))}},{key:"bindPlanesBuffers",value:function(){var e=this;this.rows.forEach((function(t){t.planes.forEach((function(t){t.bufferInfo=Object(eo.createBufferInfoFromArrays)(e.gl,{pos:{numComponents:2,data:t.vertices},uv:{numComponents:2,data:t.uvs}})}))}))}},{key:"setInitialPosition",value:function(){this.rows[2].planes[0].getActualPosition();var e=this.rows[2].planes[0].actualPosition.left,t=2*Dr.navPadding[Dr.window.width>1024?"desk":"mobile"]-1-e-.001;this.translateGrid({x:t,duration:.1})}},{key:"resetHover",value:function(){this.hoverInstance&&(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0))}},{key:"isIntersecting",value:function(e,t){var i=e.actualPosition,n=i.top,r=i.right,o=i.bottom;return i.left<=t.x&&r>=t.x&&n>=t.y&&o<=t.y}},{key:"isVisible",value:function(e){var t=e.actualPosition,i=t.top,n=t.right,r=t.bottom,o=t.left;return(o<=-1&&n>=-1||o<=1&&n>=1||o>=-1&&n<=1)&&(i>=-1&&r<=-1||i>=1&&r<=1||i<=1&&r>=-1)}},{key:"checkTranslateOffset",value:function(e,t){return Math.abs(t)>=this.translateOffsets[e]*this.scale.v}},{key:"updateRowsVertically",value:function(e){var t=this;this.isInverted=!this.isInverted,this.rows.forEach((function(i){i.category=Nr(i.category.index+e,t.categories,!0),i.updateTextures()})),this.isSlider||this.setPlanesSaturation(0,0,!0)}},{key:"updateRowsHorizontally",value:function(e){this.categories.forEach((function(t){t.firstTexture=zr(t.firstTexture-2*e,t.projects,!0)})),this.rows.forEach((function(e){e.updateTextures()})),this.isSlider||this.setPlanesSaturation(0,0,!0)}},{key:"openSlider",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete,o=e.delay;this.isChangingMode=!0,this.setPlanesSaturation(0,.3,!0),this.translateGrid({y:-(this.translate.y-this.sliderCenter),duration:.5,delay:o||0,onStart:function(){n&&n()},onComplete:function(){kn.timeline({onUpdate:function(){t.updateMatrix()},onComplete:function(){t.isChangingMode=!1,t.isSlider=!0,r&&r()}}).to(t.opacity,{duration:i||.5,v:0}).to(t.saturation,{duration:i||.5,v:1},0).to(t.scale,{duration:i||.5,v:t.sliderScale},0)}})}},{key:"closeSlider",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete,o=e.delay;this.isChangingMode=!0,this.isSlider=!1;var a=kn.timeline({onStart:function(){n&&n()},onUpdate:function(){t.updateTranslate(t.translate.x,t.translate.y),t.updateMatrix()},onComplete:function(){t.isChangingMode=!1,t.initialTranslate.x=t.translate.x,t.initialTranslate.y=t.translate.y,r&&r()},delay:o||0});return a.to(this.opacity,{duration:i||.5,v:.7}).to(this.saturation,{duration:i||.5,v:0},0).to(this.scale,{duration:i||.5,v:1},0),a}},{key:"onDrag",value:function(e){this.isDragging=!0,this.isMoving=!0,this.shouldCheckHover=!1;var t="wheel"===e.type,i=e.type.indexOf("touch")>-1,n=Ur(i?this.previousDragPosition.x-e[e.touches.length?"touches":"changedTouches"][0].clientX:t?.5*e.deltaX:this.previousDragPosition.x-e.clientX,-60,60),r=i?this.previousDragPosition.y-e[e.touches.length?"touches":"changedTouches"][0].clientY:t?.5*e.deltaY:this.previousDragPosition.y-e.clientY,o=Ur(r,-60,60),a=this.isSlider&&t&&Math.abs(o)>Math.abs(n)?this.initialTranslate.x-o/this.windowWidth*2:this.initialTranslate.x-n/this.windowWidth*2,s=this.initialTranslate.y+o/this.windowHeight*2;if(this.updateTranslate(a,this.isSlider?this.sliderCenter:s),this.updateMatrix(),this.initialTranslate.x=this.translate.x,this.initialTranslate.y=this.translate.y,Dr.device>=2&&!t&&uo.trigger(this.isSlider?"dragOn":"gridOn"),!this.isSliding){var l=i?e.touches[0].clientX-this.previousDragPosition.x:t?this.isSlider&&Math.abs(o)>Math.abs(n)?-e.deltaY:-e.deltaX:e.clientX-this.previousDragPosition.x,u=Ur(l,-40,40),c=Ur(o,-40,40);this.updateDragSpeed({x:u,y:c,duration:this.isSlider?.2:0});var h=Dr.device<=1||wr.isIos?110:400,d=Dr.device<=1||wr.isIos?120:180;t&&(l<-h||l>h||r<-d||r>d)?this.isSlider||this.egg&&!this.egg.isOpen&&this.egg.activate():this.egg&&this.egg.isOpen&&this.egg.deactivate()}this.previousDragPosition.x=i?e.touches[0].clientX:e.clientX,this.previousDragPosition.y=i?e.touches[0].clientY:e.clientY,this.isMoving=!1}},{key:"updateZ",value:function(e,t){var i=this,n={duration:t&&t.duration?t.duration:this.zDuration,ease:t&&t.ease?t.ease:di.easeOut,onStart:t&&t.onStart?t.onStart:Yr,onComplete:t&&t.onComplete?t.onComplete:Yr};kn.to(this.z,{duration:n.duration,v:e,ease:n.ease,onStart:function(){i.isUpdatingZ=!0,i.shouldCheckHover=!1,n.onStart()},onUpdate:function(){i.isUpdatingZ=!0,i.shouldCheckHover=!1},onComplete:function(){i.isUpdatingZ=!1,i.shouldCheckHover=!0,Dr.device>1&&0===i.z.v&&!i.isOnMouseMove&&i.checkHover(),n.onComplete()}})}},{key:"updateDragSpeed",value:function(e){var t=this,i={x:e&&!isNaN(e.x)?e.x:0,y:e&&!isNaN(e.y)?e.y:0,duration:e&&e.duration?e.duration:this.zDuration,ease:e&&e.ease?e.ease:di.easeOut,onStart:e&&e.onStart?e.onStart:Yr,onComplete:e&&e.onComplete?e.onComplete:Yr};this.dragSpeedTween=kn.to(this.dragSpeed,{duration:i.duration,x:i.x,y:i.y,ease:i.ease,onStart:function(){t.shouldCheckHover=!1,t.isUpdatingDragSpeed=!0,i.onStart()},onUpdate:function(){t.shouldCheckHover=!1},onComplete:function(){t.shouldCheckHover=!0,t.isUpdatingDragSpeed=!1,i.onComplete()}})}},{key:"translateGrid",value:function(e){var t=this,i={x:e&&!isNaN(e.x)?e.x:0,y:e&&!isNaN(e.y)?e.y:0,duration:e&&!isNaN(e.duration)?e.duration:1,ease:e&&e.ease?e.ease:di.easeOut,onStart:e&&e.onStart?e.onStart:Yr,onComplete:e&&e.onComplete?e.onComplete:Yr,delay:e&&!isNaN(e.delay)?e.delay:0,catSlider:!(!e||!e.catSlider)},n={x:0,y:0},r=this.initialTranslate.x,o=this.initialTranslate.y,a=0,s=0,l=!1;this.translateTween=kn.to(n,{duration:i.duration,x:i.x,y:i.y,ease:i.ease,delay:i.delay,onStart:function(){t.isMoving=!0,t.shouldCheckHover=!1,t.resetHover(),i.onStart()},onUpdate:function(){if(t.isMoving=!0,t.shouldCheckHover=!1,r+=n.x-a,a=n.x,o+=n.y-s,s=n.y,t.checkTranslateOffset("x",r)){var e=Math.sign(r);r-=e*t.translateOffsets.x*t.scale.v,t.updateRowsHorizontally(e)}if(t.checkTranslateOffset("y",o)){var u=Math.sign(o);o-=u*t.translateOffsets.y*t.scale.v,t.updateRowsVertically(u),i.catSlider&&(l=!0)}t.translate.x=r,t.translate.y=o,t.initialTranslate.x=r,t.initialTranslate.y=o,t.updateMatrix()},onComplete:function(){if(i.catSlider&&!l){var e=Math.sign(t.translate.y);t.translate.y=0,t.initialTranslate.y=0,t.updateRowsVertically(e),t.updateMatrix()}t.killTranslate(!0),t.isMoving=!1,t.shouldCheckHover=!0,i.onComplete(l)}})}},{key:"killTranslate",value:function(e){this.translateTween&&(e||this.translateTween.kill(),this.initialTranslate.x=this.translate.x,this.initialTranslate.y=this.translate.y,this.isMoving=!1,this.translateTween=null)}},{key:"centerVertically",value:function(e){var t=e.duration,i=e.ease,n=e.onStart,r=e.onComplete;this.translateGrid({y:-this.translate.y,duration:t||.5,ease:i||di.easeOut,onStart:function(){n&&n()},onComplete:function(){r&&r()}})}},{key:"centerHorizontally",value:function(e){var t={duration:e&&!isNaN(e.duration)?e.duration:.5,ease:e&&e.ease?e.ease:di.easeOut,onStart:e&&e.onStart?e.onStart:Yr,onComplete:e&&e.onComplete?e.onComplete:Yr};this.translateGrid({x:-this.translate.x,duration:t.duration,ease:t.ease,onStart:function(){t.onStart()},onComplete:function(){t.onComplete()}})}},{key:"centerGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,i=e.onStart,n=e.onComplete;this.translateGrid({x:-this.translate.x,y:-this.translate.y,duration:t||.5,ease:mi.easeOut,onStart:function(){return i&&i()},onComplete:function(){return n&&n()}})}},{key:"checkHover",value:function(){var e=this;if(this.shouldCheckHover){var t=null;this.rows.forEach((function(i){i.planes.forEach((function(i,n){i.getActualPosition(),e.isIntersecting(i,{x:e.mouse.x,y:e.mouse.y})?(t=i,i.hover.active=!0):i.hover.active=!1}))})),this.hoverInstance&&(t?this.isSlider?2===t.row.index&&(this.hoverInstance.activePlane=t):this.hoverInstance.activePlane=t:this.hoverInstance.activePlane=null,this.isSlider?t?2===t.row.index&&(this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ?this.hoverInstance.isHidden||(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0)):this.hoverInstance.update()):this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ?this.hoverInstance.isHidden||(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0)):this.hoverInstance.update():this.isChangingMode||(this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ?this.hoverInstance.isHidden||(this.hoverInstance.activePlane=null,this.hoverInstance.disappear(!0)):this.hoverInstance.update())),t&&this.isSlider&&2===t.row.index&&(this.isMoving||this.isDragging||this.isScrolling||this.isUpdatingZ||Cr.changeBg(t.project.color,.4))}else this.setPlanesSaturation(0,.3,!0)}},{key:"addListeners",value:function(){this.hasListeners||(this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.canvas.addEventListener("mouseup",this.onMouseUp),this.canvas.addEventListener("touchend",this.onTouchEnd),window.addEventListener("wheel",this.onWheel,{passive:!1}),document.addEventListener("mouseleave",this.onWindowLeave),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.canvas.removeEventListener("mousedown",this.onMouseDown),this.canvas.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.canvas.removeEventListener("mouseup",this.onMouseUp),this.canvas.removeEventListener("touchend",this.onTouchEnd),window.removeEventListener("wheel",this.onWheel,{passive:!1}),document.removeEventListener("mouseleave",this.onWindowLeave),this.hasListeners=!1)}},{key:"onClick",value:function(e){var t=this;if(!this.isMoving&&!this.isSliding&&!this.isDragging){var i=e.type.indexOf("touch")>-1,n={x:i?e[e.touches.length?"touches":"changedTouches"][0].clientX:e.clientX,y:i?e[e.touches.length?"touches":"changedTouches"][0].clientY:e.clientY,c:Dr.window};this.rows.forEach((function(e){e.planes.forEach((function(e){e.getActualPosition(),t.isIntersecting(e,jr(n))&&(t.isUpdatingZ&&t.updateZ(0),wr.activeCategory=wr.categories[e.row.category.slug],wr.activeProject=wr.activeCategory.projects.find((function(t){return t.id===e.project.id})),t.activePlane=e,vr.call("gridManager","resetState"),vr.call("scrollManager","disableScroll"),document.body.classList.add("is-animating"),Dr.device>=2&&uo.trigger("loadOn"),vr.call("router","goTo",e.project.url))}))}))}}},{key:"onExit",value:function(e){var t=this;if(this.activePlane){var i=this.activePlane;this.loadNextImage((function(n,r,o){Cr.changeBg(i.project.color,.6),t.setLoadedTexture(i.project,n),t.setDestination(i,r,o),t.isChangingPage=!0,i.isActive=!0,kn.to(t.opacity,{duration:1,v:0}),kn.to(t.saturation,{duration:1,v:0}),t.setPlanesSaturation(0,1),setTimeout((function(){i.updateProgress((function(){e()}))}),600)}))}}},{key:"loadNextImage",value:function(e){var t=this.activePlane,i=this.sizes.imageRatios["portrait"===t.project.headerRatio?0:1],n=(Dr.window.width<=1440?.55:.46)*Dr.window.width,r=n/i,o=Or(t.project.image.ratio,n,r);vr.call("imageLoader","load",t.project.image,(function(t){e(t,n,r)}),o)}},{key:"setDestination",value:function(e,t,i){for(var n=jr({x:.3*Dr.window.width,y:.14*Dr.window.height,c:Dr.window}),r=n.y,o=n.x,a=Rr(t,Dr.window.width),s=Rr(i,Dr.window.height),l=t/i,u=this.xVertices,c=this.yVertices,h=[],d=0;d<c;d++)for(var f=r-d/c*s,p=0;p<u;p++){var g=o+p/u*a;h.push(g),h.push(f),h.push(g+1/u*a),h.push(f),h.push(g),h.push(f-1/c*s),h.push(g),h.push(f-1/c*s),h.push(g+1/u*a),h.push(f-1/c*s),h.push(g+1/u*a),h.push(f)}e.destinationRatio=l,e.destinationBufferInfo=Object(eo.createBufferInfoFromArrays)(this.gl,{dest:{numComponents:2,data:h}})}},{key:"requestRender",value:function(){this.renderId=requestAnimationFrame(this.render)}},{key:"cancelRender",value:function(){cancelAnimationFrame(this.renderId)}},{key:"getPlanesStatus",value:function(){var e=this;this.rows.forEach((function(t){t.planes.forEach((function(t){t.getActualPosition(),t.isVisible=e.isVisible(t),Dr.device>1?t.hover.active=!(e.isPrevented||e.isMoving||e.isUpdatingZ||e.isDragging||e.isSliding)&&e.isIntersecting(t,{x:e.mouse.x,y:e.mouse.y}):t.hover.active=!1}))}))}},{key:"updateTranslate",value:function(e,t){if(!isNaN(e)){if(this.checkTranslateOffset("x",e)){var i=Math.sign(e);e-=i*this.translateOffsets.x*this.scale.v,this.initialTranslate.x=e,this.updateRowsHorizontally(i)}this.translate.x=e}if(!isNaN(t)){if(this.checkTranslateOffset("y",t)){var n=Math.sign(t);t-=n*this.translateOffsets.y*this.scale.v,this.initialTranslate.y=t,this.updateRowsVertically(n)}this.translate.y=t}}},{key:"updateMatrix",value:function(){var e=zs.frustum(-1,1,-1,1,1,10);zs.setTranslation(e,[this.translate.x,this.translate.y,0],e),zs.scale(e,[this.scale.v,this.scale.v,1],this.matrix)}},{key:"updateMouse",value:function(e){var t=e.type.indexOf("touch")>-1;this.mouse.clientX=t?e.touches.length?e.touches[0].clientX:e.changedTouches[0].clientX:e.clientX,this.mouse.clientY=t?e.touches.length?e.touches[0].clientY:e.changedTouches[0].clientY:e.clientY;var i=jr({x:this.mouse.clientX,y:this.mouse.clientY,c:Dr.window});this.mouse.x=i.x,this.mouse.y=i.y}},{key:"checkActive",value:function(e){if(Dr.device<2&&!(this.isMoving||this.isSliding||this.isUpdatingZ||this.isDragging)){var t=e.actualPosition,i=t.right,n=t.left;t.center;return!!this.isSlider&&(2===e.row.index&&Math.min(Math.abs(n),Math.abs(i)))}return!1}},{key:"renderPlanes",value:function(){var e=this,t=100,i=null;this.rows.forEach((function(n,r){Object(eo.setUniforms)(e.programInfo,{t:(e.isInverted?n.index%2:1-n.index%2)*e.sizes.invertedTranslate,dS:e.isSlider?e.dragSpeed.x:0,zP:e.z.v}),n.planes.forEach((function(r,o){if(r.isVisible){e.gl.bindTexture(e.gl.TEXTURE_2D,r.project.texture);var a=e.checkActive(r);!1!==a&&(i=a<t?r:i,t=a<t?a:t),e.isSlider||e.isChangingMode||(e.isDragging||e.isUpdatingZ||e.isSliding||e.isMoving?r.updateSaturation(0,.3,!0):r.hover.active?(r.hover.hasExited=!1,r.hover.hasEntered||(r.hover.hasEntered=!0,r.updateSaturation(1,.3))):(r.hover.hasEntered=!1,r.hover.hasExited||(r.hover.hasExited=!0,r.updateSaturation(0,.3))));var s=r.saturation.v,l=.7;e.isChangingPage?(s=e.isSlider?r.isActive?1:2===n.index?e.saturation.v:r.saturation.v:r.isActive?1:r.saturation.v,l=r.isActive?.7:e.opacity.v):e.isChangingMode?(s=2===n.index?e.saturation.v:r.saturation.v,l=2===n.index?.7:e.opacity.v):e.isSlider?(s=2===n.index?e.saturation.v:1-e.saturation.v,l=2===n.index?.7:e.opacity.v):e.isNav&&(s=0,l=.7);var u=e.sizes.imageRatios[Hr(r.rowIndex)?0:1];Object(eo.setUniforms)(e.programInfo,{r:u,dR:r.isActive?r.destinationRatio:u,iR:r.imageRatio,sP:s,o:l,cP:r.isActive?r.progress.v:0,z:r.isActive?"0.0001":0}),Object(eo.setBuffersAndAttributes)(e.gl,e.programInfo,r.bufferInfo),r.destinationBufferInfo&&Object(eo.setBuffersAndAttributes)(e.gl,e.programInfo,r.destinationBufferInfo),Object(eo.drawBufferInfo)(e.gl,r.bufferInfo,e.gl.TRIANGLES)}}))})),i&&this.isSlider?(this.activePlaneId!==i.project.id&&vr.call("gridManager","toggleName",i),this.activePlaneId=i.project.id,this.hadActivePlane=!0):this.isSlider||(this.hadActivePlane&&vr.call("gridManager","disappearName"),this.activePlaneId=null,this.hadActivePlane=!1)}},{key:"resize",value:function(){"home"===yr.get("page")&&(this.cancelRender(),this.calculateSizes(),Object(eo.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.resetRows(),this.setupRows(),this.bindPlanesBuffers(),Object(eo.setUniforms)({dF:Dr.device>0?.05:.25}),this.requestRender())}},{key:"destroy",value:function(){this.gl&&this.canvas&&(this.removeListeners(),this.cancelRender(),this.resetRows(),this.deleteTextures(),this.gl.disable(this.gl.DEPTH_TEST),_r.resetState(),this.programInfo=null,this.gl=null,this.canvas=null,this.egg&&(this.egg.destroy(),this.egg=null))}},{key:"start",value:function(e){Object(eo.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),_r.setCSS(),this.gl.useProgram(this.programInfo.program),this.setLoadedTextures(e,0),this.loadedProjects=this.categories[0].projects.length,this.isReady=!0,this.requestRender(),this.onReady&&this.onReady()}},{key:"init",value:function(){"home"===yr.get("page")&&(this.canvas=_r.el,this.gl=_r.gl,this.canvas&&this.gl&&(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),this.programInfo=Object(eo.createProgramInfo)(this.gl,["#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform mat4 m; // transform matrix\nuniform float t; // translate righe sfasate\nuniform float zP; // z displacement progress\nuniform float z; // initial z\nuniform float dS; // drag speed\nuniform float dF; // distortion factor\nuniform float cP; // change page progress\nuniform float hT; // horizontal translate\nuniform float vT; // vertical translate\nuniform float s; // scale\nuniform float iR; // image ratio\nuniform float r; // current plane ratio\nuniform float dR; // destination plane ratio\n\nattribute vec2 pos;\nattribute vec2 uv;\nattribute vec2 dest;\n\nvarying vec2 v_p;\n\nvoid main () {\n  vec3 p = vec3(pos, z);\n\n  p.x -= t;\n  p.x += sin(uv.y * 3.1415) * sin(dS / 90.) * dF;\n  p.z += length(m * vec4(p,1.)) / 12. * zP;\n\n  float sP = smoothstep(distance(uv,vec2(0.5)) * 0.1,1.,cP);\n  \n  vec2 iP = p.xy;\n  vec2 fP = vec2((dest.x-hT)/s,(dest.y-vT)/s);\n  vec2 aP = iP + (fP - iP) * sP;\n\n  float aR = r + (dR - r) * sP;\n  gl_Position = m*vec4(aP,p.z,1.);\n  v_p = .5+(uv-.5)*vec2(min(aR/iR,1.),min(iR/aR,1.));\n}","#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D tex;\nuniform float sP; // saturation progress\nuniform float o; // opacity\n\nvarying vec2 v_p;\n\nconst vec3 g = vec3(0.2125, 0.7154, 0.0721);\nvec3 saturate (vec3 c, float p) {\n  return mix(vec3(dot(c, g)), c, p);\n}\n\nvoid main () {\n  vec4 color = texture2D(tex, v_p);\n  gl_FragColor = vec4(saturate(color.rgb, sP),(o+((1.-o)*sP)));\n  gl_FragColor.rgb *= gl_FragColor.a;\n}"]),Object(eo.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.useProgram(this.programInfo.program),this.calculateSizes(),this.getCategories(),this.createTextures(),this.setupRows(),this.matrix=zs.identity(),Object(eo.setUniforms)(this.programInfo,{z:0,dS:0,m:this.matrix,tex:this.rows[0].planes[0].texture,dF:Dr.device>0?.05:.25}),this.bindPlanesBuffers(),this.scale.v=this.sliderScale,this.opacity.v=0,this.saturation.v=1,this.updateTranslate(0,this.sliderCenter),this.initialTranslate.y=this.sliderCenter,this.updateMatrix(),this.setInitialPosition(),this.egg=new hl,window.grid=this))}}]),e}(),yl=function(){function e(t,i,n){fl(this,e),this.grid=t,this.category=i,this.index=n,this.planes=[],this.init()}return gl(e,[{key:"setupPlanes",value:function(){for(var e=0;e<this.grid.totalCols;e++){var t=e+this.index*this.grid.totalCols;this.planes.push(new bl(this.grid,this,t,e))}}},{key:"getVertices",value:function(){for(var e=this.grid.sizes,t=e.h,i=e.vo,n=e.ho,r=e.imageWidths,o=e.imageRatios,a=e.gridHeight,s=e.rowWidth,l=e.invertedTranslate,u=this.grid,c=u.xVertices,h=u.yVertices,d=u.totalCols,f=-Mr(-a/2+this.index*(t+i)),p=t,g=0;g<d;g++){for(var v=[],m=[],y=Hr(g)?0:1,b=Mr(Math.ceil(g/2)*r[0]+Math.floor(g/2)*r[1]),w=Mr(g*n),x=Mr(-s/2+(b+w)+l/2),D=r[y],S=o[y],_=0;_<h;_++)for(var E=_/h,C=f-E*p,k=0;k<c;k++){var T=k/c,A=x+T*D;v.push(A),v.push(C),m.push(T),m.push(1-E),v.push(A+D/c),v.push(C),m.push(T+1/c),m.push(1-E),v.push(A),v.push(C-p/h),m.push(T),m.push(1-(E+1/h)),v.push(A),v.push(C-p/h),m.push(T),m.push(1-(E+1/h)),v.push(A+D/c),v.push(C-p/h),m.push(T+1/c),m.push(1-(E+1/h)),v.push(A+D/c),v.push(C),m.push(T+1/c),m.push(1-E)}this.planes[g].set({width:D,height:p,ratio:S,top:f,right:x+D,bottom:f-p,left:x,vertices:v,uvs:m})}}},{key:"updateTextures",value:function(){var e=this;this.planes.forEach((function(t,i){var n=(e.category.firstTexture+i)%e.category.projects.length;t.updateTexture(e.category.projects[n])}))}},{key:"init",value:function(){this.setupPlanes(),this.getVertices(),this.updateTextures()}}]),e}(),bl=function(){function e(t,i,n,r){fl(this,e),this.width=0,this.height=0,this.top=0,this.left=0,this.ratio=0,this.imageRatio=0,this.vertices=[],this.uvs=[],this.bufferInfo=null,this.texture=null,this.grid=t,this.row=i,this.project=null,this.index=n,this.rowIndex=r,this.hover={active:!1,hasEntered:!1,hasExited:!1},this.saturation={v:0},this.progress={v:0},this.saturationTween=null,this.actualPosition={top:0,right:0,bottom:0,left:0},this.isActive=!1,this.isAnimating=!1}return gl(e,[{key:"set",value:function(e){for(var t in e)this[t]=e[t]}},{key:"updateTexture",value:function(e){this.project=e,this.texture=e.texture,this.imageRatio=e.image.url.ratio}},{key:"updateSaturation",value:function(e,t,i){var n=this;kn.to(this.saturation,{duration:isNaN(t)?0:t,v:isNaN(e)?0:e,onStart:function(){n.isAnimating=!0,i&&(n.hover={active:!1,hasEntered:!1,hasExited:!1})},onComplete:function(){n.isAnimating=!1}})}},{key:"updateProgress",value:function(e){kn.to(this.progress,{duration:1,v:1,onComplete:function(){return e&&e()}})}},{key:"getActualPosition",value:function(){var e=(this.grid.isInverted?this.row.index%2:1-this.row.index%2)*this.grid.sizes.invertedTranslate,t=this.top*this.grid.scale.v+this.grid.translate.y,i=(this.right-e)*this.grid.scale.v+this.grid.translate.x,n=this.bottom*this.grid.scale.v+this.grid.translate.y,r=(this.left-e)*this.grid.scale.v+this.grid.translate.x;this.actualPosition={top:t,right:i,bottom:n,left:r,center:[(r+i)/2,(t+n)/2]}}},{key:"reset",value:function(){if(this.bufferInfo)for(var e in this.bufferInfo.attribs)"object"===dl(this.bufferInfo.attribs[e])&&this.grid.gl.deleteBuffer(this.bufferInfo.attribs[e].buffer)}}]),e}();function wl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Dl=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xl(this,"prev",(function(){var e=i.getClosestPlane(),t=e.plane,n=e.index,r=Mr(i.margin-t.actualPosition.left,4),o=r>0?r:i.margin-i.grid.rows[2].planes[n-1].actualPosition.left;i.grid.translateGrid({x:o,duration:Ur(Math.abs(o),.5,1)}),i.grid.updateDragSpeed({x:20,duration:Ur(Math.abs(o),.5,1)/2,onComplete:function(){i.grid.updateDragSpeed({x:0,duration:Ur(Math.abs(o),.5,1)/2})}})})),xl(this,"next",(function(){var e=i.getClosestPlane(),t=e.plane,n=e.index,r=Mr(i.margin-t.actualPosition.left,4),o=r<0?r:i.margin-i.grid.rows[2].planes[n+1].actualPosition.left;i.grid.translateGrid({x:o,duration:Ur(Math.abs(o),.5,1)}),i.grid.updateDragSpeed({x:-20,duration:Ur(o,.5,1)/2,onComplete:function(){i.grid.updateDragSpeed({x:0,duration:Ur(o,.5,1)/2})}})})),this.grid=t,this.visiblePlanes=[],this.progressContainer=null,this.progress=null,this.currentContainer=null,this.current=null,this.prevArrow=null,this.nextArrow=null,this.gridOpener=null,this.filterLabel=null,this.activeIndex=0,this.total=0,this.shouldUpdate=!1,this.init()}var t,i,n;return t=e,(i=[{key:"setup",value:function(){this.margin=jr({x:Dr.window.width*Dr.navPadding[Dr.device>1?"desk":"mobile"],c:Dr.window}).x,this.total=this.grid.rows[2].category.projects.length,this.setProgress(0)}},{key:"setProgress",value:function(e){}},{key:"updateProgress",value:function(){for(var e=0;e<this.grid.rows[2].planes.length;e++){var t=this.grid.rows[2].planes[e];if(t.project.index+1===this.total&&t.actualPosition.right+this.grid.sizes.ho*this.grid.scale.v>this.margin){var i=t.width===this.grid.sizes.imageWidths[0]?0:1;Math.ceil(this.total/2),this.grid.sizes.imageWidths[i],this.grid.scale.v,Math.floor(this.total/2),this.grid.sizes.imageWidths[1-i],this.grid.scale.v,this.total,this.grid.sizes.ho,this.grid.scale.v,e=this.grid.rows[2].planes.length,t.actualPosition.right,this.grid.sizes.ho,this.grid.scale.v,this.margin}}}},{key:"getClosestPlane",value:function(){var e=this,t=null,i=0;return this.grid.rows[2].planes.forEach((function(n,r){var o=Math.abs(e.margin-n.actualPosition.left);(null===t||o<t)&&(t=o,i=r)})),{plane:this.grid.rows[2].planes[i],index:i}}},{key:"updateCurrent",value:function(){this.current.innerHTML=this.grid.rows[2].category.name}},{key:"getVisiblePlanes",value:function(){var e=this,t=[];this.grid.rows[2].planes.forEach((function(i){i.getActualPosition(),e.grid.isVisible(i)&&t.push(i)})),this.visiblePlanes=t}},{key:"enterElements",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.duration,n=t.onStart,r=t.onComplete,o=t.delay,a=kn.timeline({onStart:function(){n&&n()},onComplete:function(){r&&r()},delay:o||0});return a.to(this.progressContainer,{duration:i||.35,scaleX:1,ease:gi.easeInOut,onStart:function(){kn.set(e.progressContainer,{display:"block"})}}).to(this.filterLabel,{duration:i||.5,opacity:1,onStart:function(){kn.set(e.filterLabel,{display:"block"})}},0).to(this.currentContainer,{duration:i||.5,opacity:1,onStart:function(){kn.set(e.currentContainer,{display:"flex"})}},0).to(this.gridOpener,{duration:i||.5,opacity:1,onStart:function(){kn.set(e.gridOpener,{display:"flex"})}},0).to(this.prevArrow,{duration:i||.5,opacity:1,onStart:function(){kn.set(e.prevArrow,{display:"block"})}},0).to(this.nextArrow,{duration:i||.5,opacity:1,onStart:function(){kn.set(e.nextArrow,{display:"block"})}},0),a}},{key:"exitElements",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.duration,n=t.onStart,r=t.onComplete,o=t.delay,a=kn.timeline({onStart:function(){n&&n()},onComplete:function(){r&&r()},delay:o||0});return a.to(this.progressContainer,{duration:i||.35,scaleX:0,ease:yi.easeInOut,onStart:function(){kn.set(e.progressContainer,{transformOrigin:"right center"})},onComplete:function(){kn.set(e.progressContainer,{display:"none",transformOrigin:"left center"})}},"-=0.3").to(this.filterLabel,{duration:i||.5,opacity:0,onComplete:function(){kn.set(e.filterLabel,{display:"none"})}},0).to(this.currentContainer,{duration:i||.5,opacity:0,onComplete:function(){kn.set(e.currentContainer,{display:"none"})}},0).to(this.gridOpener,{duration:i||.5,opacity:0,onComplete:function(){kn.set(e.gridOpener,{display:"none"})}},0).to(this.prevArrow,{duration:i||.5,opacity:0,onComplete:function(){kn.set(e.prevArrow,{display:"none"})}},0).to(this.nextArrow,{duration:i||.5,opacity:0,onComplete:function(){kn.set(e.nextArrow,{display:"none"})}},0),a}},{key:"addListeners",value:function(){this.hasListeners||(this.prevArrow.addEventListener("click",this.prev),this.nextArrow.addEventListener("click",this.next),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.prevArrow.removeEventListener("click",this.prev),this.nextArrow.removeEventListener("click",this.next),this.hasListeners=!1)}},{key:"init",value:function(){this.progressContainer=(wr.nextContainer||document).querySelector(".js-categories-progress-container"),this.progress=(wr.nextContainer||document).querySelector(".js-categories-progress"),this.currentContainer=(wr.nextContainer||document).querySelector(".js-categories-current-container"),this.current=(wr.nextContainer||document).querySelector(".js-categories-current"),this.prevArrow=(wr.nextContainer||document).querySelector(".js-categories-prev"),this.nextArrow=(wr.nextContainer||document).querySelector(".js-categories-next"),this.gridOpener=(wr.nextContainer||document).querySelector(".js-categories-grid-open"),this.filterLabel=(wr.nextContainer||document).querySelector(".js-categories-filter-label"),this.progressContainer&&this.progress&&this.currentContainer&&this.current&&this.gridOpener&&this.prevArrow&&this.nextArrow&&this.filterLabel&&(this.setup(),this.updateCurrent(),this.getVisiblePlanes(),this.addListeners(),this.grid.sliderInstance=this)}},{key:"destroy",value:function(){this.removeListeners()}}])&&wl(t.prototype,i),n&&wl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var El=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_l(this,"onMouseDown",(function(e){i.onDragStart(e)})),_l(this,"onTouchStart",(function(e){i.onDragStart(e)})),_l(this,"onMouseMove",(function(e){i.isDragging&&i.onDragMove(e)})),_l(this,"onTouchMove",(function(e){e.preventDefault(),i.onDragMove(e)})),_l(this,"onMouseUp",(function(e){i.onDragEnd(e)})),_l(this,"onTouchEnd",(function(e){i.onDragEnd(e)})),_l(this,"onWheel",(function(e){e.preventDefault(),i.isAnimating||i.isDragging||(e.deltaY<-15?i.activeIndex>0&&(i.isAnimating=!0,i.goPrev({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}})):e.deltaY>15&&i.activeIndex<i.items.length-1&&(i.isAnimating=!0,i.goNext({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}})))})),_l(this,"onKeyUp",(function(e){if(!i.isAnimating&&!i.isDragging)switch(e.keyCode){case 13:case 27:vr.call("gridManager","navToSlider");break;case 38:i.activeIndex>0&&(i.isAnimating=!0,i.goPrev({onComplete:function(){i.isAnimating=!1}}));break;case 40:i.activeIndex<i.items.length-1&&(i.isAnimating=!0,i.goNext({onComplete:function(){i.isAnimating=!1}}))}})),_l(this,"onDragStart",(function(e){i.isDragging=!0,i.dragStart="touchstart"===e.type?e.touches[0].clientY:e.clientY})),_l(this,"onDragMove",(function(e){i.hasDragged=!0;var t="touchmove"===e.type?e.touches[0].clientY:e.clientY;i.dragDelta=i.dragStart-t})),_l(this,"onDragEnd",(function(e){i.isDragging=!1,!i.isAnimating&&i.hasDragged&&(i.dragDelta<-i.slideMargin/2?i.activeIndex>0&&(i.isAnimating=!0,i.goPrev({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}})):i.dragDelta>i.slideMargin/2&&i.activeIndex<i.items.length-1&&(i.isAnimating=!0,i.goNext({onComplete:function(){setTimeout((function(){i.isAnimating=!1}),200)}}))),i.hasDragged=!1,i.dragDelta=0})),_l(this,"onItemClick",(function(e){var t=i.items.findIndex((function(t){return t.el.isSameNode(e.currentTarget)}));if(t>-1){var n=.5*Math.abs(i.activeIndex-t),r=t-i.activeIndex,o=i.grid.translateOffsets.y*r;i.onItemLeave(e),0!==r?i.goTo(t,{duration:n,onStart:function(){i.grid.translateGrid({catSlider:!0,y:o,duration:n,onComplete:function(){setTimeout((function(){vr.call("gridManager","navToSlider")}),200)}},!0)}}):setTimeout((function(){vr.call("gridManager","navToSlider")}),200)}})),_l(this,"onItemHover",(function(e){for(var t=i.items.findIndex((function(t){return t.el.isSameNode(e.currentTarget)})),n=0;n<i.items.length;n++)n!==t&&i.items[n].el.classList.add("is-hover")})),_l(this,"onItemLeave",(function(e){for(var t=0;t<i.items.length;t++)i.items[t].el.classList.remove("is-hover")})),this.slider=null,this.list=null,this.slides=[],this.items=[],this.line=null,this.lineBar=null,this.slideTitles=[],this.slideTotals=[],this.slideHeight=0,this.slideMargin=0,this.grid=t,this.activeIndex=0,this.isAnimating=!1,this.dragStart=0,this.dragDelta=0,this.isDragging=!1,this.hasDragged=!1}var t,i,n;return t=e,(i=[{key:"getSizes",value:function(){this.slideHeight=this.items[0].el.clientHeight,this.slideMargin=parseFloat(getComputedStyle(this.items[0].el).marginBottom.slice(0,-2)),this.translateValue=this.slideMargin+this.slideHeight,kn.set(this.list,{top:Dr.window.height/2-this.slideHeight/2}),kn.set(this.line,{top:Dr.window.height/2+this.slideHeight/2})}},{key:"setActiveIndex",value:function(e){this.activeIndex=e}},{key:"goTo",value:function(e,t){if(e>=0&&e<=this.items.length-1){var i=t.duration,n=t.onStart,r=t.onComplete;this.setActiveIndex(e);var o=0===e?0:"-".concat(this.translateValue*e);kn.to(this.list,{duration:i||.5,y:o,onStart:function(){n&&n()},onComplete:function(){r&&r()}}),this.scaleLine(i||.5)}}},{key:"goNext",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete;this.goTo(this.activeIndex+1,{duration:i||.5,onStart:function(){t.grid.translateGrid({catSlider:!0,y:t.grid.translateOffsets.y,duration:i||.5},!0),n&&n()},onComplete:function(){r&&r()}})}},{key:"goPrev",value:function(e){var t=this,i=e.duration,n=e.onStart,r=e.onComplete;this.goTo(this.activeIndex-1,{duration:i||.5,onStart:function(){t.grid.translateGrid({catSlider:!0,y:-t.grid.translateOffsets.y,duration:i||.5},!0),n&&n()},onComplete:function(){r&&r()}})}},{key:"scaleLine",value:function(e){kn.to(this.line,{duration:e,scaleX:this.items[this.activeIndex].width/100,ease:gi.easeOut})}},{key:"initItems",value:function(){var e=this;this.items=[],this.slides.forEach((function(t){var i=t.querySelector(".categories-slider__item-inner"),n=i?i.clientWidth:0;e.items.push({el:t,width:n})}))}},{key:"addListeners",value:function(){var e=this;this.hasListeners||(window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("touchstart",this.onTouchStart,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd),window.addEventListener("wheel",this.onWheel,{passive:!1}),window.addEventListener("keyup",this.onKeyUp),this.items.forEach((function(t){t.el.addEventListener("click",e.onItemClick),t.el.addEventListener("mouseenter",e.onItemHover),t.el.addEventListener("mouseleave",e.onItemLeave)})),this.hasListeners=!0)}},{key:"removeListeners",value:function(){var e=this;this.hasListeners&&(window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd),window.removeEventListener("wheel",this.onWheel,{passive:!1}),window.removeEventListener("keyup",this.onKeyUp),this.items.forEach((function(t){t.el.removeEventListener("click",e.onItemClick),t.el.removeEventListener("mouseenter",e.onItemHover),t.el.removeEventListener("mouseleave",e.onItemLeave)})),this.hasListeners=!1)}},{key:"resize",value:function(){this.list&&this.slides.length&&this.line&&(this.lineBar=document.querySelector(".js-categories-slider-line-bar"),this.slideTitles=document.querySelectorAll(".categories-slider__item-name .line-child"),this.slideTotals=document.querySelectorAll(".categories-slider__item-total .line-child"),this.initItems(),this.getSizes(),this.goTo(this.activeIndex,{duration:0}))}},{key:"destroy",value:function(){this.removeListeners()}},{key:"init",value:function(e){this.slider=(wr.nextContainer||document).querySelector(".js-categories-slider"),this.slider&&(this.list=(wr.nextContainer||document).querySelector(".js-categories-slider-list"),this.slides=(wr.nextContainer||document).querySelectorAll(".js-categories-slider-item"),this.line=(wr.nextContainer||document).querySelector(".js-categories-slider-line"),this.list&&this.slides.length&&this.line&&(this.lineBar=(wr.nextContainer||document).querySelector(".js-categories-slider-line-bar"),this.slideTitles=(wr.nextContainer||document).querySelectorAll(".categories-slider__item-name .line-child"),this.slideTotals=(wr.nextContainer||document).querySelectorAll(".categories-slider__item-total .line-child"),this.initItems(),this.getSizes(),e&&e()))}}])&&Sl(t.prototype,i),n&&Sl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Cl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Tl=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kl(this,"open",(function(){if(!i.isAnimating&&i.grid.isReady){i.isAnimate(!0),i.slider.goTo(i.grid.rows[2].category.index,{duration:0,onComplete:function(){return i.slider.isOnScroll=!1}});var e=kn.timeline({onComplete:function(){i.isOpen=!0,i.slider.addListeners(),i.isAnimate(!1)}});return e.set(i.target,{visibility:"visible",zIndex:3}).to(i.gridBottomLines,{duration:.7,yPercent:-120,skewY:"-4deg",stagger:.1,ease:gi.easeInOut,onComplete:function(){kn.set(i.gridBottomLines,{yPercent:120,skewY:"0deg"})}}).to(i.bg,{duration:.4,opacity:.5,ease:gi.easeIn},"-=0.1").to(i.slider.slideTitles,{duration:1,yPercent:0,skewY:"0deg",stagger:{amount:.25,from:i.slider.activeIndex},ease:gi.easeInOut}).to(i.slider.slideTotals,{duration:1,yPercent:0,skewY:"0deg",stagger:{amount:.25,from:i.slider.activeIndex},ease:gi.easeInOut},"-=1.2").to(i.slider.lineBar,{duration:.5,scaleX:1,ease:yi.easeInOut,onComplete:function(){kn.set(i.slider.lineBar,{transformOrigin:"right center"})}},"-=0.8"),e}})),kl(this,"close",(function(){if(!i.isAnimating){i.isAnimate(!0),i.slider.removeListeners();var e=kn.timeline({onComplete:function(){i.isOpen=!1,i.isAnimate(!1)}});return e.to(i.slider.lineBar,{duration:.5,scaleX:0,ease:yi.easeInOut,onComplete:function(){kn.set(i.slider.lineBar,{transformOrigin:"left center"})}}).to(i.slider.slideTitles,{duration:.8,yPercent:130,skewY:"-6deg",stagger:{amount:.2,from:i.slider.activeIndex},ease:gi.easeInOut},"-=0.4").to(i.slider.slideTotals,{duration:.8,yPercent:130,skewY:"-6deg",stagger:{amount:.2,from:i.slider.activeIndex},ease:gi.easeInOut},"-=1.3").to(i.bg,{duration:.35,opacity:0,ease:gi.easeOut,onComplete:function(){kn.set(i.target,{visibility:"hidden",zIndex:"-1"}),kn.set(i.slider.slideTitles,{yPercent:130,skewY:"6deg"}),kn.set(i.slider.slideTotals,{yPercent:130,skewY:"6deg"}),kn.to(i.gridBottomLines,{duration:.7,yPercent:0,skewY:"0deg",stagger:.1,ease:gi.easeInOut})}},"-=0.6"),e}})),this.target=(wr.nextContainer||document).querySelector(".js-categories-nav"),this.grid=t,this.slider=null,this.bg=null,this.opener=null,this.closer=null,this.isAnimating=!1,this.isOpen=!1,this.init()}var t,i,n;return t=e,(i=[{key:"setup",value:function(){var e=this;this.slider.init((function(){e.gridBottomLines=(wr.nextContainer||document).querySelectorAll(".grid__bottom-text .line-child"),kn.set(e.slider.slideTitles,{yPercent:130,skewY:"6deg"}),kn.set(e.slider.slideTotals,{yPercent:130,skewY:"6deg"}),kn.set(e.slider.lineBar,{scaleX:0})}))}},{key:"isAnimate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isAnimating=e,e?document.body.classList.add("is-animating"):document.body.classList.remove("is-animating")}},{key:"resize",value:function(){this.gridBottomLines=document.querySelectorAll(".grid__bottom-text .line-child"),this.slider.resize(),this.isOpen?(kn.set(this.slider.slideTitles,{yPercent:0,skewY:"0deg"}),kn.set(this.slider.slideTotals,{yPercent:0,skewY:"0deg"}),kn.set(this.slider.lineBar,{scaleX:1})):(kn.set(this.slider.slideTitles,{yPercent:130,skewY:"6deg"}),kn.set(this.slider.slideTotals,{yPercent:130,skewY:"6deg"}),kn.set(this.slider.lineBar,{scaleX:0}))}},{key:"destroy",value:function(){this.grid=null,this.slider.destroy(),this.slider=null}},{key:"reinit",value:function(){this.target=document.querySelector(".js-categories-nav"),this.slider=new El,this.bg=this.target?this.target.querySelector(".categories-nav__bg"):null,this.init()}},{key:"init",value:function(){this.target&&(this.slider=new El(this.grid),this.bg=this.target.querySelector(".categories-nav__bg"),this.opener=(wr.nextContainer||document).querySelector(".js-categories-open"),this.closer=(wr.nextContainer||document).querySelector(".js-categories-close"),this.categoryBottom=(wr.nextContainer||document).querySelector(".js-grid-mobile-category"),this.setup())}}])&&Cl(t.prototype,i),n&&Cl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Al(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ol=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid=t,this.tl=null,this.isAnimating=!1,this.isActive=!1,this.isHidden=!0,this.activePlane=null,this.animatedPlane=null,this.shouldUpdate=!0,this.init()}var t,i,n;return t=e,(i=[{key:"setRectangle",value:function(e){this.activePlane=e;var t=e.actualPosition,i=t.top,n=t.right,r=t.bottom,o=t.left,a=qr({x:n,y:i,c:Dr.window}),s=qr({x:o,y:r,c:Dr.window});kn.set(this.blockEl,{top:a.y,right:Dr.window.width-a.x,bottom:Dr.window.height-s.y,left:s.x}),kn.set([this.name,this.number],{left:"calc(100% + ".concat(Math.min(Br(this.grid.sizes.ho*this.grid.scale.v/2,Dr.window.width),25),"px)")}),this.nameInner.innerText=e.project.name;var l=e.project.index+1;this.numberInner.innerText="".concat(e.row.category.name," ").concat(l>=10?l:"0".concat(l))}},{key:"appear",value:function(){var e=this;this.isInitialized&&(this.isAnimating=!0,this.isAppearing=!0,this.isHidden=!1,this.isDisappearing=!1,this.animatedPlane=Object.assign({},this.activePlane),kn.set(this.blockEl,{display:"block"}),kn.timeline({onStart:function(){},onComplete:function(){e.isAppearing=!1,e.isAnimating=!1,e.isActive=!0,e.activePlane||(e.disappear(),Dr.device>=2&&uo.trigger("defaultOff"),e.grid&&e.grid.canvas.classList.remove("pointer"))}}).to(this.shadow,{duration:.15,opacity:1}).to([this.nameInner,this.numberInner],{duration:.15,y:"0%"},0))}},{key:"disappear",value:function(e,t){var i=this;this.isInitialized&&(this.isAnimating=!0,this.isAppearing=!1,this.isDisappearing=!0,this.isActive=!1,kn.timeline({onStart:function(){},onComplete:function(){i.isDisappearing=!1,i.isAnimating=!1,i.isHidden=!0,i.animatedPlane=null,kn.set(i.blockEl,{display:"none"}),i.activePlane&&(i.setRectangle(i.activePlane),i.appear(),Dr.device>=2&&uo.trigger("scaleOn"),i.grid&&i.grid.canvas.classList.add("pointer")),e&&t&&t()}}).to(this.shadow,{duration:e?0:.15,opacity:0}).to([this.nameInner,this.numberInner],{duration:e?0:.15,y:"100%"}))}},{key:"update",value:function(){var e=this;this.isInitialized&&this.shouldUpdate&&(this.isAnimating?this.isAppearing?this.activePlane?this.animatedPlane&&this.animatedPlane.index!==this.activePlane.index&&(this.disappear(),Dr.device>=2&&uo.trigger("defaultOff"),this.grid&&this.grid.canvas.classList.remove("pointer")):(this.disappear(),Dr.device>=2&&uo.trigger("defaultOff"),this.grid&&this.grid.canvas.classList.remove("pointer")):this.activePlane&&this.animatedPlane&&this.animatedPlane.index===this.activePlane.index&&this.animatedPlane.project.index==this.animatedPlane.project.index&&(this.appear(),Dr.device>=2&&uo.trigger("scaleOn"),this.grid&&this.grid.canvas.classList.add("pointer")):this.isActive?this.activePlane?this.animatedPlane&&this.animatedPlane.index!==this.activePlane.index&&this.animatedPlane.project.index!==this.activePlane.project.index&&this.disappear(!0,(function(){e.setRectangle(e.activePlane),Dr.device>=2&&uo.trigger("defaultOff"),e.grid&&e.grid.canvas.classList.remove("pointer")})):(this.disappear(),Dr.device>=2&&uo.trigger("defaultOff"),this.grid&&this.grid.canvas.classList.remove("pointer")):this.activePlane&&(this.setRectangle(this.activePlane),this.appear(),Dr.device>=2&&uo.trigger("scaleOn"),this.grid&&this.grid.canvas.classList.add("pointer")))}},{key:"init",value:function(){Dr.device>1&&!wr.isIos&&(this.blockEl=(wr.nextContainer||document).querySelector(".js-grid-rectangle"),this.blockEl&&(this.shadow=this.blockEl.querySelector("[data-shadow]"),this.name=this.blockEl.querySelector("[data-name]"),this.number=this.blockEl.querySelector("[data-number]"),this.shadow&&this.name&&this.number&&(this.nameInner=this.name.querySelector("div"),this.numberInner=this.number.querySelector("div"),this.nameInner&&this.numberInner&&(this.grid.hoverInstance=this),this.isInitialized=!0)))}},{key:"resize",value:function(){this.isInitialized&&this.disappear(!0)}},{key:"destroy",value:function(){this.shouldUpdate=!1}}])&&Al(t.prototype,i),n&&Al(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Pl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ll=function(){function e(t){var i,n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){var e=o.activePlane;e&&(wr.activeProject=e.project,wr.activeCategory=e.row.category,o.activePlane=e,vr.call("gridManager","resetState"),vr.call("scrollManager","disableScroll"),Dr.device>=2&&uo.trigger("loadOn"),vr.call("router","goTo",e.project.url))},(n="goToCase")in(i=this)?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,this.grid=t,this.grid&&(this.isOpen=!0,this.isAnimating=!1,this.hasRemovedClone=!1,this.init())}var t,i,n;return t=e,(i=[{key:"removeListeners",value:function(){this.target&&this.target.removeEventListener("click",this.goToCase)}},{key:"addListeners",value:function(){this.target.addEventListener("click",this.goToCase)}},{key:"disappear",value:function(){this.isOpen&&(this.isOpen=!1,kn.to(this.target,{duration:.4,opacity:0,pointerEvents:"none"}))}},{key:"appear",value:function(){this.isOpen||(this.isOpen=!0,kn.to(this.target,{duration:.4,opacity:1,pointerEvents:"auto"}))}},{key:"createNextCategory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");t.className="grid-mobile__category-item nom";var i=document.createElement("p");i.className="h5",i.textContent=e,t.appendChild(i),kn.set(t,{yPercent:100}),this.wrap.appendChild(t),this.categories=this.wrap.querySelectorAll(".grid-mobile__category-item")}},{key:"changeName",value:function(e){var t=this;this.activePlane=e;var i="0".concat(e.project.index+1,"-").concat(e.project.name);this.createNextCategory(i),this.target.setAttribute("data-url",e.project.url),this.appear(),kn.timeline({onStart:function(){t.isAnimating=!0,t.hasRemovedClone=!1},onComplete:function(){t.categories[1]&&t.categories[1].removeAttribute("style"),t.categories&&t.categories.length>0&&t.categories[0]&&!t.hasRemovedClone&&(kr(t.categories[0]),t.hasRemovedClone=!0),t.isAnimating=!1}}).to(this.categories[0],{duration:.5,yPercent:-100,ease:gi.easeInOut}).to(this.categories[1],{duration:.5,yPercent:0,ease:gi.easeInOut},"-=0.5")}},{key:"init",value:function(){this.target=(wr.nextContainer||document).querySelector(".js-grid-mobile-category"),this.target&&(this.wrap=this.target.querySelector(".js-grid-mobile-category-wrap"),this.addListeners())}},{key:"destroy",value:function(){this.removeListeners()}},{key:"resize",value:function(){}}])&&Pl(t.prototype,i),n&&Pl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Il(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ml=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fl(this,"sliderToGrid",(function(){t.grid.removeListeners(),t.menu.removeListeners(),t.grid&&t.grid.egg&&t.grid.egg.deactivate(),Cr.changeBg(Cr.metaColor,.3),t.slider.exitElements({duration:.8,onComplete:function(){return t.slider.shouldUpdate=!1}}),t.grid.closeSlider({delay:.2,duration:.8,onStart:function(){t.menu.animateToggleIn()},onComplete:function(){t.menu.toggler.addEventListener("click",t.gridToSlider),t.grid.addListeners(),t.slider.setProgress(0)}})})),Fl(this,"gridToSlider",(function(){t.grid.removeListeners(),t.menu.toggler.removeEventListener("click",t.gridToSlider),t.grid.updateDragSpeed({x:0,y:0,duration:0}),t.slider.setup(),t.slider.setProgress(0),t.slider.updateCurrent(),t.menu.animateToggleOut(),t.grid.openSlider({duration:1}),t.slider.enterElements({delay:.5,duration:1,onComplete:function(){t.menu.addListeners(),t.grid.addListeners(),t.slider.shouldUpdate=!0}})})),Fl(this,"sliderToNav",(function(){t.grid.removeListeners(),t.menu.removeListeners(),Cr.changeBg(Cr.metaColor,.3),t.grid.setPlanesSaturation(0,.3),t.grid.isNav=!0,t.slider.exitElements({duration:.8,onComplete:function(){return t.slider.shouldUpdate=!1}}),t.grid.centerVertically({duration:.4}),t.grid.closeSlider({delay:.5,duration:1,onStart:function(){t.menu.setDataColor("white"),t.menu.animateToggleIn(),t.nav.open()},onComplete:function(){t.menu.toggler.addEventListener("click",t.navToSlider),t.slider.setProgress(0)}})})),Fl(this,"navToSlider",(function(){t.menu.toggler.removeEventListener("click",t.navToSlider),t.slider.setup(),t.slider.setProgress(0),t.slider.updateCurrent(),t.menu.animateToggleOut(),t.nav.close(),t.grid.openSlider({duration:1}),t.slider.enterElements({delay:.5,duration:1,onStart:function(){t.menu.setDataColor("black",!0)},onComplete:function(){t.menu.addListeners(),t.grid.addListeners(),t.slider.shouldUpdate=!0,t.grid.isNav=!1}})})),Fl(this,"onFirstClick",(function(e){var i=!!e.target.classList.contains("js-categories-grid-open")||!!e.target.closest(".js-categories-grid-open");t.slider.gridOpener.removeEventListener("click",t.onFirstClick),t.nav.opener.removeEventListener("click",t.onFirstClick),Dr.device>=2&&uo.trigger("loadOn"),document.body.classList.add("is-animating"),t.grid.loadAll((function(){t.addListeners(),document.body.classList.remove("is-animating"),Dr.device>=2&&uo.trigger("loadOff"),i?t.sliderToGrid():t.sliderToNav()}))})),this.loader=null,this.grid=null,this.slider=null,this.nav=null,this.init()}var t,i,n;return t=e,(i=[{key:"hideElements",value:function(){this.grid.isSlider&&this.slider.exitElements({duration:.8}),this.bottomText&&kn.to(this.bottomText,{duration:.8,opacity:0}),this.bottomLogo&&kn.to(this.bottomLogo,{duration:.8,opacity:0})}},{key:"appearName",value:function(e){this.toggleName(e)}},{key:"toggleName",value:function(e){this.names&&this.names.changeName(e)}},{key:"disappearName",value:function(){this.names&&this.names.disappear()}},{key:"resetState",value:function(){this.grid.removeListeners(),this.menu.toggler.removeEventListener("click",this.gridToSlider),this.menu.addListeners(),this.menu.animateToggleOut(),this.hover.activePlane=null,this.hover.disappear(!0),this.hover.destroy(),this.hideElements()}},{key:"addListeners",value:function(){this.hasListeners||(this.slider&&this.slider.gridOpener.addEventListener("click",this.sliderToGrid),this.nav&&this.nav.opener.addEventListener("click",this.sliderToNav),this.hasListeners=!0)}},{key:"removeListeners",value:function(){this.hasListeners&&(this.slider&&this.slider.gridOpener.removeEventListener("click",this.sliderToGrid),this.nav&&this.nav.opener.removeEventListener("click",this.sliderToNav),this.hasListeners=!1)}},{key:"init",value:function(){var e=this;this.bottomText=(wr.nextContainer||document).querySelector(".grid__bottom-text"),this.bottomLogo=(wr.nextContainer||document).querySelector(".grid__bottom-logo"),this.menu=ao,this.navLogo=document.querySelector(".nav__logo"),this.grid=new ml((function(){e.slider.gridOpener.addEventListener("click",e.onFirstClick),e.nav.opener.addEventListener("click",e.onFirstClick)})),this.slider=new Dl(this.grid),this.nav=new Tl(this.grid),this.hover=new Ol(this.grid),this.names=new Ll(this.grid)}},{key:"destroy",value:function(){this.removeListeners(),this.menu=null,this.grid&&(this.grid.destroy(),this.grid=null),this.nav&&(this.nav.destroy(),this.nav=null),this.hover&&(this.hover.destroy(),this.hover=null),this.slider=null}},{key:"resize",value:function(){this.grid&&this.grid.resize(),this.nav&&this.nav.resize(),this.hover&&this.hover.resize(),this.addListeners()}}])&&Il(t.prototype,i),n&&Il(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ql(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Rl=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ql(this,"render",(function(){t.gl.useProgram(t.programInfo.program),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),Object(eo.setUniforms)(t.programInfo,{p:t.progress.v});for(var e=t.planes.length-1;e>=(Dr.device>1?0:2);e--){var i=t.planes[t.planes.length-1-e];t.gl.activeTexture(t.gl.TEXTURE0),t.gl.bindTexture(t.gl.TEXTURE_2D,t.baseTexture),t.gl.activeTexture(t.gl.TEXTURE1),t.gl.bindTexture(t.gl.TEXTURE_2D,i.texture),Object(eo.setUniforms)(t.programInfo,{r:i.element.ratio,iR:i.element.imageRatio,o:i.opacity.v,s:i.saturation.v,t:[i.translate.x,i.translate.y]}),Object(eo.setBuffersAndAttributes)(t.gl,t.programInfo,i.bufferInfo),Object(eo.drawBufferInfo)(t.gl,i.bufferInfo,t.gl.TRIANGLE_FAN)}t.renderId=requestAnimationFrame(t.render)})),ql(this,"onImageLoad",(function(e){var i=yr.get("page");if("home"===i){var n=t.elements.find((function(t){return t.id===e.loaderId}));n&&(n.img=e.img)}var r=vr.get("loaderManager");t.loadedImages.push(e),"home"===i&&Ho.updateMobileProgress(t.loadedImages.length/r.initial.length*100),Dr.device>=2&&!wr.isIos&&uo.updateProgress(t.loadedImages.length/r.initial.length*100),t.loadedImages.length===r.initial.length&&t.onLoadAll()})),this.elements=[],this.planes=[],this.loadedImages=[],this.progress={v:1},this.init()}var t,i,n;return t=e,(i=[{key:"calculateSizes",value:function(){this.height=Dr.window.height-(Dr.nav.heightHome+Dr.footer.heightHome)*Dr.window.height,this.scale=this.height/(.4*Dr.window.height),this.ho=Br(.128/Dr.window.ratio,Dr.window.width)*this.scale,this.ratios=[.67,.92],this.widths=[Mr(this.height*this.ratios[0]),Mr(this.height*this.ratios[1])],this.destCenter=1-Dr.nav.heightHome+(-1+Dr.footer.heightHome)}},{key:"getElements",value:function(){var e=this,t=this.images.length?this.images[0].parentNode:null;t&&(kn.set(t,{width:Dr.device>0?this.widths[0]+this.widths[1]:Dr.window.width}),this.images.forEach((function(t,i){var n=e.ratios[i%2],r=e.widths[i%2],o=e.height;kn.set(t,{width:r,height:o,zIndex:2-i});var a=t.getBoundingClientRect(),s=a.top,l=a.left;e.elements.push({el:t,img:null,width:r,height:o,ratio:n,top:s,left:l,imageRatio:parseFloat(t.getAttribute("data-img-ratio")),z:parseFloat(t.getAttribute("data-z")),id:i})})))}},{key:"createPlanes",value:function(){var e=this;this.elements.forEach((function(t,i){var n=Rr(t.width,Dr.window.width),r=Rr(t.height,Dr.window.height),o=jr({x:t.left,y:t.top,c:Dr.window}),a=jr({x:t.left+t.width,y:t.top+t.height,c:Dr.window}),s=[o.x,o.y,a.x,o.y,a.x,a.y,o.x,a.y],l=Math.ceil(i/2)*(e.widths[0]+e.ho)+Math.floor(i/2)*(e.widths[1]+e.ho),u=jr({x:Dr.navPadding[Dr.device>1?"desk":"mobile"]*Dr.window.width+l,y:Dr.window.height-Dr.footer.heightHome*Dr.window.height,c:Dr.window}),c=Object(eo.createTexture)(e.gl,{width:1,height:1});e.planes.push({element:t,width:n,height:r,top:o.y,right:a.x,bottom:a.y,left:o.x,vertices:s,uvs:[0,1,1,1,1,0,0,0],texture:c,opacity:{v:0},saturation:{v:0},translate:{x:0,y:0},finalTranslate:u})}))}},{key:"setTextures",value:function(){var e=this;this.baseTexture=Object(eo.createTexture)(this.gl,{width:1,height:1,src:new Uint8Array([161,162,166,255])}),this.planes.forEach((function(t){Object(eo.setTextureFromElement)(e.gl,t.texture,t.element.img,{flipY:!0})}))}},{key:"bindPlanesBuffers",value:function(){var e=this;this.planes.forEach((function(t){t.bufferInfo=Object(eo.createBufferInfoFromArrays)(e.gl,{pos:{numComponents:2,data:t.vertices},uv:{numComponents:2,data:t.uvs}})}))}},{key:"requestRender",value:function(){this.renderId=requestAnimationFrame(this.render)}},{key:"cancelRender",value:function(){cancelAnimationFrame(this.renderId)}},{key:"enterHome",value:function(){var e=this,t=kn.timeline({onStart:function(){no.hide(),setTimeout((function(){Cr.changeMeta(Cr.bgColor)}),2e3)}}),i=vr.get("textSplit");this.loadLetters.forEach((function(e){i.create(e,{type:"lines",linesClass:"line-parent"}),i.create(e.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"})}));var n=this.loadLettersContainer.querySelectorAll(".line-child");if(t.to(this.circle,{duration:1.2,opacity:1}).to(this.circle,{duration:3,rotation:"720deg",ease:mi.easeInOut},"-=0.2").to(n,{duration:.35,stagger:.03,color:"#fff",onStart:function(){uo.hideProgress()}},2.3).to(n,{duration:.7,stagger:.06,y:"-110%",skewY:"-5deg",ease:gi.easeInOut},"-=1.1").add(Ho.hideMobileProgress(),"-=0.6").to(this.fadeEls,{duration:.6,opacity:0},"-=0.2").to(this.bg,{duration:1,opacity:0,ease:mi.easeIn}),t.to(this.logo,{duration:1,opacity:0},"-=1").add(Ho.menuReveal()).add(Ho.revealPage(),"-=0.4"),Dr.device>0){var r=this.planes[1],o=this.planes[2];this.planes[1]=o,this.planes[2]=r}this.planes.forEach((function(e,t){kn.to(e.opacity,{duration:.7,v:.01*e.element.z})})),kn.to(this.progress,{duration:1,v:0,onComplete:function(){e.planes.forEach((function(t,i){kn.timeline().to(t.opacity,{duration:1.8,v:1,delay:1+.5*i,ease:mi.easeInOut}).to(t.saturation,{duration:1.8,v:1,ease:mi.easeInOut},"-=1.8").to(t.translate,{duration:1.5,x:t.left-t.finalTranslate.x+.001,y:t.bottom-t.finalTranslate.y,ease:mi.easeInOut,onComplete:function(){if(Dr.device>=2&&(uo.activateMovement(),uo.getReady()),i===e.planes.length-1){var t=vr.get("gridManager");t&&t.grid&&t.slider&&(t.slider.setProgress(0),e.destroy(),t.grid.start(e.loadedImages),t.grid.addListeners(),t.slider.shouldUpdate=!0,e.container.remove())}}},4)}))}})}},{key:"initHome",value:function(){this.canvas=_r.el,this.gl=_r.gl,this.images=Array.from(document.querySelectorAll(".js-intro-img")),this.content=document.querySelectorAll(".js-intro-loader-anim"),this.logo=document.querySelector(".js-intro-logo"),this.circle=document.querySelector(".js-intro-circle"),this.fadeEls=document.querySelectorAll(".js-intro-fade"),this.loadLettersContainer=document.querySelector(".js-intro-loader-loading-text-container"),this.loadLetters=this.loadLettersContainer.querySelectorAll(".intro-loader__loading-text-char"),this.calculateSizes(),this.getElements()}},{key:"startHome",value:function(){this.canvas&&this.images.length&&(Dr.device<1&&this.images.splice(2),this.gl&&(kn.set(this.canvas,{zIndex:1e3}),this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.programInfo=Object(eo.createProgramInfo)(this.gl,["#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float r;\nuniform float iR;\nuniform vec2 t; // translate\n\nattribute vec2 pos;\nattribute vec2 uv;\n\nvarying vec2 v_uv;\n\nvoid main () {\n  gl_Position = vec4(pos.x-t.x,pos.y-t.y,0.,1.);\n  v_uv = .5+(uv-.5)*vec2(min(r/iR,1.),(min(iR/r,1.)));\n}","#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D tex;\nuniform sampler2D tex2;\nuniform float o; // opacity\nuniform float s; // saturation\nuniform float p; // progress\n\nvarying vec2 v_uv;\n\nconst vec3 g = vec3(0.2125, 0.7154, 0.0721);\nvec3 saturate (vec3 c, float p) {\n  return mix(vec3(dot(c, g)), c, p);\n}\n\nvoid main () {\n  vec4 color1 = texture2D(tex,v_uv);\n  vec4 color2 = texture2D(tex2,v_uv);\n  gl_FragColor = vec4(saturate(vec4(mix(color2, color1, p)).xyz, s), o);\n  gl_FragColor.rgb *= gl_FragColor.a;\n}\n"],["pos","uv"]),Object(eo.resizeCanvasToDisplaySize)(this.gl.canvas,window.devicePixelRatio),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.useProgram(this.programInfo.program),this.gl.activeTexture(this.gl.TEXTURE0),this.createPlanes(),this.setTextures(),this.bindPlanesBuffers(),Object(eo.setUniforms)(this.programInfo,{tex:this.baseTexture,tex2:this.planes[0].texture}),this.requestRender(),this.enterHome()))}},{key:"enterOther",value:function(){var e=this,t=yr.get("page");kn.timeline({onStart:function(){switch(uo.hideProgress(),(2!==Dr.device||wr.isIos)&&(e.loadedImages&&e.loadedImages.length&&e.loadedImages.forEach((function(e){return vr.call("imageLoader","onLazyLoad",e)})),kn.to(e.mobileCircle,{duration:.3,opacity:0})),t){case"single-case":case"single-article":case"about":case"journal":lu.afterImageLoad();break;case"not-found":var i=vr.get("loaderManager");i&&Kr.init(i.initial)}},onComplete:function(){switch(e.destroy(),t){case"single-case":case"single-article":case"about":case"journal":case"not-found":break;default:lu.afterImageLoad()}}}).set(this.bg,{opacity:0,onComplete:function(){no.prepareInitialLoad()}}).add(no.moveMain({value:0,type:"load",onComplete:function(){Dr.device>=2&&(uo.activateMovement(),uo.getReady()),e.destroy(),e.container.remove(),no.hide()}})).add(Ho.menuReveal()).add(Ho.revealPage(),"-=1.2")}},{key:"loadInitial",value:function(e){var t=this,i=vr.get("loaderManager");i&&(i.initial.length?(Dr.device>=2&&(uo.showProgress(),uo.appearFirstTime()),"home"===yr.get("page")&&(Ho.showMobileProgress(),Ho.setMobileProgress("0%")),setTimeout((function(){i.initial.forEach((function(i,n){vr.call("imageLoader","load",i,t.onImageLoad),e&&e()}))}),2500)):setTimeout((function(){t.onLoadAll(!0),e&&e()}),1e3))}},{key:"onLoadAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=yr.get("page");"home"===i?this.startHome():t&&Dr.device>=2?uo.appearFirstTime(!0,(function(){e.enterOther()})):this.enterOther()}},{key:"start",value:function(e){"home"===yr.get("page")&&(this.initHome(),kn.to(this.content,{duration:1,opacity:1,stagger:.18,ease:gi.easeOut})),this.loadInitial(e)}},{key:"init",value:function(){this.container=document.querySelector(".js-intro"),this.bg=document.querySelector(".js-intro-bg"),this.path=document.querySelectorAll(".js-intro-path"),this.mobileCircle=document.querySelector(".js-intro-loader-circle")}},{key:"destroy",value:function(){var e=this;this.gl&&(this.cancelRender(),this.gl.deleteTexture(this.baseTexture),this.planes.forEach((function(t){e.gl.deleteTexture(t.texture)})),this.gl.disable(this.gl.DEPTH_TEST),_r.resetState(),this.programInfo=null,this.gl=null)}}])&&jl(t.prototype,i),n&&jl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var zl=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.clipHeight=.8,this.pixelHeight=Br(this.clipHeight,Dr.window.height),this.ratios=[.67,.92],this.clipWidths=[Mr(this.ratios[0]*this.clipHeight/Dr.window.ratio),Mr(this.ratios[1]*this.clipHeight/Dr.window.ratio)],this.pixelWidths=this.clipWidths.map((function(e){return Br(e,Dr.window.width)})),this.maxScale=(2-2*(Dr.nav.heightHome+Dr.footer.heightHome))/this.clipHeight,this.maxPlaneWidth=this.pixelWidths[1]*this.maxScale,this.maxPlaneHeight=this.pixelHeight*this.maxScale}},{key:"reinit",value:function(){this.init()}}])&&Bl(t.prototype,i),n&&Bl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Nl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Hl=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(e){if(r.loadedImages++,r.loadedImages==r.initial.length){var t=vr.get("gridManager");t&&t.grid&&t.slider&&(t.slider.setProgress(0),t.grid.start(r.initial),t.grid.addListeners(),t.slider.shouldUpdate=!0)}},(i="onGridImageLoad")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.images=[],this.initial=[],this.lazy=[],this.lastId=-1}var t,i,n;return t=e,(i=[{key:"addImages",value:function(e){var t=this,i=this.lastId;return e.forEach((function(e){return t.addImage(e)})),this.images.filter((function(e){return e.id>i}))}},{key:"addImage",value:function(e){this.lastId++,e.setAttribute("data-img-id",this.lastId);var t=e.clientWidth,i=e.hasAttribute("data-ratio")?t/parseFloat(e.getAttribute("data-ratio")):e.clientHeight;return this.images.push({el:e,id:this.lastId,src:JSON.parse(e.getAttribute("data-img"))||JSON.parse(e.getAttribute("data-slide"))||JSON.parse(e.getAttribute("data-next-img")),isInitial:e.hasAttribute("data-load-initial"),isLazy:e.hasAttribute("data-lazy"),isWebgl:e.hasAttribute("data-webgl"),isHtml:e.hasAttribute("data-html"),isSlide:e.hasAttribute("data-slide"),isNext:e.hasAttribute("data-next-img"),cW:t,cH:i,cR:e.hasAttribute("data-ratio")?parseFloat(e.getAttribute("data-ratio")):i/t}),this.images[this.images.length-1]}},{key:"initHome",value:function(e){var t=this;lu.beforeImageLoad([]),vr.add("gridManager",new Ml);var i=vr.get("gridManager");i&&i.grid&&(i.grid.categories.forEach((function(e){e.projects.forEach((function(e,t){e.image.loaderId=t,e.image.id=e.id,e.image.src=e.image.url,e.image.src.ratio=e.image.ratio,e.image.cW=zl.maxPlaneWidth,e.image.cH=zl.maxPlaneHeight,e.image.isWebgl=!0}))})),this.initial=i.grid.categories[0].projects.map((function(e){return e.image})),e?this.initial.length&&this.initial.forEach((function(e,i){vr.call("imageLoader","load",e,t.onGridImageLoad)})):this.loader.start())}},{key:"setup",value:function(){var e=this;"home"===yr.get("page")?this.initHome():(this.getImages(),this.initial=this.images.filter((function(e){return e.isInitial})),lu.beforeImageLoad(this.images),this.loader.start((function(){e.startLazy()})))}},{key:"getImages",value:function(){var e=this;this.images=[],Array.from((wr.nextContainer||document).querySelectorAll("[data-img]")).forEach((function(t){e.addImage(t)}))}},{key:"startLazy",value:function(e){this.lazyLoader=new ul(e?this.images:this.images.filter((function(e){return e.isLazy})))}},{key:"init",value:function(){this.loader=new Rl,this.setup()}},{key:"reset",value:function(){this.images=[],this.initial=[],this.lazy=[],this.loadedImages=0,this.lastId=-1}}])&&Nl(t.prototype,i),n&&Nl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ul(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Wl=function(){function e(){var t,i,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(){r.userInteracted=!0,window.removeEventListener("click",r.onFirstInteraction),window.removeEventListener("touchstart",r.onFirstInteraction),r.videos.forEach((function(e){e.playOnInteraction&&r.tryPlay(e)}))},(i="onFirstInteraction")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.videos=[],this.init()}var t,i,n;return t=e,(i=[{key:"listenFirstInteraction",value:function(){this.userInteracted||(window.addEventListener("click",this.onFirstInteraction),window.addEventListener("touchstart",this.onFirstInteraction))}},{key:"tryPlay",value:function(e){e.promise||(e.promise=e.el.play(),e.promise.then((function(t){e.hasPlayed=!0})).catch((function(t){console.warn("PROMISE ERROR",t),e.playOnInteraction=!0,e.promise=null})))}},{key:"get",value:function(e){return this.videos.find((function(t){return t.container.isSameNode(e)}))}},{key:"load",value:function(e,t){e.downloading=!0,e.el.src=e.url,e.el.load(),e.el.addEventListener("loadeddata",(function(i){e.ratio=e.el.videoWidth/e.el.videoHeight,e.loaded=!0,e.downloading=!1,e.downloaded=!0,e.el.play(),t&&t(e)})),e.el.addEventListener("play",(function(t){e.hasPlayed=!0,e.isPlaying=!0})),e.el.addEventListener("pause",(function(t){e.isPlaying=!1})),e.el.addEventListener("ended",(function(t){e.el.currentTime=0,e.el.play()}))}},{key:"initObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){var i=e.videos.find((function(e){return e.container.isSameNode(t.target)}));(t.isIntersecting||t.intersectionRatio>0)&&i&&(i.downloaded||i.downloading||e.load(i,(function(i){e.observer.unobserve(t.target)})))}))})),Dr.device>1&&(this.videos.forEach((function(t){e.observer.observe(t.container)})),this.isObserving=!0)}},{key:"init",value:function(){var e=this;document.querySelectorAll("[data-video]").forEach((function(t,i){var n=t.querySelector("video");n&&(n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.muted=!0,n.preload="auto",e.videos.push({id:i,container:t,url:t.getAttribute("data-video"),el:n,isTeam:t.hasAttribute("data-team"),isVisible:!1,isPlaying:!1}))})),this.initObserver(),this.listenFirstInteraction()}},{key:"destroy",value:function(){this.videos=[]}},{key:"resize",value:function(){var e=this;Dr.device>1?this.isObserving||(this.videos.forEach((function(t){t.downloaded&&t.downloading||e.observer.observe(t.container)})),this.isObserving=!0):this.isObserving&&(this.videos.forEach((function(t){e.observer.unobserve(t.container)})),this.isObserving=!1)}}])&&Ul(t.prototype,i),n&&Ul(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Vl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bg=(wr.nextContainer||document).querySelector(".js-case-hero-bg-inner"),this.cta=(wr.nextContainer||document).querySelector(".case-hero__scroll"),this.letters=(wr.nextContainer||document).querySelectorAll(".case-hero__scroll-text .char"),this.path=(wr.nextContainer||document).querySelectorAll(".case-hero__scroll-icon path"),this.firstSection=(wr.nextContainer||document).querySelector(".js-case-intro"),this.image=(wr.nextContainer||document).querySelector(".js-case-hero-img"),this.shouldScroll="single-case"===yr.get("page"),this.init()}var t,i,n;return t=e,(i=[{key:"animate",value:function(e){var t=e/Dr.window.height;this.cta&&kn.set(this.cta,{y:Pr(t,0,1,0,-.6*Dr.window.height)}),this.bg&&kn.set(this.bg,{y:Pr(t,0,1,0,-Dr.window.height/2)}),this.letters&&this.letters.length&&kn.to(this.letters,{duration:0,opacity:function(e){return 1-t*(e+4)}}),this.path&&kn.set(this.path,{opacity:1-t})}},{key:"onScroll",value:function(e){var t=e.scroll;this.shouldScroll&&Dr.device>1&&!wr.isIos&&t.changed&&t.y<=Dr.window.height&&this.animate(t.y)}},{key:"manageFirstSection",value:function(){if(this.image&&this.firstSection){var e=vr.get("scrollManager"),t=this.image.getBoundingClientRect(),i=t.height,n=(e&&e.scroll?e.scroll.y:0)+t.top-wr.oldContainerHeight,r=getComputedStyle(this.firstSection).paddingBottom;r=parseInt(r.substring(0,r.length-2));var o=Ur(i+n-Dr.window.height+r,r,1500);kn.set(this.firstSection,{paddingTop:o})}}},{key:"resize",value:function(){this.manageFirstSection(),Dr.device<2&&!wr.isIos&&this.animate(0)}},{key:"init",value:function(){this.manageFirstSection()}}])&&Yl(t.prototype,i),n&&Yl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Gl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.navLogo=document.querySelector(".nav__logo"),this.navToggle=document.querySelector(".nav__toggle"),this.navCategories=(wr.nextContainer||document).querySelector(".nav-case-categories");var t=yr.get("page");this.shouldScroll="single-case"===t||"about"===t,this.mobileLastScrollTop=0}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;if(this.shouldScroll&&Dr.device<2&&t.changed){var i=t.y>this.mobileLastScrollTop;this.navLogo&&this.navLogo.classList.toggle("is-case-scroll",i),this.navToggle&&this.navToggle.classList.toggle("is-case-scroll",i),this.navCategories&&this.navCategories.classList.toggle("is-case-scroll",i),this.mobileLastScrollTop=t.y<=0?0:t.y}}}])&&Xl(t.prototype,i),n&&Xl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zl(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Kl=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zl(this,"openMobileMenu",(function(){t.isAnimatingMenu||t.isMobileNavOpen||kn.timeline({onStart:function(){vr.call("scrollManager","disableScroll"),no.prepareChange(),no.show(),document.body.classList.add("is-side-menu-open"),t.isAnimatingMenu=!0},onComplete:function(){t.isMobileNavOpen=!0,t.isAnimatingMenu=!1}}).set(t.mobileMenu.el,{pointerEvents:"auto",visibility:"visible",zIndex:422}).call(no.moveMain,[{duration:1,value:Dr.window.height,type:"side-menu"}]).to(t.mobileMenu.numberLines,{duration:1,yPercent:0,skewY:"0deg",stagger:.1,ease:gi.easeInOut},"+=0.3").to(t.mobileMenu.nameLines,{duration:1,yPercent:0,skewY:"0deg",stagger:.1,ease:gi.easeInOut},"-=1.1").to(t.mobileMenu.lines,{duration:.4,scaleX:1,ease:yi.easeInOut,stagger:.1,onComplete:function(){kn.set(t.mobileMenu.lines,{transformOrigin:"right center"})}},"-=1.2").to(t.mobileMenu.closeLines,{duration:.5,scaleX:1,stagger:.1,ease:yi.easeInOut},"-=1")})),Zl(this,"closeMobileMenu",(function(e){t.closeAction()})),Zl(this,"goToSection",(function(e){e.preventDefault();var i=e.currentTarget.getAttribute("href"),n=document.querySelector(i);t.closeAction((function(){t.isAnimatingFast=!0,vr.call("anchorScroll","jumpTo",n,{offset:Dr.window.height*Dr.nav.height,callback:function(){t.isAnimatingFast=!1}})}))})),this.navHeight=0,this.hero={el:null,height:0},this.title={el:null,width:0,height:0,scale:.77,currentScale:1,isTransformed:!1,isHideNext:!1},this.sidebar={el:null,height:0,finalTranslate:0,top:0,isTransformed:!1,isTranslatingNext:!1,isNextFinal:!1,isHideNext:!1},this.item={height:0,translateOffset:0,margin:26},this.next={el:null,top:0,switchHidden:!1},this.mobileMenu={el:null},this.mobileNavCategories={el:null},this.genericMargin=50,this.items=[],this.sections=[],this.activeCategory="",this.isMobileNavOpen=!1,this.isAnimatingMenu=!1,this.isAnimatingCategory=!1,this.isAnimatingFast=!1,this.hasRemovedClone=!1,this.shouldScroll="single-case"===yr.get("page"),this.init()}var t,i,n;return t=e,(i=[{key:"getSizes",value:function(){var e=this,t=vr.get("scrollManager"),i=t&&t.scroll?t.scroll.y:0;this.navHeight=Dr.window.height*Dr.nav.height,this.hero.height=this.hero.el.clientHeight,this.title.width=this.title.el.clientWidth/this.title.currentScale,this.title.height=this.title.el.clientHeight/this.title.currentScale,this.title.initialPosition=Dr.window.height/2-this.title.height/2,this.title.initialTranslate=this.title.height/2,this.title.finalTranslate=Dr.window.height/2-this.navHeight+this.title.height*(1-this.title.scale),this.sidebar.height=Dr.window.height-(this.navHeight+2*this.genericMargin+this.title.height*this.title.scale),this.sidebar.finalTranslate=this.sidebar.height+this.genericMargin,this.sidebar.top=this.sidebar.el.getBoundingClientRect().top,this.item.height=this.items[0].el.clientHeight,this.item.translateOffset=.5*Dr.window.height,this.items.forEach((function(t,i){t.bottom=(e.items.length-1-i)*(e.item.height+e.item.margin),t.finalTranslate=-(e.sidebar.height-t.bottom-e.item.height-i*(e.item.height+e.item.margin)),t.translateOffsetStart=t.section.top-e.item.translateOffset,t.lineOffsetStart=t.section.top,t.lineOffsetEnd=t.lineOffsetStart+t.section.height})),this.next.top=i+this.next.el.getBoundingClientRect().top-wr.oldContainerHeight}},{key:"setPositions",value:function(){var e=kn.timeline();e.set(this.title.el,{yPercent:0,y:-this.title.initialTranslate}).set(this.sidebar.el,{height:this.sidebar.height}),this.items.forEach((function(t){e.set(t.el,{bottom:t.bottom})}))}},{key:"linkSections",value:function(){var e=this;this.items.forEach((function(t){t.section=e.sections.find((function(e){if(e.category===t.category)return e.item=t,!0}))}))}},{key:"checkHeader",value:function(e){var t=this,i=e.scroll;if(i.y<this.title.finalTranslate){var n=i.y/this.title.finalTranslate,r=kn.timeline();r.to(this.title.el,{duration:.3,y:Math.min(n*-this.title.finalTranslate,-this.title.initialTranslate),scale:this.title.scale+(1-n)*(1-this.title.scale),ease:gi.easeOut,onUpdate:function(){t.title.currentScale=t.title.scale+(1-n)*(1-t.title.scale)*r.progress()},onComplete:function(){t.title.currentScale=t.title.scale+(1-n)*(1-t.title.scale)}}).to(this.sidebar.el,.3,{duration:.3,y:n*-this.sidebar.finalTranslate,ease:gi.easeOut},0),this.title.offset=this.title.initialPosition+Math.min(n*-this.title.finalTranslate,-this.title.initialTranslate)+this.title.height,this.sidebar.offset=Dr.window.height-n*this.sidebar.finalTranslate,this.title.isTransformed=!1,this.sidebar.isTransformed=!1}else{if(!this.title.isTransformed){var o=kn.to(this.title.el,{duration:.3,y:-this.title.finalTranslate,scale:this.title.scale,onStart:function(){return t.title.isTransformed=!0},onUpdate:function(){t.title.currentScale=t.title.scale*o.progress()},onComplete:function(){t.title.currentScale=t.title.scale}});this.title.offset=this.title.initialPosition-this.title.finalTranslate+this.title.height}this.sidebar.isTransformed||(kn.to(this.sidebar.el,{duration:.3,y:-this.sidebar.finalTranslate,onStart:function(){return t.sidebar.isTransformed=!0}}),this.sidebar.offset=Dr.window.height-this.sidebar.finalTranslate)}}},{key:"checkItems",value:function(e){var t=this,i=e.scroll;this.items.forEach((function(e){if(i.y<e.translateOffsetStart)e.isTranslateInitial&&!e.isTranslateFinal||kn.to(e.el,{duration:.2,y:0,force3D:!0,onStart:function(){e.isTranslateInitial=!0,e.isTranslateFinal=!1}}),e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2;else if(i.y>=e.translateOffsetStart&&i.y<e.lineOffsetStart){var n=(i.y-e.translateOffsetStart)/t.item.translateOffset;e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2+n*e.finalTranslate,kn.to(e.el,{duration:.2,y:n*e.finalTranslate,force3D:!0}),e.isTranslateInitial=!1,e.isTranslateFinal=!1}else i.y>=e.lineOffsetStart&&i.y<e.lineOffsetEnd?(!e.isTranslateInitial&&e.isTranslateFinal||(kn.to(e.el,{duration:.2,y:e.finalTranslate,force3D:!0,onStart:function(){e.isTranslateInitial=!1,e.isTranslateFinal=!0}}),e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2+e.finalTranslate),e.isScaleInitial=!1,e.isScaleFinal=!1):!e.isTranslateInitial&&e.isTranslateFinal||(kn.to(e.el,{duration:.2,y:e.finalTranslate,force3D:!0,onStart:function(){e.isTranslateInitial=!1,e.isTranslateFinal=!0}}),e.offset=t.sidebar.offset+t.sidebar.height-e.bottom-t.item.height/2+e.finalTranslate)}))}},{key:"checkDisappear",value:function(e){var t=this,i=e.scroll;if(!this.isOnNext){var n=!1,r=!1,o=!1,a=!1;this.disappearSections.forEach((function(e){e.top-i.y<=t.items[t.items.length-1].offset+t.item.height/2&&e.bottom-i.y>=Dr.window.height-t.sidebar.finalTranslate&&(n=!0,e.hideZ&&(r=!0)),e.top-i.y<=t.title.offset+t.title.height/2&&e.bottom-i.y>=t.title.offset+t.title.height/2&&(o=!0,e.hideZ&&(a=!0))})),n?this.sidebar.isHidden||(r&&Dr.device>2?this.sidebar.el.setAttribute("data-hide",""):this.sidebar.el.setAttribute(r?"data-hide-z":"data-hide",""),this.sidebar.isHidden=!0):this.sidebar.isHidden&&(this.sidebar.el.removeAttribute("data-hide"),this.sidebar.el.removeAttribute("data-hide-z"),this.sidebar.isHidden=!1),o?this.title.isHidden||(a&&Dr.device>2?this.title.el.setAttribute("data-hide",""):this.title.el.setAttribute(a?"data-hide-z":"data-hide",""),this.title.isHidden=!0):this.title.isHidden&&(this.title.el.removeAttribute("data-hide"),this.title.el.removeAttribute("data-hide-z"),this.title.isHidden=!1)}}},{key:"checkNext",value:function(e){var t=e.scroll;if(t.changed){var i=Dr.window.height-this.sidebar.finalTranslate+this.sidebar.height;t.y+i>=this.next.top?(this.isOnNext=!0,this.title.isHideNext||(this.title.el.setAttribute("data-hide","fast"),this.title.isHideNext=!0),this.sidebar.isHideNext||(this.sidebar.el.setAttribute("data-hide","fast"),this.sidebar.isHideNext=!0)):(this.isOnNext=!1,this.title.isHideNext&&!this.title.isHidden&&(this.title.el.removeAttribute("data-hide"),this.title.isHideNext=!1),this.sidebar.isHideNext&&!this.sidebar.isHidden&&(this.sidebar.el.removeAttribute("data-hide"),this.sidebar.isHideNext=!1))}}},{key:"hideMobileMenu",value:function(){kn.set(this.mobileMenu.closeLines,{scaleX:0}),kn.set(this.mobileMenu.numberLines,{yPercent:120,skewY:"3deg"}),kn.set(this.mobileMenu.nameLines,{yPercent:120,skewY:"3deg"}),kn.set(this.mobileMenu.lines,{scaleX:0})}},{key:"closeAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isAnimatingMenu&&this.isMobileNavOpen){var i=kn.timeline({onStart:function(){e.isAnimatingMenu=!0}});i.to(this.mobileMenu.closeLines,{duration:.5,scaleX:0,stagger:.1,ease:yi.easeInOut}).to(this.mobileMenu.lines,{duration:.45,scaleX:0,stagger:.1,onComplete:function(){kn.set(e.mobileMenu.lines,{transformOrigin:"left center"})},ease:yi.easeInOut},"-=0.5").to(this.mobileMenu.numberLines,{duration:.8,yPercent:-120,skewY:"-3deg",stagger:.1,ease:gi.easeInOut},"-=1").to(this.mobileMenu.nameLines,{duration:.8,yPercent:-120,skewY:"-3deg",stagger:.1,ease:gi.easeInOut},"-=1.2").call(no.moveMain,[{duration:1,value:0,type:"side-menu",onComplete:function(){vr.call("scrollManager","enableScroll"),kn.set(e.mobileMenu.numberLines,{yPercent:120,skewY:"3deg"}),kn.set(e.mobileMenu.nameLines,{yPercent:120,skewY:"3deg"}),kn.set(e.mobileMenu.el,{pointerEvents:"none",visibility:"hidden",zIndex:-1}),e.isMobileNavOpen=!1,e.isAnimatingMenu=!1,no.hide(),document.body.classList.remove("is-side-menu-open"),t&&t()}}],"-=0.6")}}},{key:"addMobileListeners",value:function(){this.mobileNavCategories.el.addEventListener("click",this.openMobileMenu),this.mobileMenu.closer.addEventListener("click",this.closeMobileMenu);for(var e=0;e<this.mobileMenu.links.length;e++)this.mobileMenu.links[e].addEventListener("click",this.goToSection)}},{key:"removeMobileListeners",value:function(){this.mobileNavCategories.el.removeEventListener("click",this.openMobileMenu),this.mobileMenu.closer.removeEventListener("click",this.closeMobileMenu);for(var e=0;e<this.mobileMenu.links.length;e++)this.mobileMenu.links[e].removeEventListener("click",this.goToSection)}},{key:"createNextElement",value:function(e){var t=document.createElement("div");t.className="nav-case-categories__active-element nom";var i=document.createElement("p");i.className="h6",i.textContent=e.charAt(0).toUpperCase()+e.slice(1),t.appendChild(i),kn.set(t,{yPercent:100}),this.mobileNavCategories.wrap.appendChild(t),this.mobileNavCategories.categories=this.mobileNavCategories.wrap.querySelectorAll(".nav-case-categories__active-element")}},{key:"changeActiveCategory",value:function(e){var t=this;this.createNextElement(e),kn.timeline({delay:.1,onStart:function(){t.isAnimatingCategory=!0,t.hasRemovedClone=!1},onComplete:function(){t.mobileNavCategories.categories[1]&&t.mobileNavCategories.categories[1].removeAttribute("style"),t.mobileNavCategories.categories&&t.mobileNavCategories.categories.length>0&&t.mobileNavCategories.categories[0]&&!t.hasRemovedClone&&(kr(t.mobileNavCategories.categories[0]),t.hasRemovedClone=!0),t.isAnimatingCategory=!1}}).to(this.mobileNavCategories.categories[0],{duration:.5,yPercent:-100}).to(this.mobileNavCategories.categories[1],{duration:.5,yPercent:0},"-=0.5")}},{key:"checkActiveCategory",value:function(e){var t=this,i=e.scroll;this.mobileNavCategories&&this.mobileNavCategories.el&&(i.y>=Dr.window.height?this.mobileNavCategories.el.classList.add("is-active"):this.mobileNavCategories.el.classList.remove("is-active")),this.sections.forEach((function(e){i.y>=e.top&&i.y<e.top+e.height&&(t.isAnimatingCategory||e.category===t.activeCategory||t.isAnimatingFast||(t.activeCategory=e.category,t.changeActiveCategory(e.category)))}))}},{key:"onScroll",value:function(e){var t=e.scroll;t.changed&&this.shouldScroll&&(Dr.device>=2&&!Dr.isFakeMobile?this.onDeskScroll({scroll:t}):this.onMobileScroll({scroll:t}))}},{key:"onDeskScroll",value:function(e){var t=e.scroll;this.shouldScroll&&this.hero.el&&this.title.el&&this.sidebar.el&&(this.checkHeader({scroll:t}),this.checkItems({scroll:t}),this.checkNext({scroll:t}),this.checkDisappear({scroll:t}))}},{key:"onMobileScroll",value:function(e){var t=e.scroll;this.shouldScroll&&this.checkActiveCategory({scroll:t})}},{key:"prepareNavDisappear",value:function(){var e=this,t=vr.get("scrollManager"),i=t&&t.scroll?t.scroll.y:0,n=(wr.nextContainer||document).querySelectorAll('[data-switch="hide"]');this.disappearSections=[],n.forEach((function(t){var n=t.getBoundingClientRect();e.disappearSections.push({section:t,top:i+n.top-wr.oldContainerHeight,bottom:i+n.top+n.height-wr.oldContainerHeight,hideZ:t.hasAttribute("data-hide-z")})}))}},{key:"deskInit",value:function(e){var t=this;if(this.hero.el=(wr.nextContainer||document).querySelector(".js-case-hero"),this.title.el=(wr.nextContainer||document).querySelector(".js-case-title"),this.sidebar.el=(wr.nextContainer||document).querySelector(".js-case-side"),this.next.el=(wr.nextContainer||document).querySelector(".js-case-next-measure"),this.hero.el&&this.title.el&&this.sidebar.el&&this.next.el){this.prepareNavDisappear();var i=this.sidebar.el.querySelectorAll("[data-category]"),n=(wr.nextContainer||document).querySelectorAll("[data-section]");i.forEach((function(e,i){var n=e.getAttribute("data-category");t.items.push({el:e,line:e.querySelector(".js-case-side-line"),category:n,section:null,finalTranslate:0,translateOffsetStart:0,lineOffsetStart:0,lineOffsetEnd:0,isTranslateInitial:!0,isTranslateFinal:!1,isScaleInitial:!0,isScaleFinal:!1})})),n.forEach((function(e){var i=e.getAttribute("data-section"),n=e.getBoundingClientRect(),r=vr.get("scrollManager"),o=r&&r.scroll?r.scroll.y:0;t.sections.push({el:e,category:i,height:n.height,top:o+n.top-wr.oldContainerHeight})})),this.sectionsEnd=this.sections[this.sections.length-1].top+this.sections[this.sections.length-1].height,this.linkSections(),this.getSizes(),this.setPositions()}e||(this.titleColor=this.title.el?this.title.el.getAttribute("data-color"):"#000000")}},{key:"mobileInit",value:function(){var e=this;if(this.mobileMenu.el=(wr.nextContainer||document).querySelector(".js-case-mobile-menu"),this.mobileMenu.closer=(wr.nextContainer||document).querySelector(".js-case-mobile-menu-close"),this.mobileMenu.links=(wr.nextContainer||document).querySelectorAll(".case-mobile-menu__link"),this.mobileMenu.numberLines=(wr.nextContainer||document).querySelectorAll(".case-mobile-menu__number .line-child"),this.mobileMenu.nameLines=(wr.nextContainer||document).querySelectorAll(".case-mobile-menu__name .line-child"),this.mobileMenu.lines=(wr.nextContainer||document).querySelectorAll(".js-case-mobile-menu-line"),this.mobileMenu.closeLines=(wr.nextContainer||document).querySelectorAll(".case-mobile-menu__close-icon"),this.mobileNavCategories.el=(wr.nextContainer||document).querySelector(".js-nav-case-categories"),this.mobileNavCategories.wrap=(wr.nextContainer||document).querySelector(".nav-case-categories__wrap"),this.mobileMenu.el&&this.mobileNavCategories.el){var t=this.mobileMenu.el.querySelectorAll("[data-category]"),i=(wr.nextContainer||document).querySelectorAll("[data-section]");t.forEach((function(t,i){var n=t.getAttribute("data-category");e.items.push({el:t,category:n,section:null})}));var n=vr.get("scrollManager"),r=n&&n.scroll?n.scroll.y:0;i.forEach((function(t){var i=t.getAttribute("data-section"),n=t.getBoundingClientRect();e.sections.push({el:t,category:i,height:n.height,top:r+n.top-wr.oldContainerHeight})})),this.linkSections(),this.hideMobileMenu(),this.addMobileListeners()}}},{key:"init",value:function(e){this.items=[],this.sections=[],Dr.device>=2&&!Dr.isFakeMobile?this.deskInit(e):this.mobileInit(e)}},{key:"resize",value:function(){this.items.length&&(kn.set(this.items.map((function(e){return e.el})),{clearProps:"all"}),this.items=[],this.sections=[],this.init(!0),this.title.isTransformed=!1,this.sidebar.isTransformed=!1,this.items.forEach((function(e){e.isTranslateInitial=!1,e.isTranslateFinal=!1,e.isScaleInitial=!1,e.isScaleFinal=!1})))}}])&&$l(t.prototype,i),n&&$l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Jl(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ql=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasWebpSupport=vr.get("imageLoader").hasWebpSupport,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){var e=this;this.src=document.querySelector("[data-noise]")?document.querySelector("[data-noise]").getAttribute("data-noise"):null,this.els=document.querySelectorAll(".js-noise"),this.src&&this.els.forEach((function(t){return t.setAttribute("style","background-image:url('".concat(e.src).concat(e.hasWebpSupport?".webp":"","');"))}))}}])&&Jl(t.prototype,i),n&&Jl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function eu(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var tu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=document.querySelectorAll("[data-plax]"),this.plaxes=[],this.tolerance=Dr.window.height,this.init()}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;if(this.elements.length>0&&t.changed&&Dr.device>=3)for(var i=0;i<this.plaxes.length;i++){var n=this.plaxes[i];t.y>=n.startPoint&&t.y<n.endPoint&&kn.set(n.el,{y:"".concat(-parseInt((t.y-n.startPoint)/7,10),"px")})}}},{key:"destroy",value:function(){}},{key:"resize",value:function(){this.tolerance=Dr.window.height}},{key:"init",value:function(){if(this.elements.length&&Dr.device>=3){this.plaxes=[];for(var e=vr.get("scrollManager"),t=e&&e.scroll?e.scroll.y:0,i=0;i<this.elements.length;i++){var n=this.elements[i].getBoundingClientRect(),r=n.top+t;this.plaxes.push({el:this.elements[i],offsetTop:r,startPoint:r-wr.oldContainerHeight-this.tolerance,endPoint:n.y-wr.oldContainerHeight+this.tolerance})}}}}])&&eu(t.prototype,i),n&&eu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function iu(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var nu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=[],this.init()}var t,i,n;return t=e,(i=[{key:"onScroll",value:function(e){var t=e.scroll;this.elements.length&&Dr.device>1&&t.changed&&this.elements.forEach((function(e){t.y<=e.offset?(kn.set(e.el,{yPercent:0,y:-e.height/2-t.y}),e.hasExited=!1):e.hasExited||(kn.set(e.el,{yPercent:0,y:-e.offset-e.height/2}),e.hasExited=!0)}))}},{key:"init",value:function(){var e=this,t=(wr.nextContainer||document).querySelectorAll(".js-article-intro-el"),i=vr.get("scrollManager"),n=i&&i.scroll?i.scroll.y:0;t.forEach((function(t){var i=t.getBoundingClientRect();e.elements.push({el:t,top:n+i.top,height:i.height,offset:n+i.top+i.height,hasExited:!1})}))}}])&&iu(t.prototype,i),n&&iu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ru(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ou(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var au=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ou(this,"goPrev",(function(){t.isAnimatingSlide||(t.activeIndex=0===t.activeIndex?t.slides.length-1:t.activeIndex-1,t.isAnimatingSlide=!0,t.onSlideChange())})),ou(this,"goNext",(function(){t.isAnimatingSlide||(t.activeIndex=t.activeIndex+1===t.slides.length?0:t.activeIndex+1,t.isAnimatingSlide=!0,t.onSlideChange())}));var i=(wr.nextContainer||document).querySelector(".js-next-slider-container");null!=i&&(this.container=i,this.activeIndex=0,this.isAnimatingSlide=!1,this.hasAttachedListeners=!1,this.init())}var t,i,n;return t=e,(i=[{key:"setupDimensions",value:function(){var e=this.titleWrap.querySelector("p");kn.set(this.titleWrap,{height:"".concat(e.getBoundingClientRect().height,"px")})}},{key:"setupListeners",value:function(){this.prevButton&&this.nextButton&&(this.prevButton.addEventListener("click",this.goPrev),this.nextButton.addEventListener("click",this.goNext),this.hasAttachedListeners=!0)}},{key:"removeListeners",value:function(){this.hasAttachedListeners&&(this.prevButton&&this.nextButton&&(this.prevButton.removeEventListener("click",this.goPrev),this.nextButton.removeEventListener("click",this.goNext)),this.hasAttachedListeners=!1)}},{key:"setupIndex",value:function(){this.indexNum.textContent="0".concat(this.activeIndex+1)}},{key:"setup",value:function(){this.slider=this.container.querySelector(".js-next-articles-slider"),this.slides=this.container.querySelectorAll(".js-next-articles-slider-item"),this.titleWrap=this.container.querySelector(".js-next-articles-slider-title-wrap"),this.mainLink=this.container.querySelector(".js-next-articles-slider-main-link"),this.indexWrap=this.container.querySelector(".js-next-articles-slider-index-wrap"),this.indexNum=this.container.querySelector(".js-next-articles-slider-index"),this.prevButton=this.container.querySelector(".js-next-articles-slider-prev"),this.nextButton=this.container.querySelector(".js-next-articles-slider-next"),this.setupDimensions(),this.setupListeners(),this.indexNum&&this.setupIndex()}},{key:"appendItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"articles-slider__wrap-el",o=document.createDocumentFragment(),a=document.createElement("div"),s=document.createElement(t);s.textContent=e,""!==i&&(s.className=i),a.appendChild(s),a.className=r,kn.set(a,{opacity:0,position:"absolute",top:0,left:0}),o.appendChild(a),n.appendChild(o)}},{key:"animateTitle",value:function(){var e=vr.get("textSplit"),t=this.titleWrap.querySelectorAll(".articles-slider__wrap-el"),i=t[0].querySelectorAll(".line-child"),n=t[1].querySelector("p"),r=kn.timeline();return r.to(i,{duration:.65,y:"-100%",stagger:.125,ease:pi.easeInOut}).set(t[0],{opacity:0,onComplete:function(){e.create(n,{type:"lines",linesClass:"line-parent"}),e.create(n.querySelectorAll(".line-parent"),{type:"lines",linesClass:"line-child"});var i=t[1].querySelectorAll(".line-child");kn.set(i,{y:"100%"}),kn.set(t[1],{opacity:1}),kr(t[0]),kn.to(i,{duration:.55,y:"0%",stagger:.2})}}),r}},{key:"animateIndex",value:function(){var e=this.container.querySelectorAll(".next-articles-slider__index-el");kn.set(e[1],{y:"100%",skewY:"8deg",opacity:1});var t=kn.timeline({onComplete:function(){kn.set(e[1],{position:"relative",top:"auto",left:"auto"}),kr(e[0])}});return t.to(e[0],.7,{y:"-100%",skewY:"-8deg",ease:gi.easeInOut}).to(e[1],.7,{y:"0%",skewY:"0deg",ease:gi.easeInOut},"-=0.7"),t}},{key:"onSlideChange",value:function(){var e=this,t=this.slides[this.activeIndex],i=t.dataset.title,n=t.dataset.url;this.appendItem(i,"p","h4",this.titleWrap),this.appendItem("0".concat(this.activeIndex+1),"div","",this.indexWrap,"next-articles-slider__index-el"),this.mainLink.setAttribute("href",n),kn.timeline({onComplete:function(){e.isAnimatingSlide=!1}}).add(this.animateTitle()).add(this.animateIndex(),"-=0.6")}},{key:"onResize",value:function(){this.setup()}},{key:"destroy",value:function(){this.removeListeners()}},{key:"init",value:function(){this.setup()}}])&&ru(t.prototype,i),n&&ru(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function su(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}kn.registerPlugin(Hn,cr);var lu=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"beforeImageLoad",value:function(e){_r.init(),vr.add("videoLoader",new Wl),vr.add("noise",new Ql),vr.add("anchorScroll",new Bo),vr.add("fixedHeight",new qo),vr.add("textSplit",new No),vr.add("linkHover",new Fo),vr.add("ratio",new go),vr.add("readMore",new bo),vr.add("scrollManager",new Fs),vr.add("caseIntro",new Vl),vr.add("caseSide",new Kl),vr.add("caseMobileNav",new Gl),vr.add("articleIntro",new nu),vr.add("nextArticleSlider",new au),vr.add("hoverSwitch",new Rs),vr.add("sliderManager",new mo),vr.add("scrollGL",new il(e)),vr.add("contactManager",new Co),vr.add("parallaxManager",new tu),vr.add("journal",new Xo),vr.add("journalSide",new $o),vr.add("scrollAnimator",new ol),vr.call("scrollManager","add",vr.get("caseIntro")),vr.call("scrollManager","add",vr.get("caseSide")),vr.call("scrollManager","add",vr.get("caseMobileNav")),vr.call("scrollManager","add",vr.get("articleIntro")),vr.call("scrollManager","add",vr.get("journalSide")),vr.call("scrollManager","add",vr.get("hoverSwitch")),vr.call("scrollManager","add",vr.get("parallaxManager")),vr.call("scrollManager","add",vr.get("scrollGL"))}},{key:"afterImageLoad",value:function(e){var t=vr.get("loaderManager");t&&(vr.call("scrollGL","start",e?null:t.initial,e),"not-found"===yr.get("page")&&Kr.init(t.initial))}},{key:"reinit",value:function(){Dr.reinit(),zl.reinit(),_r.onChange();var e=vr.get("loaderManager"),t=yr.get("page");e&&(vr.call("loaderManager","reset"),"home"===t?vr.call("loaderManager","initHome",!0):(vr.call("loaderManager","getImages"),vr.call("loaderManager","startLazy",!0),this.beforeImageLoad(e.images),this.afterImageLoad(!0)))}},{key:"init",value:function(){var e=this;window.addEventListener("DOMContentLoaded",(function(){document.documentElement.className="js",document.body.classList.toggle("is-touch",Ir()),yr.setMainOptions(),wr.init(),document.body.classList.toggle("is-ios",wr.isIos),Oo.init(),Cr.changeBg(yr.get("activeBg"),.3),Cr.changeMeta("#201D1E",!1),vr.add("imageLoader",new sl,!0),vr.add("router",new fo,!0),Wo.init()})),window.addEventListener("load",(function(){Dr.init(),vr.add("layout",Dr,!0),uo.init(),zl.init(),no.init();var t=new Hl;vr.add("loaderManager",t,!0),t.init({onStart:function(t){e.beforeImageLoad(t)},onComplete:function(t){e.afterImageLoad(t)}}),ao.init()})),window.addEventListener("resize",Tr((function(){Dr.resize(),document.body.classList.toggle("is-touch",Ir()),document.body.classList.toggle("is-ios",wr.getIos()),vr.map("resize"),ao.resize(),Kr.resize(),no.resize()}),100)),window.addEventListener("orientationchange",Tr((function(){Dr.resize(),document.body.classList.toggle("is-touch",Ir()),document.body.classList.toggle("is-ios",wr.getIos()),vr.map("resize"),ao.resize(),Kr.resize(),no.resize()}),100))}}])&&su(t.prototype,i),n&&su(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());i(91),console.info(),console.info("\n\n\nPowered by , developed by   &  .\n\n\n"),lu.init()}]);